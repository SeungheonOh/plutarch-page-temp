<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE BlockArguments #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE QuantifiedConstraints #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# OPTIONS_GHC -Wno-orphans #-}</span><span>
</span><span id="line-5"></span><span>
</span><span id="line-6"></span><span class="annot"><span class="hs-comment">{- | This module is designed to be imported qualified, as many of its
identifiers clash with the Plutarch prelude.
-}</span></span><span>
</span><span id="line-9"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Plutarch.LedgerApi.AssocMap</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-10"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Types</span></span><span>
</span><span id="line-11"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier">PMap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-12"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#KeyGuarantees"><span class="hs-identifier">KeyGuarantees</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-13"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Commutativity"><span class="hs-identifier">Commutativity</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-14"></span><span>
</span><span id="line-15"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Functions</span></span><span>
</span><span id="line-16"></span><span>
</span><span id="line-17"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Creation</span></span><span>
</span><span id="line-18"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pempty"><span class="hs-identifier">pempty</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-19"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#psingleton"><span class="hs-identifier">psingleton</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-20"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#psingletonData"><span class="hs-identifier">psingletonData</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-21"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#punsortedMapFromFoldable"><span class="hs-identifier">punsortedMapFromFoldable</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-22"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#psortedMapFromFoldable"><span class="hs-identifier">psortedMapFromFoldable</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-23"></span><span>
</span><span id="line-24"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Transformation</span></span><span>
</span><span id="line-25"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#passertSorted"><span class="hs-identifier">passertSorted</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-26"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pforgetSorted"><span class="hs-identifier">pforgetSorted</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-27"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pmap"><span class="hs-identifier">pmap</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-28"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pmapData"><span class="hs-identifier">pmapData</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-29"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pmapWithKey"><span class="hs-identifier">pmapWithKey</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-30"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pmapMaybe"><span class="hs-identifier">pmapMaybe</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-31"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pmapMaybeData"><span class="hs-identifier">pmapMaybeData</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-32"></span><span>
</span><span id="line-33"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Relational lift</span></span><span>
</span><span id="line-34"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pcheckBinRel"><span class="hs-identifier">pcheckBinRel</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-35"></span><span>
</span><span id="line-36"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Comparison</span></span><span>
</span><span id="line-37"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pkeysEqual"><span class="hs-identifier">pkeysEqual</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-38"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pkeysEqualUnsorted"><span class="hs-identifier">pkeysEqualUnsorted</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-39"></span><span>
</span><span id="line-40"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Fold</span></span><span>
</span><span id="line-41"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pall"><span class="hs-identifier">pall</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-42"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pany"><span class="hs-identifier">pany</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-43"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pfoldMapWithKey"><span class="hs-identifier">pfoldMapWithKey</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-44"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pfoldlWithKey"><span class="hs-identifier">pfoldlWithKey</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-45"></span><span>
</span><span id="line-46"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Combination</span></span><span>
</span><span id="line-47"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#punionResolvingCollisionsWith"><span class="hs-identifier">punionResolvingCollisionsWith</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-48"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#punionResolvingCollisionsWithData"><span class="hs-identifier">punionResolvingCollisionsWithData</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-49"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pleftBiasedUnion"><span class="hs-identifier">pleftBiasedUnion</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-50"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pdifference"><span class="hs-identifier">pdifference</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-51"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pzipWithDefaults"><span class="hs-identifier">pzipWithDefaults</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-52"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pintersectionWith"><span class="hs-identifier">pintersectionWith</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-53"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pintersectionWithData"><span class="hs-identifier">pintersectionWithData</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-54"></span><span>
</span><span id="line-55"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Query</span></span><span>
</span><span id="line-56"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pnull"><span class="hs-identifier">pnull</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-57"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#plookup"><span class="hs-identifier">plookup</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-58"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#plookupData"><span class="hs-identifier">plookupData</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-59"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#plookupDataWith"><span class="hs-identifier">plookupDataWith</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-60"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pfindWithDefault"><span class="hs-identifier">pfindWithDefault</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-61"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pfoldAt"><span class="hs-identifier">pfoldAt</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-62"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pfoldAtData"><span class="hs-identifier">pfoldAtData</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-63"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#ptryLookup"><span class="hs-identifier">ptryLookup</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-64"></span><span>
</span><span id="line-65"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Modification</span></span><span>
</span><span id="line-66"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pinsert"><span class="hs-identifier">pinsert</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-67"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pdelete"><span class="hs-identifier">pdelete</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-68"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pupdate"><span class="hs-identifier">pupdate</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-69"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#padjust"><span class="hs-identifier">padjust</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-70"></span><span>
</span><span id="line-71"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Key-value pair manipulation</span></span><span>
</span><span id="line-72"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pkvPairKey"><span class="hs-identifier">pkvPairKey</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-73"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pkvPairValue"><span class="hs-identifier">pkvPairValue</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-74"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pkvPairLt"><span class="hs-identifier">pkvPairLt</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-75"></span><span>
</span><span id="line-76"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Conversion</span></span><span>
</span><span id="line-77"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pkeys"><span class="hs-identifier">pkeys</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-78"></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-79"></span><span>
</span><span id="line-80"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Bifunctor.html"><span class="hs-identifier">Data.Bifunctor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Bifunctor.html#bimap"><span class="hs-identifier">bimap</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-81"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html"><span class="hs-identifier">Data.Foldable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html#foldl%27"><span class="hs-identifier">foldl'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-82"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Proxy.html"><span class="hs-identifier">Data.Proxy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Proxy.html#Proxy"><span class="hs-identifier">Proxy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Proxy.html#Proxy"><span class="hs-identifier">Proxy</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-83"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Traversable.html"><span class="hs-identifier">Data.Traversable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Traversable.html#for"><span class="hs-identifier">for</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-84"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutarch.Bool</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">PSBool</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">PSFalse</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">PSTrue</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">psfalse</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">pstrue</span></span><span class="hs-special">)</span><span>
</span><span id="line-85"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutarch.Builtin</span></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-86"></span><span>  </span><span class="annot"><span class="hs-identifier">pasMap</span></span><span class="hs-special">,</span><span>
</span><span id="line-87"></span><span>  </span><span class="annot"><span class="hs-identifier">pdataImpl</span></span><span class="hs-special">,</span><span>
</span><span id="line-88"></span><span>  </span><span class="annot"><span class="hs-identifier">pforgetData</span></span><span class="hs-special">,</span><span>
</span><span id="line-89"></span><span>  </span><span class="annot"><span class="hs-identifier">pfromDataImpl</span></span><span class="hs-special">,</span><span>
</span><span id="line-90"></span><span>  </span><span class="annot"><span class="hs-identifier">ppairDataBuiltin</span></span><span class="hs-special">,</span><span>
</span><span id="line-91"></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-92"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutarch.Internal</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">punsafeBuiltin</span></span><span class="hs-special">)</span><span>
</span><span id="line-93"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutarch.Internal.Witness</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">witness</span></span><span class="hs-special">)</span><span>
</span><span id="line-94"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.Utils.html"><span class="hs-identifier">Plutarch.LedgerApi.Utils</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.Utils.html#Mret"><span class="hs-identifier">Mret</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-95"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutarch.Lift</span></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-96"></span><span>  </span><span class="annot"><span class="hs-identifier">PConstantDecl</span></span><span class="hs-special">,</span><span>
</span><span id="line-97"></span><span>  </span><span class="annot"><span class="hs-identifier">PConstantRepr</span></span><span class="hs-special">,</span><span>
</span><span id="line-98"></span><span>  </span><span class="annot"><span class="hs-identifier">PConstanted</span></span><span class="hs-special">,</span><span>
</span><span id="line-99"></span><span>  </span><span class="annot"><span class="hs-identifier">PLifted</span></span><span class="hs-special">,</span><span>
</span><span id="line-100"></span><span>  </span><span class="annot"><span class="hs-identifier">PUnsafeLiftDecl</span></span><span class="hs-special">,</span><span>
</span><span id="line-101"></span><span>  </span><span class="annot"><span class="hs-identifier">pconstantFromRepr</span></span><span class="hs-special">,</span><span>
</span><span id="line-102"></span><span>  </span><span class="annot"><span class="hs-identifier">pconstantToRepr</span></span><span class="hs-special">,</span><span>
</span><span id="line-103"></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-104"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutarch.List</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">List</span></span><span>
</span><span id="line-105"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutarch.Prelude</span></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">pall</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">pany</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">pmap</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">pnull</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">psingleton</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">pzipWith</span></span><span class="hs-special">)</span><span>
</span><span id="line-106"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutarch.Prelude</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">PPrelude</span></span><span>
</span><span id="line-107"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutarch.TryFrom</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">PTryFrom</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">PTryFromExcess</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">ptryFrom'</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-108"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutarch.Unsafe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">punsafeCoerce</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">punsafeDowncast</span></span><span class="hs-special">)</span><span>
</span><span id="line-109"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">PlutusCore</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">PLC</span></span><span>
</span><span id="line-110"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">PlutusLedgerApi.V3</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Plutus</span></span><span>
</span><span id="line-111"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">PlutusTx.AssocMap</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">PlutusMap</span></span><span>
</span><span id="line-112"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">PlutusTx.Eq</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">PlutusTx</span></span><span>
</span><span id="line-113"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Prelude.html"><span class="hs-identifier">Prelude</span></a></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Enum.html#pred"><span class="hs-identifier">pred</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-114"></span><span>
</span><span id="line-115"></span><span class="hs-comment">-- TODO: Rename this, because this is actually a _sorting_ guarantee!</span><span>
</span><span id="line-116"></span><span>
</span><span id="line-117"></span><span class="annot"><span class="hs-comment">-- | @since 2.0.0</span></span><span>
</span><span id="line-118"></span><span class="hs-keyword">data</span><span> </span><span id="KeyGuarantees"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#KeyGuarantees"><span class="hs-identifier hs-var">KeyGuarantees</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Sorted"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-var">Sorted</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Unsorted"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Unsorted"><span class="hs-identifier hs-var">Unsorted</span></a></span></span><span>
</span><span id="line-119"></span><span>
</span><span id="line-120"></span><span class="annot"><span class="hs-comment">-- | @since 2.0.0</span></span><span>
</span><span id="line-121"></span><span class="hs-keyword">newtype</span><span> </span><span id="PMap"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-var">PMap</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679280880"><span class="annot"><a href="#local-6989586621679280880"><span class="hs-identifier hs-type">keysort</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#KeyGuarantees"><span class="hs-identifier hs-type">KeyGuarantees</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679280878"><span class="annot"><a href="#local-6989586621679280878"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679280879"><span class="annot"><a href="#local-6989586621679280879"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679280877"><span class="annot"><a href="#local-6989586621679280877"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span>
</span><span id="line-122"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="PMap"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-var">PMap</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679280877"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679280878"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679280879"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-123"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span>
</span><span id="line-124"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- | @since 2.0.0</span></span><span>
</span><span id="line-125"></span><span>      </span><span id="local-6989586621679281625"><span id="local-6989586621679281627"><span class="annot"><span class="annottext">(forall x. PMap keysort k v s -&gt; Rep (PMap keysort k v s) x)
-&gt; (forall x. Rep (PMap keysort k v s) x -&gt; PMap keysort k v s)
-&gt; Generic (PMap keysort k v s)
forall x. Rep (PMap keysort k v s) x -&gt; PMap keysort k v s
forall x. PMap keysort k v s -&gt; Rep (PMap keysort k v s) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S) x.
Rep (PMap keysort k v s) x -&gt; PMap keysort k v s
forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S) x.
PMap keysort k v s -&gt; Rep (PMap keysort k v s) x
$cfrom :: forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S) x.
PMap keysort k v s -&gt; Rep (PMap keysort k v s) x
from :: forall x. PMap keysort k v s -&gt; Rep (PMap keysort k v s) x
$cto :: forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S) x.
Rep (PMap keysort k v s) x -&gt; PMap keysort k v s
to :: forall x. Rep (PMap keysort k v s) x -&gt; PMap keysort k v s
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></a></span></span></span><span>
</span><span id="line-126"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-127"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">anyclass</span></span><span>
</span><span id="line-128"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- | @since 2.0.0</span></span><span>
</span><span id="line-129"></span><span>      </span><span id="local-6989586621679281631"><span id="local-6989586621679281637"><span class="annot"><span class="annottext">(forall (s :: S).
 PMap keysort k v s -&gt; Term s (PInner (PMap keysort k v)))
-&gt; (forall (s :: S) (b :: PType).
    Term s (PInner (PMap keysort k v))
    -&gt; (PMap keysort k v s -&gt; Term s b) -&gt; Term s b)
-&gt; PlutusType (PMap keysort k v)
forall (s :: S).
PMap keysort k v s -&gt; Term s (PInner (PMap keysort k v))
forall (s :: S) (b :: PType).
Term s (PInner (PMap keysort k v))
-&gt; (PMap keysort k v s -&gt; Term s b) -&gt; Term s b
forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S).
PMap keysort k v s -&gt; Term s (PInner (PMap keysort k v))
forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S) (b :: PType).
Term s (PInner (PMap keysort k v))
-&gt; (PMap keysort k v s -&gt; Term s b) -&gt; Term s b
forall (a :: PType).
(forall (s :: S). a s -&gt; Term s (PInner a))
-&gt; (forall (s :: S) (b :: PType).
    Term s (PInner a) -&gt; (a s -&gt; Term s b) -&gt; Term s b)
-&gt; PlutusType a
$cpcon' :: forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S).
PMap keysort k v s -&gt; Term s (PInner (PMap keysort k v))
pcon' :: forall (s :: S).
PMap keysort k v s -&gt; Term s (PInner (PMap keysort k v))
$cpmatch' :: forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S) (b :: PType).
Term s (PInner (PMap keysort k v))
-&gt; (PMap keysort k v s -&gt; Term s b) -&gt; Term s b
pmatch' :: forall (s :: S) (b :: PType).
Term s (PInner (PMap keysort k v))
-&gt; (PMap keysort k v s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">PlutusType</span></span></span></span><span>
</span><span id="line-130"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-comment">-- | @since 2.0.0</span></span><span>
</span><span id="line-131"></span><span>      </span><span id="local-6989586621679281646"><span class="annot"><span class="annottext">(forall (s :: S).
 Bool -&gt; Term s (PMap keysort k v) -&gt; Term s PString)
-&gt; PShow (PMap keysort k v)
forall (s :: S).
Bool -&gt; Term s (PMap keysort k v) -&gt; Term s PString
forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S).
(PIsData k, PIsData v, PShow k, PShow v) =&gt;
Bool -&gt; Term s (PMap keysort k v) -&gt; Term s PString
forall (t :: PType).
(forall (s :: S). Bool -&gt; Term s t -&gt; Term s PString) -&gt; PShow t
$cpshow' :: forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S).
(PIsData k, PIsData v, PShow k, PShow v) =&gt;
Bool -&gt; Term s (PMap keysort k v) -&gt; Term s PString
pshow' :: forall (s :: S).
Bool -&gt; Term s (PMap keysort k v) -&gt; Term s PString
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">PShow</span></span></span><span>
</span><span id="line-132"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-133"></span><span>
</span><span id="line-134"></span><span class="annot"><span class="hs-comment">-- | @since 2.0.0</span></span><span>
</span><span id="line-135"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679280655"><span id="local-6989586621679280656"><span id="local-6989586621679280657"><span class="annot"><span class="hs-identifier hs-type">DerivePlutusType</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280655"><span class="hs-identifier hs-type">keysort</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280656"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280657"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-136"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="DPTStrat"><span class="annot"><span class="hs-identifier hs-var">DPTStrat</span></span></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PlutusTypeNewtype</span></span><span>
</span><span id="line-137"></span><span>
</span><span id="line-138"></span><span class="annot"><span class="hs-comment">-- | @since 2.0.0</span></span><span>
</span><span id="line-139"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679280719"><span id="local-6989586621679280720"><span id="local-6989586621679280721"><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280719"><span class="hs-identifier hs-type">keysort</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280720"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280721"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-140"></span><span>  </span><span id="local-6989586621679281695"><span class="annot"><span class="annottext">pfromDataImpl :: forall (s :: S).
Term s (PAsData (PMap keysort k v)) -&gt; Term s (PMap keysort k v)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">pfromDataImpl</span></span></span><span> </span><span id="local-6989586621679281696"><span class="annot"><span class="annottext">Term s (PAsData (PMap keysort k v))
</span><a href="#local-6989586621679281696"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair PData PData))
-&gt; Term s (PMap keysort k v)
forall (s :: S) (a :: PType) (b :: PType). Term s a -&gt; Term s b
</span><span class="hs-identifier hs-var">punsafeCoerce</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair PData PData))
 -&gt; Term s (PMap keysort k v))
-&gt; Term s (PBuiltinList (PBuiltinPair PData PData))
-&gt; Term s (PMap keysort k v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PData :--&gt; PBuiltinList (PBuiltinPair PData PData))
forall (s :: S).
Term s (PData :--&gt; PBuiltinList (PBuiltinPair PData PData))
</span><span class="hs-identifier hs-var">pasMap</span></span><span> </span><span class="annot"><span class="annottext">Term s (PData :--&gt; PBuiltinList (PBuiltinPair PData PData))
-&gt; Term s PData -&gt; Term s (PBuiltinList (PBuiltinPair PData PData))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData (PMap keysort k v)) -&gt; Term s PData
forall (s :: S) (a :: PType). Term s (PAsData a) -&gt; Term s PData
</span><span class="hs-identifier hs-var">pforgetData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData (PMap keysort k v))
</span><a href="#local-6989586621679281696"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-141"></span><span>  </span><span id="local-6989586621679281698"><span class="annot"><span class="annottext">pdataImpl :: forall (s :: S). Term s (PMap keysort k v) -&gt; Term s PData
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">pdataImpl</span></span></span><span> </span><span id="local-6989586621679281699"><span class="annot"><span class="annottext">Term s (PMap keysort k v)
</span><a href="#local-6989586621679281699"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DefaultFun -&gt; Term s (PMap keysort k v :--&gt; PData)
forall (s :: S) (a :: PType). DefaultFun -&gt; Term s a
</span><span class="hs-identifier hs-var">punsafeBuiltin</span></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.MapData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap keysort k v :--&gt; PData)
-&gt; Term s (PMap keysort k v) -&gt; Term s PData
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap keysort k v)
</span><a href="#local-6989586621679281699"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-142"></span><span>
</span><span id="line-143"></span><span class="annot"><span class="hs-comment">-- | @since 2.0.0</span></span><span>
</span><span id="line-144"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679280747"><span id="local-6989586621679280748"><span class="annot"><span class="hs-identifier hs-type">PEq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280747"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280748"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-145"></span><span>  </span><span id="local-6989586621679281704"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679281704"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679281705"><span class="annot"><span class="annottext">#== :: forall (s :: S).
Term s (PMap 'Sorted k v)
-&gt; Term s (PMap 'Sorted k v) -&gt; Term s PBool
</span><a href="#local-6989586621679281705"><span class="hs-operator hs-var hs-var hs-var hs-var">#==</span></a></span></span><span> </span><span id="local-6989586621679281707"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679281707"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))
forall (s :: S).
Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))
</span><a href="#local-6989586621679281708"><span class="hs-identifier hs-var">peqViaData</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))
-&gt; Term s (PMap 'Sorted k v)
-&gt; Term s (PMap 'Sorted k v :--&gt; PBool)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679281704"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v :--&gt; PBool)
-&gt; Term s (PMap 'Sorted k v) -&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679281707"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-146"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-147"></span><span>      </span><span class="annot"><a href="#local-6989586621679281708"><span class="hs-identifier hs-type">peqViaData</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-148"></span><span>        </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679280750"><span class="annot"><a href="#local-6989586621679280750"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-149"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679280750"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280747"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280748"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280747"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280748"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBool</span></span><span class="hs-special">)</span><span>
</span><span id="line-150"></span><span>      </span><span id="local-6989586621679281708"><span class="annot"><span class="annottext">peqViaData :: forall (s :: S).
Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))
</span><a href="#local-6989586621679281708"><span class="hs-identifier hs-var hs-var">peqViaData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall (s :: S).
 Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool)))
-&gt; Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">((forall (s :: S).
  Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool)))
 -&gt; Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool)))
-&gt; (forall (s :: S).
    Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool)))
-&gt; Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PMap 'Sorted k v)
 -&gt; Term s (PMap 'Sorted k v) -&gt; Term s PBool)
-&gt; Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap 'Sorted k v) -&gt; Term s PBool)
-&gt; Term s (c :--&gt; (PMap 'Sorted k v :--&gt; PBool))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PMap 'Sorted k v)
  -&gt; Term s (PMap 'Sorted k v) -&gt; Term s PBool)
 -&gt; Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool)))
-&gt; (Term s (PMap 'Sorted k v)
    -&gt; Term s (PMap 'Sorted k v) -&gt; Term s PBool)
-&gt; Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679281725"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679281725"><span class="hs-identifier hs-var">m0</span></a></span></span><span> </span><span id="local-6989586621679281726"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679281726"><span class="hs-identifier hs-var">m1</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v) -&gt; Term s (PAsData (PMap 'Sorted k v))
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><span class="hs-identifier hs-var">pdata</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679281725"><span class="hs-identifier hs-var">m0</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData (PMap 'Sorted k v))
-&gt; Term s (PAsData (PMap 'Sorted k v)) -&gt; Term s PBool
forall (s :: S).
Term s (PAsData (PMap 'Sorted k v))
-&gt; Term s (PAsData (PMap 'Sorted k v)) -&gt; Term s PBool
forall (t :: PType) (s :: S).
PEq t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><span class="hs-operator hs-var">#==</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v) -&gt; Term s (PAsData (PMap 'Sorted k v))
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><span class="hs-identifier hs-var">pdata</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679281726"><span class="hs-identifier hs-var">m1</span></a></span><span>
</span><span id="line-151"></span><span>
</span><span id="line-152"></span><span class="annot"><span class="hs-comment">-- | @since 2.0.0</span></span><span>
</span><span id="line-153"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-154"></span><span>  </span><span id="local-6989586621679280790"><span id="local-6989586621679280791"><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PlutusTx.Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PLifted</span></span><span> </span><span class="annot"><a href="#local-6989586621679280790"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-155"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PLiftData</span></span><span> </span><span class="annot"><a href="#local-6989586621679280790"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-156"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PLiftData</span></span><span> </span><span class="annot"><a href="#local-6989586621679280791"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-157"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-type">Ord</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PLifted</span></span><span> </span><span class="annot"><a href="#local-6989586621679280790"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-158"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-159"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">PUnsafeLiftDecl</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Unsorted"><span class="hs-identifier hs-type">Unsorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280790"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280791"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-160"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-161"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="PLifted"><span class="annot"><span class="hs-identifier hs-var">PLifted</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Unsorted"><span class="hs-identifier hs-type">Unsorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280790"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280791"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PlutusMap.Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PLifted</span></span><span> </span><span class="annot"><a href="#local-6989586621679280790"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PLifted</span></span><span> </span><span class="annot"><a href="#local-6989586621679280791"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-162"></span><span>
</span><span id="line-163"></span><span class="annot"><span class="hs-comment">-- | @since 2.0.0</span></span><span>
</span><span id="line-164"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-165"></span><span>  </span><span id="local-6989586621679280788"><span id="local-6989586621679280789"><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PlutusTx.Eq</span></span><span> </span><span class="annot"><a href="#local-6989586621679280788"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-166"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PConstantData</span></span><span> </span><span class="annot"><a href="#local-6989586621679280788"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-167"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PConstantData</span></span><span> </span><span class="annot"><a href="#local-6989586621679280789"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-168"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-type">Ord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280788"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-169"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-170"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">PConstantDecl</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PlutusMap.Map</span></span><span> </span><span class="annot"><a href="#local-6989586621679280788"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280789"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-171"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-172"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="PConstantRepr"><span class="annot"><span class="hs-identifier hs-var">PConstantRepr</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PlutusMap.Map</span></span><span> </span><span class="annot"><a href="#local-6989586621679280788"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280789"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Plutus.Data</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Plutus.Data</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-173"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="PConstanted"><span class="annot"><span class="hs-identifier hs-var">PConstanted</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PlutusMap.Map</span></span><span> </span><span class="annot"><a href="#local-6989586621679280788"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280789"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Unsorted"><span class="hs-identifier hs-type">Unsorted</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PConstanted</span></span><span> </span><span class="annot"><a href="#local-6989586621679280788"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PConstanted</span></span><span> </span><span class="annot"><a href="#local-6989586621679280789"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-174"></span><span>  </span><span id="local-6989586621679281825"><span class="annot"><span class="annottext">pconstantToRepr :: Map k v -&gt; PConstantRepr (Map k v)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">pconstantToRepr</span></span></span><span> </span><span id="local-6989586621679281826"><span class="annot"><span class="annottext">Map k v
</span><a href="#local-6989586621679281826"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(k -&gt; Data) -&gt; (v -&gt; Data) -&gt; (k, v) -&gt; (Data, Data)
forall a b c d. (a -&gt; b) -&gt; (c -&gt; d) -&gt; (a, c) -&gt; (b, d)
forall (p :: Type -&gt; Type -&gt; Type) a b c d.
Bifunctor p =&gt;
(a -&gt; b) -&gt; (c -&gt; d) -&gt; p a c -&gt; p b d
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Bifunctor.html#bimap"><span class="hs-identifier hs-var">bimap</span></a></span><span> </span><span class="annot"><span class="annottext">k -&gt; Data
forall a. ToData a =&gt; a -&gt; Data
</span><span class="hs-identifier hs-var">Plutus.toData</span></span><span> </span><span class="annot"><span class="annottext">v -&gt; Data
forall a. ToData a =&gt; a -&gt; Data
</span><span class="hs-identifier hs-var">Plutus.toData</span></span><span> </span><span class="annot"><span class="annottext">((k, v) -&gt; (Data, Data)) -&gt; [(k, v)] -&gt; [(Data, Data)]
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Map k v -&gt; [(k, v)]
forall k v. Map k v -&gt; [(k, v)]
</span><span class="hs-identifier hs-var">PlutusMap.toList</span></span><span> </span><span class="annot"><span class="annottext">Map k v
</span><a href="#local-6989586621679281826"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-175"></span><span>  </span><span id="local-6989586621679281842"><span class="annot"><span class="annottext">pconstantFromRepr :: PConstantRepr (Map k v) -&gt; Maybe (Map k v)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">pconstantFromRepr</span></span></span><span> </span><span id="local-6989586621679281843"><span class="annot"><span class="annottext">PConstantRepr (Map k v)
</span><a href="#local-6989586621679281843"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([(k, v)] -&gt; Map k v) -&gt; Maybe [(k, v)] -&gt; Maybe (Map k v)
forall a b. (a -&gt; b) -&gt; Maybe a -&gt; Maybe b
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">[(k, v)] -&gt; Map k v
forall k v. Eq k =&gt; [(k, v)] -&gt; Map k v
</span><span class="hs-identifier hs-var">PlutusMap.safeFromList</span></span><span> </span><span class="annot"><span class="annottext">(Maybe [(k, v)] -&gt; Maybe (Map k v))
-&gt; Maybe [(k, v)] -&gt; Maybe (Map k v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-176"></span><span>    </span><span class="annot"><span class="annottext">[(Data, Data)] -&gt; ((Data, Data) -&gt; Maybe (k, v)) -&gt; Maybe [(k, v)]
forall (t :: Type -&gt; Type) (f :: Type -&gt; Type) a b.
(Traversable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f (t b)
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Traversable.html#for"><span class="hs-identifier hs-var">for</span></a></span><span> </span><span class="annot"><span class="annottext">[(Data, Data)]
PConstantRepr (Map k v)
</span><a href="#local-6989586621679281843"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">(((Data, Data) -&gt; Maybe (k, v)) -&gt; Maybe [(k, v)])
-&gt; ((Data, Data) -&gt; Maybe (k, v)) -&gt; Maybe [(k, v)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679281845"><span class="annot"><span class="annottext">Data
</span><a href="#local-6989586621679281845"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679281846"><span class="annot"><span class="annottext">Data
</span><a href="#local-6989586621679281846"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-177"></span><span>      </span><span id="local-6989586621679281847"><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679281847"><span class="hs-identifier hs-var">x'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Data -&gt; Maybe k
forall a. FromData a =&gt; Data -&gt; Maybe a
</span><span class="hs-identifier hs-var">Plutus.fromData</span></span><span> </span><span class="annot"><span class="annottext">Data
</span><a href="#local-6989586621679281845"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-178"></span><span>      </span><span id="local-6989586621679281849"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679281849"><span class="hs-identifier hs-var">y'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Data -&gt; Maybe v
forall a. FromData a =&gt; Data -&gt; Maybe a
</span><span class="hs-identifier hs-var">Plutus.fromData</span></span><span> </span><span class="annot"><span class="annottext">Data
</span><a href="#local-6989586621679281846"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-179"></span><span>      </span><span class="annot"><span class="annottext">(k, v) -&gt; Maybe (k, v)
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679281847"><span class="hs-identifier hs-var">x'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679281849"><span class="hs-identifier hs-var">y'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-180"></span><span>
</span><span id="line-181"></span><span class="annot"><span class="hs-comment">-- | @since 2.0.0</span></span><span>
</span><span id="line-182"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-183"></span><span>  </span><span id="local-6989586621679280845"><span id="local-6989586621679280846"><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PTryFrom</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679280845"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-184"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PTryFrom</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679280846"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-185"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-186"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">PTryFrom</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Unsorted"><span class="hs-identifier hs-type">Unsorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280845"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280846"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-187"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-188"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="PTryFromExcess"><span class="annot"><span class="hs-identifier hs-var">PTryFromExcess</span></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Unsorted"><span class="hs-identifier hs-type">Unsorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280845"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280846"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.Utils.html#Mret"><span class="hs-identifier hs-type">Mret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Unsorted"><span class="hs-identifier hs-type">Unsorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280845"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280846"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-189"></span><span>  </span><span id="local-6989586621679281880"><span class="annot"><span class="annottext">ptryFrom' :: forall (s :: S) (r :: PType).
Term s PData
-&gt; ((Term s (PAsData (PMap 'Unsorted k v)),
     Reduce (PTryFromExcess PData (PAsData (PMap 'Unsorted k v)) s))
    -&gt; Term s r)
-&gt; Term s r
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">ptryFrom'</span></span></span><span> </span><span id="local-6989586621679281881"><span class="annot"><span class="annottext">Term s PData
</span><a href="#local-6989586621679281881"><span class="hs-identifier hs-var">opq</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TermCont
  s
  (Term s (PAsData (PMap 'Unsorted k v)),
   Reduce (PTryFromExcess PData (PAsData (PMap 'Unsorted k v)) s))
-&gt; ((Term s (PAsData (PMap 'Unsorted k v)),
     Reduce (PTryFromExcess PData (PAsData (PMap 'Unsorted k v)) s))
    -&gt; Term s r)
-&gt; Term s r
forall (r :: PType) (s :: S) a.
TermCont s a -&gt; (a -&gt; Term s r) -&gt; Term s r
</span><span class="hs-identifier hs-var">runTermCont</span></span><span> </span><span class="annot"><span class="annottext">(TermCont
   s
   (Term s (PAsData (PMap 'Unsorted k v)),
    Reduce (PTryFromExcess PData (PAsData (PMap 'Unsorted k v)) s))
 -&gt; ((Term s (PAsData (PMap 'Unsorted k v)),
      Reduce (PTryFromExcess PData (PAsData (PMap 'Unsorted k v)) s))
     -&gt; Term s r)
 -&gt; Term s r)
-&gt; TermCont
     s
     (Term s (PAsData (PMap 'Unsorted k v)),
      Reduce (PTryFromExcess PData (PAsData (PMap 'Unsorted k v)) s))
-&gt; ((Term s (PAsData (PMap 'Unsorted k v)),
     Reduce (PTryFromExcess PData (PAsData (PMap 'Unsorted k v)) s))
    -&gt; Term s r)
-&gt; Term s r
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-190"></span><span>    </span><span id="local-6989586621679281883"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair PData PData))
</span><a href="#local-6989586621679281883"><span class="hs-identifier hs-var">opq'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term s (PBuiltinList (PBuiltinPair PData PData)) -&gt; Term s r)
 -&gt; Term s r)
-&gt; TermCont s (Term s (PBuiltinList (PBuiltinPair PData PData)))
forall a (s :: S) (r :: PType).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont s a
</span><span class="hs-identifier hs-var">tcont</span></span><span> </span><span class="annot"><span class="annottext">(((Term s (PBuiltinList (PBuiltinPair PData PData)) -&gt; Term s r)
  -&gt; Term s r)
 -&gt; TermCont s (Term s (PBuiltinList (PBuiltinPair PData PData))))
-&gt; (Term s (PBuiltinList (PBuiltinPair PData PData))
    -&gt; (Term s (PBuiltinList (PBuiltinPair PData PData)) -&gt; Term s r)
    -&gt; Term s r)
-&gt; Term s (PBuiltinList (PBuiltinPair PData PData))
-&gt; TermCont s (Term s (PBuiltinList (PBuiltinPair PData PData)))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair PData PData))
-&gt; (Term s (PBuiltinList (PBuiltinPair PData PData)) -&gt; Term s r)
-&gt; Term s r
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair PData PData))
 -&gt; TermCont s (Term s (PBuiltinList (PBuiltinPair PData PData))))
-&gt; Term s (PBuiltinList (PBuiltinPair PData PData))
-&gt; TermCont s (Term s (PBuiltinList (PBuiltinPair PData PData)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PData :--&gt; PBuiltinList (PBuiltinPair PData PData))
forall (s :: S).
Term s (PData :--&gt; PBuiltinList (PBuiltinPair PData PData))
</span><span class="hs-identifier hs-var">pasMap</span></span><span> </span><span class="annot"><span class="annottext">Term s (PData :--&gt; PBuiltinList (PBuiltinPair PData PData))
-&gt; Term s PData -&gt; Term s (PBuiltinList (PBuiltinPair PData PData))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s PData
</span><a href="#local-6989586621679281881"><span class="hs-identifier hs-var">opq</span></a></span><span>
</span><span id="line-191"></span><span>    </span><span id="local-6989586621679281887"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679281887"><span class="hs-identifier hs-var">unwrapped</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  -&gt; Term s r)
 -&gt; Term s r)
-&gt; TermCont
     s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a (s :: S) (r :: PType).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont s a
</span><span class="hs-identifier hs-var">tcont</span></span><span> </span><span class="annot"><span class="annottext">(((Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
   -&gt; Term s r)
  -&gt; Term s r)
 -&gt; TermCont
      s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
        -&gt; Term s r)
    -&gt; Term s r)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; TermCont
     s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s r)
-&gt; Term s r
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; TermCont
      s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; TermCont
     s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair PData PData
    :--&gt; PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair PData PData)
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (list :: PType -&gt; PType) (a :: PType) (b :: PType) (s :: S).
(PListLike list, PElemConstraint list a, PElemConstraint list b) =&gt;
Term s ((a :--&gt; b) :--&gt; (list a :--&gt; list b))
</span><span class="hs-identifier hs-var">List.pmap</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair PData PData
    :--&gt; PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair PData PData)
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     (PBuiltinPair PData PData
      :--&gt; PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair PData PData)
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair PData PData
   :--&gt; PBuiltinPair (PAsData k) (PAsData v))
forall (s :: S).
Term
  s
  (PBuiltinPair PData PData
   :--&gt; PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679281888"><span class="hs-identifier hs-var">ptryFromPair</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair PData PData)
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair PData PData))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair PData PData))
</span><a href="#local-6989586621679281883"><span class="hs-identifier hs-var">opq'</span></a></span><span>
</span><span id="line-192"></span><span>    </span><span class="annot"><span class="annottext">(Term s (PAsData (PMap 'Unsorted k v)),
 Term s (PMap 'Unsorted k v))
-&gt; TermCont
     s
     (Term s (PAsData (PMap 'Unsorted k v)),
      Term s (PMap 'Unsorted k v))
forall a. a -&gt; TermCont s a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s PData -&gt; Term s (PAsData (PMap 'Unsorted k v))
forall (s :: S) (a :: PType) (b :: PType). Term s a -&gt; Term s b
</span><span class="hs-identifier hs-var">punsafeCoerce</span></span><span> </span><span class="annot"><span class="annottext">Term s PData
</span><a href="#local-6989586621679281881"><span class="hs-identifier hs-var">opq</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">PMap 'Unsorted k v s -&gt; Term s (PMap 'Unsorted k v)
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">(PMap 'Unsorted k v s -&gt; Term s (PMap 'Unsorted k v))
-&gt; (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; PMap 'Unsorted k v s)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PMap 'Unsorted k v)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap 'Unsorted k v s
forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S).
Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap keysort k v s
</span><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-var">PMap</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PMap 'Unsorted k v))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PMap 'Unsorted k v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679281887"><span class="hs-identifier hs-var">unwrapped</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-193"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-194"></span><span>      </span><span class="annot"><a href="#local-6989586621679281888"><span class="hs-identifier hs-type">ptryFromPair</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-195"></span><span>        </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679280872"><span class="annot"><a href="#local-6989586621679280872"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-196"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679280872"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PData</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PData</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679280845"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679280846"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-197"></span><span>      </span><span id="local-6989586621679281888"><span class="annot"><span class="annottext">ptryFromPair :: forall (s :: S).
Term
  s
  (PBuiltinPair PData PData
   :--&gt; PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679281888"><span class="hs-identifier hs-var hs-var">ptryFromPair</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinPair PData PData)
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinPair PData PData
      :--&gt; PBuiltinPair (PAsData k) (PAsData v))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (c :--&gt; PBuiltinPair (PAsData k) (PAsData v))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PBuiltinPair PData PData)
  -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term
      s
      (PBuiltinPair PData PData
       :--&gt; PBuiltinPair (PAsData k) (PAsData v)))
-&gt; (Term s (PBuiltinPair PData PData)
    -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinPair PData PData
      :--&gt; PBuiltinPair (PAsData k) (PAsData v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679281896"><span class="annot"><span class="annottext">Term s (PBuiltinPair PData PData)
</span><a href="#local-6989586621679281896"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-198"></span><span>        </span><span class="annot"><span class="annottext">Term
  s
  (PAsData k
   :--&gt; (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term
  s
  (PAsData a
   :--&gt; (PAsData b :--&gt; PBuiltinPair (PAsData a) (PAsData b)))
</span><span class="hs-identifier hs-var">ppairDataBuiltin</span></span><span class="hs-cpp">
          # ptryFrom (pfstBuiltin # p) fst
</span><span class="hs-cpp">          # ptryFrom (psndBuiltin # p) fst
</span><span>
</span><span id="line-202"></span><span class="annot"><span class="hs-comment">-- | @since 2.0.0</span></span><span>
</span><span id="line-203"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-204"></span><span>  </span><span id="local-6989586621679280901"><span id="local-6989586621679280902"><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">POrd</span></span><span> </span><span class="annot"><a href="#local-6989586621679280901"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-205"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679280901"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-206"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679280902"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-207"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PTryFrom</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679280901"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-208"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PTryFrom</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679280902"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-209"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-210"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">PTryFrom</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280901"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280902"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-211"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-212"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="PTryFromExcess"><span class="annot"><span class="hs-identifier hs-var">PTryFromExcess</span></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280901"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280902"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.Utils.html#Mret"><span class="hs-identifier hs-type">Mret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280901"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280902"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-213"></span><span>  </span><span id="local-6989586621679281923"><span class="annot"><span class="annottext">ptryFrom' :: forall (s :: S) (r :: PType).
Term s PData
-&gt; ((Term s (PAsData (PMap 'Sorted k v)),
     Reduce (PTryFromExcess PData (PAsData (PMap 'Sorted k v)) s))
    -&gt; Term s r)
-&gt; Term s r
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">ptryFrom'</span></span></span><span> </span><span id="local-6989586621679281924"><span class="annot"><span class="annottext">Term s PData
</span><a href="#local-6989586621679281924"><span class="hs-identifier hs-var">opq</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TermCont
  s
  (Term s (PAsData (PMap 'Sorted k v)),
   Reduce (PTryFromExcess PData (PAsData (PMap 'Sorted k v)) s))
-&gt; ((Term s (PAsData (PMap 'Sorted k v)),
     Reduce (PTryFromExcess PData (PAsData (PMap 'Sorted k v)) s))
    -&gt; Term s r)
-&gt; Term s r
forall (r :: PType) (s :: S) a.
TermCont s a -&gt; (a -&gt; Term s r) -&gt; Term s r
</span><span class="hs-identifier hs-var">runTermCont</span></span><span> </span><span class="annot"><span class="annottext">(TermCont
   s
   (Term s (PAsData (PMap 'Sorted k v)),
    Reduce (PTryFromExcess PData (PAsData (PMap 'Sorted k v)) s))
 -&gt; ((Term s (PAsData (PMap 'Sorted k v)),
      Reduce (PTryFromExcess PData (PAsData (PMap 'Sorted k v)) s))
     -&gt; Term s r)
 -&gt; Term s r)
-&gt; TermCont
     s
     (Term s (PAsData (PMap 'Sorted k v)),
      Reduce (PTryFromExcess PData (PAsData (PMap 'Sorted k v)) s))
-&gt; ((Term s (PAsData (PMap 'Sorted k v)),
     Reduce (PTryFromExcess PData (PAsData (PMap 'Sorted k v)) s))
    -&gt; Term s r)
-&gt; Term s r
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-214"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679281925"><span class="annot"><span class="annottext">Term s (PAsData (PMap 'Unsorted k v))
</span><a href="#local-6989586621679281925"><span class="hs-identifier hs-var">opq'</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k v)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(((Term s (PAsData (PMap 'Unsorted k v)),
   Term s (PMap 'Unsorted k v))
  -&gt; Term s r)
 -&gt; Term s r)
-&gt; TermCont
     s
     (Term s (PAsData (PMap 'Unsorted k v)),
      Term s (PMap 'Unsorted k v))
forall a (s :: S) (r :: PType).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont s a
</span><span class="hs-identifier hs-var">tcont</span></span><span> </span><span class="annot"><span class="annottext">((((Term s (PAsData (PMap 'Unsorted k v)),
    Term s (PMap 'Unsorted k v))
   -&gt; Term s r)
  -&gt; Term s r)
 -&gt; TermCont
      s
      (Term s (PAsData (PMap 'Unsorted k v)),
       Term s (PMap 'Unsorted k v)))
-&gt; (((Term s (PAsData (PMap 'Unsorted k v)),
      Term s (PMap 'Unsorted k v))
     -&gt; Term s r)
    -&gt; Term s r)
-&gt; TermCont
     s
     (Term s (PAsData (PMap 'Unsorted k v)),
      Term s (PMap 'Unsorted k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (b :: PType) (a :: PType) (s :: S) (r :: PType).
PTryFrom a b =&gt;
Term s a
-&gt; ((Term s b, Reduce (PTryFromExcess a b s)) -&gt; Term s r)
-&gt; Term s r
</span><span class="hs-identifier hs-var">ptryFrom</span></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Unsorted"><span class="hs-identifier hs-type">Unsorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280901"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280902"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term s PData
</span><a href="#local-6989586621679281924"><span class="hs-identifier hs-var">opq</span></a></span><span>
</span><span id="line-215"></span><span>    </span><span id="local-6989586621679281926"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679281926"><span class="hs-identifier hs-var">unwrapped</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term s (PMap 'Sorted k v) -&gt; Term s r) -&gt; Term s r)
-&gt; TermCont s (Term s (PMap 'Sorted k v))
forall a (s :: S) (r :: PType).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont s a
</span><span class="hs-identifier hs-var">tcont</span></span><span> </span><span class="annot"><span class="annottext">(((Term s (PMap 'Sorted k v) -&gt; Term s r) -&gt; Term s r)
 -&gt; TermCont s (Term s (PMap 'Sorted k v)))
-&gt; ((Term s (PMap 'Sorted k v) -&gt; Term s r) -&gt; Term s r)
-&gt; TermCont s (Term s (PMap 'Sorted k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
-&gt; (Term s (PMap 'Sorted k v) -&gt; Term s r) -&gt; Term s r
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PMap 'Sorted k v)
 -&gt; (Term s (PMap 'Sorted k v) -&gt; Term s r) -&gt; Term s r)
-&gt; (Term s (PAsData (PMap 'Unsorted k v))
    -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (PAsData (PMap 'Unsorted k v))
-&gt; (Term s (PMap 'Sorted k v) -&gt; Term s r)
-&gt; Term s r
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k v :--&gt; PMap 'Sorted k v)
-&gt; Term s (PMap 'Unsorted k v) -&gt; Term s (PMap 'Sorted k v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-identifier hs-var">papp</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k v :--&gt; PMap 'Sorted k v)
forall (k :: PType) (v :: PType) (any :: KeyGuarantees) (s :: S).
(POrd k, PIsData k, PIsData v) =&gt;
Term s (PMap any k v :--&gt; PMap 'Sorted k v)
</span><a href="Plutarch.LedgerApi.AssocMap.html#passertSorted"><span class="hs-identifier hs-var">passertSorted</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PMap 'Unsorted k v) -&gt; Term s (PMap 'Sorted k v))
-&gt; (Term s (PAsData (PMap 'Unsorted k v))
    -&gt; Term s (PMap 'Unsorted k v))
-&gt; Term s (PAsData (PMap 'Unsorted k v))
-&gt; Term s (PMap 'Sorted k v)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData (PMap 'Unsorted k v))
-&gt; Term s (PMap 'Unsorted k v)
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData (PMap 'Unsorted k v))
 -&gt; (Term s (PMap 'Sorted k v) -&gt; Term s r) -&gt; Term s r)
-&gt; Term s (PAsData (PMap 'Unsorted k v))
-&gt; (Term s (PMap 'Sorted k v) -&gt; Term s r)
-&gt; Term s r
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData (PMap 'Unsorted k v))
</span><a href="#local-6989586621679281925"><span class="hs-identifier hs-var">opq'</span></a></span><span>
</span><span id="line-216"></span><span>    </span><span class="annot"><span class="annottext">(Term s (PAsData (PMap 'Sorted k v)), Term s (PMap 'Sorted k v))
-&gt; TermCont
     s (Term s (PAsData (PMap 'Sorted k v)), Term s (PMap 'Sorted k v))
forall a. a -&gt; TermCont s a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s PData -&gt; Term s (PAsData (PMap 'Sorted k v))
forall (s :: S) (a :: PType) (b :: PType). Term s a -&gt; Term s b
</span><span class="hs-identifier hs-var">punsafeCoerce</span></span><span> </span><span class="annot"><span class="annottext">Term s PData
</span><a href="#local-6989586621679281924"><span class="hs-identifier hs-var">opq</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679281926"><span class="hs-identifier hs-var">unwrapped</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-217"></span><span>
</span><span id="line-218"></span><span class="annot"><span class="hs-comment">-- | @since 2.0.0</span></span><span>
</span><span id="line-219"></span><span class="hs-keyword">data</span><span> </span><span id="Commutativity"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Commutativity"><span class="hs-identifier hs-var">Commutativity</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Commutative"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Commutative"><span class="hs-identifier hs-var">Commutative</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="NonCommutative"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#NonCommutative"><span class="hs-identifier hs-var">NonCommutative</span></a></span></span><span>
</span><span id="line-220"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span>
</span><span id="line-221"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- | @since 2.0.0</span></span><span>
</span><span id="line-222"></span><span>      </span><span id="local-6989586621679281932"><span id="local-6989586621679281934"><span class="annot"><span class="annottext">Commutativity -&gt; Commutativity -&gt; Bool
(Commutativity -&gt; Commutativity -&gt; Bool)
-&gt; (Commutativity -&gt; Commutativity -&gt; Bool) -&gt; Eq Commutativity
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: Commutativity -&gt; Commutativity -&gt; Bool
== :: Commutativity -&gt; Commutativity -&gt; Bool
$c/= :: Commutativity -&gt; Commutativity -&gt; Bool
/= :: Commutativity -&gt; Commutativity -&gt; Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span>
</span><span id="line-223"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-comment">-- | @since 2.0.0</span></span><span>
</span><span id="line-224"></span><span>      </span><span id="local-6989586621679281941"><span id="local-6989586621679281943"><span id="local-6989586621679281945"><span id="local-6989586621679281949"><span id="local-6989586621679281952"><span id="local-6989586621679281955"><span id="local-6989586621679281958"><span class="annot"><span class="annottext">Eq Commutativity
Eq Commutativity =&gt;
(Commutativity -&gt; Commutativity -&gt; Ordering)
-&gt; (Commutativity -&gt; Commutativity -&gt; Bool)
-&gt; (Commutativity -&gt; Commutativity -&gt; Bool)
-&gt; (Commutativity -&gt; Commutativity -&gt; Bool)
-&gt; (Commutativity -&gt; Commutativity -&gt; Bool)
-&gt; (Commutativity -&gt; Commutativity -&gt; Commutativity)
-&gt; (Commutativity -&gt; Commutativity -&gt; Commutativity)
-&gt; Ord Commutativity
Commutativity -&gt; Commutativity -&gt; Bool
Commutativity -&gt; Commutativity -&gt; Ordering
Commutativity -&gt; Commutativity -&gt; Commutativity
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: Commutativity -&gt; Commutativity -&gt; Ordering
compare :: Commutativity -&gt; Commutativity -&gt; Ordering
$c&lt; :: Commutativity -&gt; Commutativity -&gt; Bool
&lt; :: Commutativity -&gt; Commutativity -&gt; Bool
$c&lt;= :: Commutativity -&gt; Commutativity -&gt; Bool
&lt;= :: Commutativity -&gt; Commutativity -&gt; Bool
$c&gt; :: Commutativity -&gt; Commutativity -&gt; Bool
&gt; :: Commutativity -&gt; Commutativity -&gt; Bool
$c&gt;= :: Commutativity -&gt; Commutativity -&gt; Bool
&gt;= :: Commutativity -&gt; Commutativity -&gt; Bool
$cmax :: Commutativity -&gt; Commutativity -&gt; Commutativity
max :: Commutativity -&gt; Commutativity -&gt; Commutativity
$cmin :: Commutativity -&gt; Commutativity -&gt; Commutativity
min :: Commutativity -&gt; Commutativity -&gt; Commutativity
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span>
</span><span id="line-225"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-comment">-- | @since 2.0.0</span></span><span>
</span><span id="line-226"></span><span>      </span><span id="local-6989586621679281962"><span id="local-6989586621679281964"><span id="local-6989586621679281968"><span class="annot"><span class="annottext">Int -&gt; Commutativity -&gt; ShowS
[Commutativity] -&gt; ShowS
Commutativity -&gt; String
(Int -&gt; Commutativity -&gt; ShowS)
-&gt; (Commutativity -&gt; String)
-&gt; ([Commutativity] -&gt; ShowS)
-&gt; Show Commutativity
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; Commutativity -&gt; ShowS
showsPrec :: Int -&gt; Commutativity -&gt; ShowS
$cshow :: Commutativity -&gt; String
show :: Commutativity -&gt; String
$cshowList :: [Commutativity] -&gt; ShowS
showList :: [Commutativity] -&gt; ShowS
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span>
</span><span id="line-227"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-228"></span><span>
</span><span id="line-229"></span><span class="hs-comment">-- TODO: Rename this, because the name is confusing.</span><span>
</span><span id="line-230"></span><span>
</span><span id="line-231"></span><span class="annot"><span class="hs-comment">{- | Given a 'PMap' of uncertain order, yield a 'PMap' that is known to be
sorted.

@since 2.0.0
-}</span></span><span>
</span><span id="line-236"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#passertSorted"><span class="hs-identifier hs-type">passertSorted</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-237"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679280905"><span class="annot"><a href="#local-6989586621679280905"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679280906"><span class="annot"><a href="#local-6989586621679280906"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679280908"><span class="annot"><a href="#local-6989586621679280908"><span class="hs-identifier hs-type">any</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#KeyGuarantees"><span class="hs-identifier hs-type">KeyGuarantees</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679280907"><span class="annot"><a href="#local-6989586621679280907"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-238"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">POrd</span></span><span> </span><span class="annot"><a href="#local-6989586621679280905"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679280905"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679280906"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-239"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679280907"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280908"><span class="hs-identifier hs-type">any</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280905"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280906"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280905"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280906"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-240"></span><span id="passertSorted"><span class="annot"><span class="annottext">passertSorted :: forall (k :: PType) (v :: PType) (any :: KeyGuarantees) (s :: S).
(POrd k, PIsData k, PIsData v) =&gt;
Term s (PMap any k v :--&gt; PMap 'Sorted k v)
</span><a href="Plutarch.LedgerApi.AssocMap.html#passertSorted"><span class="hs-identifier hs-var hs-var">passertSorted</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-241"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="annot"><span class="annottext">()
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy (PIsData v) -&gt; ()
forall (c :: Constraint). c =&gt; Proxy c -&gt; ()
</span><span class="hs-identifier hs-var">witness</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy (PIsData v)
forall {k} (t :: k). Proxy t
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Proxy.html#Proxy"><span class="hs-identifier hs-var">Proxy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Proxy.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679280906"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-242"></span><span>   </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">ClosedTerm (PMap any k v :--&gt; PMap 'Sorted k v)
-&gt; Term s (PMap any k v :--&gt; PMap 'Sorted k v)
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm (PMap any k v :--&gt; PMap 'Sorted k v)
 -&gt; Term s (PMap any k v :--&gt; PMap 'Sorted k v))
-&gt; ClosedTerm (PMap any k v :--&gt; PMap 'Sorted k v)
-&gt; Term s (PMap any k v :--&gt; PMap 'Sorted k v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-243"></span><span>        </span><span class="annot"><span class="annottext">(Term s (PMap any k v) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (PMap any k v :--&gt; PMap 'Sorted k v)
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (c :--&gt; PMap 'Sorted k v)
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PMap any k v) -&gt; Term s (PMap 'Sorted k v))
 -&gt; Term s (PMap any k v :--&gt; PMap 'Sorted k v))
-&gt; (Term s (PMap any k v) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (PMap any k v :--&gt; PMap 'Sorted k v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679282011"><span class="annot"><span class="annottext">Term s (PMap any k v)
</span><a href="#local-6989586621679282011"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-244"></span><span>          </span><span class="annot"><span class="annottext">(Term
   s
   (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; (Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
    -&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S) (r :: PType).
PIsListLike list a =&gt;
(Term s (list a :--&gt; r) -&gt; Term s a -&gt; Term s (list a) -&gt; Term s r)
-&gt; (Term s (list a :--&gt; r) -&gt; Term s r) -&gt; Term s (list a :--&gt; r)
</span><span class="hs-identifier hs-var">precList</span></span><span>
</span><span id="line-245"></span><span>            </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679282013"><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
</span><a href="#local-6989586621679282013"><span class="hs-identifier hs-var">self</span></a></span></span><span> </span><span id="local-6989586621679282014"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679282014"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679282015"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679282015"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-246"></span><span>                </span><span class="annot"><span class="annottext">Term s k
-&gt; (Term s k -&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s k
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData k) -&gt; Term s k) -&gt; Term s (PAsData k) -&gt; Term s k
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; a)
</span><span class="hs-identifier hs-var">pfstBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679282014"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Term s k -&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
 -&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; (Term s k -&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679282016"><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679282016"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-247"></span><span>                  </span><span class="annot"><span class="annottext">(Term s (k :--&gt; PBool) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (c :--&gt; PMap 'Sorted k v)
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (k :--&gt; PBool) -&gt; Term s (PMap 'Sorted k v))
 -&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; (Term s (k :--&gt; PBool) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679282017"><span class="annot"><span class="annottext">Term s (k :--&gt; PBool)
</span><a href="#local-6989586621679282017"><span class="hs-identifier hs-var">badKey</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-248"></span><span>                    </span><span class="annot"><span class="annottext">Term s PBool
-&gt; Term s (PMap 'Sorted k v)
-&gt; Term s (PMap 'Sorted k v)
-&gt; Term s (PMap 'Sorted k v)
forall (s :: S) (a :: PType).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><span class="hs-identifier hs-var">pif</span></span><span>
</span><span id="line-249"></span><span>                      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (k :--&gt; PBool)
</span><a href="#local-6989586621679282017"><span class="hs-identifier hs-var">badKey</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (k :--&gt; PBool) -&gt; Term s k -&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679282016"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-250"></span><span>                      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s PString -&gt; Term s (PMap 'Sorted k v)
forall (a :: PType) (s :: S). Term s PString -&gt; Term s a
</span><span class="hs-identifier hs-var">ptraceInfoError</span></span><span> </span><span class="annot"><span class="annottext">Term s PString
</span><span class="hs-string">&quot;unsorted map&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-251"></span><span>                      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
</span><a href="#local-6989586621679282013"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679282015"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
-&gt; Term s (k :--&gt; PBool) -&gt; Term s (PMap 'Sorted k v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">(Term s k -&gt; Term s PBool) -&gt; Term s (k :--&gt; PBool)
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s PBool) -&gt; Term s (c :--&gt; PBool)
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s k -&gt; Term s k -&gt; Term s PBool
forall (s :: S). Term s k -&gt; Term s k -&gt; Term s PBool
forall (t :: PType) (s :: S).
PPartialOrd t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><span class="hs-operator hs-var">#&lt;</span></span><span> </span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679282016"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-252"></span><span>            </span><span class="hs-special">)</span><span>
</span><span id="line-253"></span><span>            </span><span class="hs-comment">-- this is actually the empty map so we can</span><span>
</span><span id="line-254"></span><span>            </span><span class="hs-comment">-- safely assume that it is sorted</span><span>
</span><span id="line-255"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
forall a b. a -&gt; b -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
 -&gt; Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
 -&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; (Term s (PMap 'Sorted k v)
    -&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; Term s (PMap 'Sorted k v)
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (k :--&gt; PBool) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (c :--&gt; PMap 'Sorted k v)
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (k :--&gt; PBool) -&gt; Term s (PMap 'Sorted k v))
 -&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; (Term s (PMap 'Sorted k v)
    -&gt; Term s (k :--&gt; PBool) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (PMap 'Sorted k v)
-&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
-&gt; Term s (k :--&gt; PBool) -&gt; Term s (PMap 'Sorted k v)
forall a b. a -&gt; b -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PMap 'Sorted k v)
 -&gt; Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
 -&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; Term s (PMap 'Sorted k v)
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap any k v) -&gt; Term s (PMap 'Sorted k v)
forall (s :: S) (a :: PType) (b :: PType). Term s a -&gt; Term s b
</span><span class="hs-identifier hs-var">punsafeCoerce</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap any k v)
</span><a href="#local-6989586621679282011"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span class="hs-cpp">
            # pto m
</span><span class="hs-cpp">            # plam (const $ pcon PFalse)
</span><span>
</span><span id="line-259"></span><span class="annot"><span class="hs-comment">{- | Construct an empty 'PMap'.

@since 2.0.0
-}</span></span><span>
</span><span id="line-263"></span><span id="local-6989586621679280944"><span id="local-6989586621679280945"><span id="local-6989586621679280946"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pempty"><span class="hs-identifier hs-type">pempty</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679280944"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280945"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280946"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-264"></span><span id="pempty"><span class="annot"><span class="annottext">pempty :: forall (s :: S) (k :: PType) (v :: PType).
Term s (PMap 'Sorted k v)
</span><a href="Plutarch.LedgerApi.AssocMap.html#pempty"><span class="hs-identifier hs-var hs-var">pempty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term s (PInner (PMap 'Sorted k v)) -&gt; Term s (PMap 'Sorted k v)
forall (s :: S) (a :: PType). Term s (PInner a) -&gt; Term s a
</span><span class="hs-identifier hs-var">punsafeDowncast</span></span><span> </span><span class="annot"><span class="annottext">Term s (PInner (PMap 'Sorted k v))
Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (PBuiltinList a)
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (list a)
</span><span class="hs-identifier hs-var">pnil</span></span><span>
</span><span id="line-265"></span><span>
</span><span id="line-266"></span><span class="annot"><span class="hs-comment">{- | Given a comparison function and a &quot;zero&quot; value, check whether a binary relation holds over
2 sorted 'PMap's.

= Important note

This is primarily intended to be used with 'PValue'. We assume that the comparison behaves like
a comparison would (thus, being at least a partial order, or possibly a total order or
equivalence), and that the starting value does not break it. Use with extreme care.

@since 2.0.0
-}</span></span><span>
</span><span id="line-277"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pcheckBinRel"><span class="hs-identifier hs-type">pcheckBinRel</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-278"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679280955"><span class="annot"><a href="#local-6989586621679280955"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679280956"><span class="annot"><a href="#local-6989586621679280956"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679280957"><span class="annot"><a href="#local-6989586621679280957"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-279"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">POrd</span></span><span> </span><span class="annot"><a href="#local-6989586621679280955"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679280955"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679280956"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-280"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span>
</span><span id="line-281"></span><span>    </span><span class="annot"><a href="#local-6989586621679280957"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-282"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679280956"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679280956"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBool</span></span><span class="hs-special">)</span><span>
</span><span id="line-283"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679280956"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-284"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280955"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280956"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-285"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280955"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280956"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-286"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBool</span></span><span>
</span><span id="line-287"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-288"></span><span id="pcheckBinRel"><span class="annot"><span class="annottext">pcheckBinRel :: forall (k :: PType) (v :: PType) (s :: S).
(POrd k, PIsData k, PIsData v) =&gt;
Term
  s
  ((v :--&gt; (v :--&gt; PBool))
   :--&gt; (v
         :--&gt; (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pcheckBinRel"><span class="hs-identifier hs-var hs-var">pcheckBinRel</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm
  ((v :--&gt; (v :--&gt; PBool))
   :--&gt; (v
         :--&gt; (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; PBool))
      :--&gt; (v
            :--&gt; (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   ((v :--&gt; (v :--&gt; PBool))
    :--&gt; (v
          :--&gt; (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))))
 -&gt; Term
      s
      ((v :--&gt; (v :--&gt; PBool))
       :--&gt; (v
             :--&gt; (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool)))))
-&gt; ClosedTerm
     ((v :--&gt; (v :--&gt; PBool))
      :--&gt; (v
            :--&gt; (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; PBool))
      :--&gt; (v
            :--&gt; (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-289"></span><span>  </span><span class="annot"><span class="annottext">(Term s (v :--&gt; (v :--&gt; PBool))
 -&gt; Term s v
 -&gt; Term s (PMap 'Sorted k v)
 -&gt; Term s (PMap 'Sorted k v)
 -&gt; Term s PBool)
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; PBool))
      :--&gt; (v
            :--&gt; (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term s v
 -&gt; Term s (PMap 'Sorted k v)
 -&gt; Term s (PMap 'Sorted k v)
 -&gt; Term s PBool)
-&gt; Term
     s
     (c
      :--&gt; (v
            :--&gt; (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (v :--&gt; (v :--&gt; PBool))
  -&gt; Term s v
  -&gt; Term s (PMap 'Sorted k v)
  -&gt; Term s (PMap 'Sorted k v)
  -&gt; Term s PBool)
 -&gt; Term
      s
      ((v :--&gt; (v :--&gt; PBool))
       :--&gt; (v
             :--&gt; (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool)))))
-&gt; (Term s (v :--&gt; (v :--&gt; PBool))
    -&gt; Term s v
    -&gt; Term s (PMap 'Sorted k v)
    -&gt; Term s (PMap 'Sorted k v)
    -&gt; Term s PBool)
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; PBool))
      :--&gt; (v
            :--&gt; (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679282082"><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; PBool))
</span><a href="#local-6989586621679282082"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679282083"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679282083"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span id="local-6989586621679282084"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679282084"><span class="hs-identifier hs-var">m1</span></a></span></span><span> </span><span id="local-6989586621679282085"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679282085"><span class="hs-identifier hs-var">m2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-290"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679282086"><span class="annot"><span class="annottext">inner :: Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBool))
</span><a href="#local-6989586621679282086"><span class="hs-identifier hs-var hs-var">inner</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; PBool))
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBool)))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBool)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (((a :--&gt; b) :--&gt; (a :--&gt; b)) :--&gt; (a :--&gt; b))
</span><span class="hs-identifier hs-var">pfix</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; PBool))
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBool)))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBool)))
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; PBool))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBool)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBool))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#$</span></span><span> </span><span class="annot"><span class="annottext">(Term
   s
   (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; PBool))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s PBool)
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; PBool))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBool)))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s PBool)
-&gt; Term
     s
     (c
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBool)))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term
    s
    (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; PBool))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  -&gt; Term s PBool)
 -&gt; Term
      s
      ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; PBool))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBool))))
-&gt; (Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; PBool))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s PBool)
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; PBool))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBool)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679282089"><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBool))
</span><a href="#local-6989586621679282089"><span class="hs-identifier hs-var">self</span></a></span></span><span> </span><span id="local-6989586621679282090"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679282090"><span class="hs-identifier hs-var">l1</span></a></span></span><span> </span><span id="local-6989586621679282091"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679282091"><span class="hs-identifier hs-var">l2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-291"></span><span>          </span><span class="annot"><span class="annottext">(Term s (PBuiltinPair (PAsData k) (PAsData v))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s PBool)
-&gt; Term s PBool
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s PBool
forall (a :: PType) (s :: S) (r :: PType).
PElemConstraint PBuiltinList a =&gt;
(Term s a -&gt; Term s (PBuiltinList a) -&gt; Term s r)
-&gt; Term s r -&gt; Term s (PBuiltinList a) -&gt; Term s r
forall (list :: PType -&gt; PType) (a :: PType) (s :: S) (r :: PType).
(PListLike list, PElemConstraint list a) =&gt;
(Term s a -&gt; Term s (list a) -&gt; Term s r)
-&gt; Term s r -&gt; Term s (list a) -&gt; Term s r
</span><span class="hs-identifier hs-var">pelimList</span></span><span>
</span><span id="line-292"></span><span>            </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679282093"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679282093"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679282094"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679282094"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-293"></span><span>                </span><span class="annot"><span class="annottext">Term s v -&gt; (Term s v -&gt; Term s PBool) -&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData v) -&gt; Term s v
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData v) -&gt; Term s v) -&gt; Term s (PAsData v) -&gt; Term s v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; b)
</span><span class="hs-identifier hs-var">psndBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679282093"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Term s v -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; (Term s v -&gt; Term s PBool) -&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679282095"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679282095"><span class="hs-identifier hs-var">v1</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-294"></span><span>                  </span><span class="annot"><span class="annottext">(Term s (PBuiltinPair (PAsData k) (PAsData v))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s PBool)
-&gt; Term s PBool
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s PBool
forall (a :: PType) (s :: S) (r :: PType).
PElemConstraint PBuiltinList a =&gt;
(Term s a -&gt; Term s (PBuiltinList a) -&gt; Term s r)
-&gt; Term s r -&gt; Term s (PBuiltinList a) -&gt; Term s r
forall (list :: PType -&gt; PType) (a :: PType) (s :: S) (r :: PType).
(PListLike list, PElemConstraint list a) =&gt;
(Term s a -&gt; Term s (list a) -&gt; Term s r)
-&gt; Term s r -&gt; Term s (list a) -&gt; Term s r
</span><span class="hs-identifier hs-var">pelimList</span></span><span>
</span><span id="line-295"></span><span>                    </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679282096"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679282096"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span id="local-6989586621679282097"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679282097"><span class="hs-identifier hs-var">ys</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TermCont s (Term s PBool) -&gt; Term s PBool
forall (a :: PType) (s :: S). TermCont s (Term s a) -&gt; Term s a
</span><span class="hs-identifier hs-var">unTermCont</span></span><span> </span><span class="annot"><span class="annottext">(TermCont s (Term s PBool) -&gt; Term s PBool)
-&gt; TermCont s (Term s PBool) -&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-296"></span><span>                        </span><span id="local-6989586621679282099"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679282099"><span class="hs-identifier hs-var">v2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term s v -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; TermCont s (Term s v)
forall a (s :: S) (r :: PType).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont s a
</span><span class="hs-identifier hs-var">tcont</span></span><span> </span><span class="annot"><span class="annottext">(((Term s v -&gt; Term s PBool) -&gt; Term s PBool)
 -&gt; TermCont s (Term s v))
-&gt; (Term s (PAsData v)
    -&gt; (Term s v -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; Term s (PAsData v)
-&gt; TermCont s (Term s v)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s v -&gt; (Term s v -&gt; Term s PBool) -&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="annot"><span class="annottext">(Term s v -&gt; (Term s v -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; (Term s (PAsData v) -&gt; Term s v)
-&gt; Term s (PAsData v)
-&gt; (Term s v -&gt; Term s PBool)
-&gt; Term s PBool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v) -&gt; Term s v
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData v) -&gt; TermCont s (Term s v))
-&gt; Term s (PAsData v) -&gt; TermCont s (Term s v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; b)
</span><span class="hs-identifier hs-var">psndBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679282096"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-297"></span><span>                        </span><span id="local-6989586621679282100"><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679282100"><span class="hs-identifier hs-var">k1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term s k -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; TermCont s (Term s k)
forall a (s :: S) (r :: PType).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont s a
</span><span class="hs-identifier hs-var">tcont</span></span><span> </span><span class="annot"><span class="annottext">(((Term s k -&gt; Term s PBool) -&gt; Term s PBool)
 -&gt; TermCont s (Term s k))
-&gt; (Term s (PAsData k)
    -&gt; (Term s k -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; Term s (PAsData k)
-&gt; TermCont s (Term s k)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; (Term s k -&gt; Term s PBool) -&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="annot"><span class="annottext">(Term s k -&gt; (Term s k -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; (Term s (PAsData k) -&gt; Term s k)
-&gt; Term s (PAsData k)
-&gt; (Term s k -&gt; Term s PBool)
-&gt; Term s PBool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s k
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData k) -&gt; TermCont s (Term s k))
-&gt; Term s (PAsData k) -&gt; TermCont s (Term s k)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; a)
</span><span class="hs-identifier hs-var">pfstBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679282093"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-298"></span><span>                        </span><span id="local-6989586621679282101"><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679282101"><span class="hs-identifier hs-var">k2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term s k -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; TermCont s (Term s k)
forall a (s :: S) (r :: PType).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont s a
</span><span class="hs-identifier hs-var">tcont</span></span><span> </span><span class="annot"><span class="annottext">(((Term s k -&gt; Term s PBool) -&gt; Term s PBool)
 -&gt; TermCont s (Term s k))
-&gt; (Term s (PAsData k)
    -&gt; (Term s k -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; Term s (PAsData k)
-&gt; TermCont s (Term s k)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; (Term s k -&gt; Term s PBool) -&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="annot"><span class="annottext">(Term s k -&gt; (Term s k -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; (Term s (PAsData k) -&gt; Term s k)
-&gt; Term s (PAsData k)
-&gt; (Term s k -&gt; Term s PBool)
-&gt; Term s PBool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s k
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData k) -&gt; TermCont s (Term s k))
-&gt; Term s (PAsData k) -&gt; TermCont s (Term s k)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; a)
</span><span class="hs-identifier hs-var">pfstBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679282096"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-299"></span><span>                        </span><span class="annot"><span class="annottext">Term s PBool -&gt; TermCont s (Term s PBool)
forall a. a -&gt; TermCont s a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span>
</span><span id="line-300"></span><span>                          </span><span class="annot"><span class="annottext">(Term s PBool -&gt; TermCont s (Term s PBool))
-&gt; Term s PBool -&gt; TermCont s (Term s PBool)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s PBool -&gt; Term s PBool -&gt; Term s PBool -&gt; Term s PBool
forall (s :: S) (a :: PType).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><span class="hs-identifier hs-var">pif</span></span><span>
</span><span id="line-301"></span><span>                            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679282100"><span class="hs-identifier hs-var">k1</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; Term s k -&gt; Term s PBool
forall (s :: S). Term s k -&gt; Term s k -&gt; Term s PBool
forall (t :: PType) (s :: S).
PEq t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><span class="hs-operator hs-var">#==</span></span><span> </span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679282101"><span class="hs-identifier hs-var">k2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-302"></span><span>                            </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; PBool))
</span><a href="#local-6989586621679282082"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-cpp">
                                # v1
</span><span class="hs-cpp">                                # v2
</span><span class="hs-cpp">                                #&amp;&amp; self
</span><span class="hs-cpp">                                # xs
</span><span class="hs-cpp">                                # ys
</span><span>                            </span><span class="hs-special">)</span><span>
</span><span id="line-309"></span><span>                          </span><span class="annot"><span class="annottext">(Term s PBool -&gt; Term s PBool) -&gt; Term s PBool -&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s PBool -&gt; Term s PBool -&gt; Term s PBool -&gt; Term s PBool
forall (s :: S) (a :: PType).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><span class="hs-identifier hs-var">pif</span></span><span>
</span><span id="line-310"></span><span>                            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679282100"><span class="hs-identifier hs-var">k1</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; Term s k -&gt; Term s PBool
forall (s :: S). Term s k -&gt; Term s k -&gt; Term s PBool
forall (t :: PType) (s :: S).
PPartialOrd t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><span class="hs-operator hs-var">#&lt;</span></span><span> </span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679282101"><span class="hs-identifier hs-var">k2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-311"></span><span>                            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; PBool))
</span><a href="#local-6989586621679282082"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; PBool)) -&gt; Term s v -&gt; Term s (v :--&gt; PBool)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679282095"><span class="hs-identifier hs-var">v1</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; PBool) -&gt; Term s v -&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679282083"><span class="hs-identifier hs-var">z</span></a></span><span> </span><span class="annot"><span class="annottext">Term s PBool -&gt; Term s PBool -&gt; Term s PBool
forall (s :: S). Term s PBool -&gt; Term s PBool -&gt; Term s PBool
</span><span class="hs-operator hs-var">#&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBool))
</span><a href="#local-6989586621679282089"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBool))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PBool)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679282094"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PBool)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679282091"><span class="hs-identifier hs-var">l2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-312"></span><span>                          </span><span class="annot"><span class="annottext">(Term s PBool -&gt; Term s PBool) -&gt; Term s PBool -&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; PBool))
</span><a href="#local-6989586621679282082"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-cpp">
                            # z
</span><span class="hs-cpp">                            # v2
</span><span class="hs-cpp">                            #&amp;&amp; self
</span><span class="hs-cpp">                            # l1
</span><span class="hs-cpp">                            # ys
</span><span>                    </span><span class="hs-special">)</span><span>
</span><span id="line-319"></span><span>                    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; PBool))
</span><a href="#local-6989586621679282082"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-cpp">
                        # v1
</span><span class="hs-cpp">                        # z
</span><span class="hs-cpp">                        #&amp;&amp; PPrelude.pall
</span><span class="hs-cpp">                        # plam (\p -&gt; f # pfromData (psndBuiltin # p) # z)
</span><span class="hs-cpp">                        # xs
</span><span>                    </span><span class="hs-special">)</span><span>
</span><span id="line-326"></span><span>                    </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679282091"><span class="hs-identifier hs-var">l2</span></a></span><span>
</span><span id="line-327"></span><span>            </span><span class="hs-special">)</span><span>
</span><span id="line-328"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBool))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
PIsListLike list a =&gt;
Term s ((a :--&gt; PBool) :--&gt; (list a :--&gt; PBool))
</span><span class="hs-identifier hs-var">PPrelude.pall</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBool))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool)
-&gt; Term
     s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PBool)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinPair (PAsData k) (PAsData v)) -&gt; Term s PBool)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool)
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s PBool) -&gt; Term s (c :--&gt; PBool)
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679282104"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679282104"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; PBool))
</span><a href="#local-6989586621679282082"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; PBool)) -&gt; Term s v -&gt; Term s (v :--&gt; PBool)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679282083"><span class="hs-identifier hs-var">z</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; PBool) -&gt; Term s v -&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#$</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v) -&gt; Term s v
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData v) -&gt; Term s v) -&gt; Term s (PAsData v) -&gt; Term s v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; b)
</span><span class="hs-identifier hs-var">psndBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679282104"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term
  s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PBool)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679282091"><span class="hs-identifier hs-var">l2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-329"></span><span>            </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679282090"><span class="hs-identifier hs-var">l1</span></a></span><span>
</span><span id="line-330"></span><span>     </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBool))
</span><a href="#local-6989586621679282086"><span class="hs-identifier hs-var">inner</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBool))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PBool)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v) -&gt; Term s (PInner (PMap 'Sorted k v))
forall (s :: S) (a :: PType). Term s a -&gt; Term s (PInner a)
</span><span class="hs-identifier hs-var">pto</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679282084"><span class="hs-identifier hs-var">m1</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PBool)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v) -&gt; Term s (PInner (PMap 'Sorted k v))
forall (s :: S) (a :: PType). Term s a -&gt; Term s (PInner a)
</span><span class="hs-identifier hs-var">pto</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679282085"><span class="hs-identifier hs-var">m2</span></a></span><span>
</span><span id="line-331"></span><span>
</span><span id="line-332"></span><span class="annot"><span class="hs-comment">{- | Verifies all values in the map satisfy the given predicate.

@since 2.0.0
-}</span></span><span>
</span><span id="line-336"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pall"><span class="hs-identifier hs-type">pall</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-337"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679280976"><span class="annot"><a href="#local-6989586621679280976"><span class="hs-identifier hs-type">any</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#KeyGuarantees"><span class="hs-identifier hs-type">KeyGuarantees</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679280977"><span class="annot"><a href="#local-6989586621679280977"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679280974"><span class="annot"><a href="#local-6989586621679280974"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679280975"><span class="annot"><a href="#local-6989586621679280975"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-338"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679280974"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-339"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679280975"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679280974"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBool</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280976"><span class="hs-identifier hs-type">any</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280977"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280974"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBool</span></span><span class="hs-special">)</span><span>
</span><span id="line-340"></span><span id="pall"><span class="annot"><span class="annottext">pall :: forall (any :: KeyGuarantees) (k :: PType) (v :: PType) (s :: S).
PIsData v =&gt;
Term s ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pall"><span class="hs-identifier hs-var hs-var">pall</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
-&gt; Term s ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
 -&gt; Term s ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool)))
-&gt; ClosedTerm ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
-&gt; Term s ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-341"></span><span>  </span><span class="annot"><span class="annottext">(Term s (v :--&gt; PBool) -&gt; Term s (PMap any k v) -&gt; Term s PBool)
-&gt; Term s ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap any k v) -&gt; Term s PBool)
-&gt; Term s (c :--&gt; (PMap any k v :--&gt; PBool))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (v :--&gt; PBool) -&gt; Term s (PMap any k v) -&gt; Term s PBool)
 -&gt; Term s ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool)))
-&gt; (Term s (v :--&gt; PBool) -&gt; Term s (PMap any k v) -&gt; Term s PBool)
-&gt; Term s ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679282124"><span class="annot"><span class="annottext">Term s (v :--&gt; PBool)
</span><a href="#local-6989586621679282124"><span class="hs-identifier hs-var">pred</span></a></span></span><span> </span><span id="local-6989586621679282125"><span class="annot"><span class="annottext">Term s (PMap any k v)
</span><a href="#local-6989586621679282125"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-342"></span><span>    </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBool))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
PIsListLike list a =&gt;
Term s ((a :--&gt; PBool) :--&gt; (list a :--&gt; PBool))
</span><span class="hs-identifier hs-var">List.pall</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBool))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool)
-&gt; Term
     s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PBool)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinPair (PAsData k) (PAsData v)) -&gt; Term s PBool)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool)
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s PBool) -&gt; Term s (c :--&gt; PBool)
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679282126"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679282126"><span class="hs-identifier hs-var">pair</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; PBool)
</span><a href="#local-6989586621679282124"><span class="hs-identifier hs-var">pred</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; PBool) -&gt; Term s v -&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#$</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v) -&gt; Term s v
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData v) -&gt; Term s v) -&gt; Term s (PAsData v) -&gt; Term s v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; b)
</span><span class="hs-identifier hs-var">psndBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679282126"><span class="hs-identifier hs-var">pair</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term
  s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PBool)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap any k v) -&gt; Term s (PInner (PMap any k v))
forall (s :: S) (a :: PType). Term s a -&gt; Term s (PInner a)
</span><span class="hs-identifier hs-var">pto</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap any k v)
</span><a href="#local-6989586621679282125"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-343"></span><span>
</span><span id="line-344"></span><span class="annot"><span class="hs-comment">{- | Build the union of two 'PMap's, merging values that share the same key using the
given function.

@since 2.0.0
-}</span></span><span>
</span><span id="line-349"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#punionResolvingCollisionsWith"><span class="hs-identifier hs-type">punionResolvingCollisionsWith</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-350"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679280983"><span class="annot"><a href="#local-6989586621679280983"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679280984"><span class="annot"><a href="#local-6989586621679280984"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679280985"><span class="annot"><a href="#local-6989586621679280985"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-351"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">POrd</span></span><span> </span><span class="annot"><a href="#local-6989586621679280983"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679280983"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679280984"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-352"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Commutativity"><span class="hs-identifier hs-type">Commutativity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-353"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679280985"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679280984"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679280984"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679280984"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280983"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280984"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280983"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280984"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280983"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280984"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-354"></span><span id="punionResolvingCollisionsWith"><span class="annot"><span class="annottext">punionResolvingCollisionsWith :: forall (k :: PType) (v :: PType) (s :: S).
(POrd k, PIsData k, PIsData v) =&gt;
Commutativity
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><a href="Plutarch.LedgerApi.AssocMap.html#punionResolvingCollisionsWith"><span class="hs-identifier hs-var hs-var">punionResolvingCollisionsWith</span></a></span></span><span> </span><span id="local-6989586621679282132"><span class="annot"><span class="annottext">Commutativity
</span><a href="#local-6989586621679282132"><span class="hs-identifier hs-var">commutativity</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-355"></span><span>  </span><span class="annot"><span class="annottext">ClosedTerm
  ((v :--&gt; (v :--&gt; v))
   :--&gt; (PMap 'Sorted k v
         :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   ((v :--&gt; (v :--&gt; v))
    :--&gt; (PMap 'Sorted k v
          :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
 -&gt; Term
      s
      ((v :--&gt; (v :--&gt; v))
       :--&gt; (PMap 'Sorted k v
             :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; ClosedTerm
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-356"></span><span>    </span><span class="annot"><span class="annottext">(Term s (v :--&gt; (v :--&gt; v))
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     (c
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (v :--&gt; (v :--&gt; v))
  -&gt; Term
       s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
 -&gt; Term
      s
      ((v :--&gt; (v :--&gt; v))
       :--&gt; (PMap 'Sorted k v
             :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; (Term s (v :--&gt; (v :--&gt; v))
    -&gt; Term
         s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-357"></span><span>      </span><span class="annot"><span class="annottext">SomeMergeHandler k v s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (s :: S) (k :: PType) (v :: PType).
(POrd k, PIsData k, PIsData v) =&gt;
SomeMergeHandler k v s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pzipWith"><span class="hs-identifier hs-var">pzipWith</span></a></span><span> </span><span class="annot"><span class="annottext">(SomeMergeHandler k v s
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; (Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s)
-&gt; Term s (v :--&gt; (v :--&gt; v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Commutativity
-&gt; Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s
forall (s :: S) (k :: PType) (v :: PType).
Commutativity
-&gt; Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s
</span><a href="Plutarch.LedgerApi.AssocMap.html#unionMergeHandler"><span class="hs-identifier hs-var">unionMergeHandler</span></a></span><span> </span><span class="annot"><span class="annottext">Commutativity
</span><a href="#local-6989586621679282132"><span class="hs-identifier hs-var">commutativity</span></a></span><span>
</span><span id="line-358"></span><span>
</span><span id="line-359"></span><span class="annot"><span class="hs-comment">{- | Build the union of two 'PMap's, merging values that share the same key using the
given function.

@since 2.1.1
-}</span></span><span>
</span><span id="line-364"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#punionResolvingCollisionsWithData"><span class="hs-identifier hs-type">punionResolvingCollisionsWithData</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-365"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679280997"><span class="annot"><a href="#local-6989586621679280997"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679280999"><span class="annot"><a href="#local-6989586621679280999"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679280998"><span class="annot"><a href="#local-6989586621679280998"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-366"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">POrd</span></span><span> </span><span class="annot"><a href="#local-6989586621679280997"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679280997"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-367"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Commutativity"><span class="hs-identifier hs-type">Commutativity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-368"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span>
</span><span id="line-369"></span><span>    </span><span class="annot"><a href="#local-6989586621679280998"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-370"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679280999"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679280999"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679280999"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-371"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280997"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280999"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-372"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280997"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280999"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-373"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280997"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280999"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-374"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-375"></span><span id="punionResolvingCollisionsWithData"><span class="annot"><span class="annottext">punionResolvingCollisionsWithData :: forall (k :: PType) (v :: PType) (s :: S).
(POrd k, PIsData k) =&gt;
Commutativity
-&gt; Term
     s
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><a href="Plutarch.LedgerApi.AssocMap.html#punionResolvingCollisionsWithData"><span class="hs-identifier hs-var hs-var">punionResolvingCollisionsWithData</span></a></span></span><span> </span><span id="local-6989586621679282146"><span class="annot"><span class="annottext">Commutativity
</span><a href="#local-6989586621679282146"><span class="hs-identifier hs-var">commutativity</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-376"></span><span>  </span><span class="annot"><span class="annottext">ClosedTerm
  ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
   :--&gt; (PMap 'Sorted k v
         :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
    :--&gt; (PMap 'Sorted k v
          :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
 -&gt; Term
      s
      ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
       :--&gt; (PMap 'Sorted k v
             :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; ClosedTerm
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-377"></span><span>    </span><span class="annot"><span class="annottext">(Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     (c
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
  -&gt; Term
       s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
 -&gt; Term
      s
      ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
       :--&gt; (PMap 'Sorted k v
             :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; (Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
    -&gt; Term
         s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-378"></span><span>      </span><span class="annot"><span class="annottext">SomeMergeHandler (PAsData k) (PAsData v) s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (s :: S) (k :: PType) (v :: PType).
(POrd k, PIsData k) =&gt;
SomeMergeHandler (PAsData k) (PAsData v) s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pzipWithData"><span class="hs-identifier hs-var">pzipWithData</span></a></span><span> </span><span class="annot"><span class="annottext">(SomeMergeHandler (PAsData k) (PAsData v) s
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; (Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
    -&gt; SomeMergeHandler (PAsData k) (PAsData v) s)
-&gt; Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Commutativity
-&gt; Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
-&gt; SomeMergeHandler (PAsData k) (PAsData v) s
forall (s :: S) (k :: PType) (v :: PType).
Commutativity
-&gt; Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s
</span><a href="Plutarch.LedgerApi.AssocMap.html#unionMergeHandler"><span class="hs-identifier hs-var">unionMergeHandler</span></a></span><span> </span><span class="annot"><span class="annottext">Commutativity
</span><a href="#local-6989586621679282146"><span class="hs-identifier hs-var">commutativity</span></a></span><span>
</span><span id="line-379"></span><span>
</span><span id="line-380"></span><span class="annot"><span class="hs-comment">{- | Maps and filters the map, much like 'Data.List.mapMaybe'.

@since 2.0.0
-}</span></span><span>
</span><span id="line-384"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pmapMaybe"><span class="hs-identifier hs-type">pmapMaybe</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-385"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281011"><span class="annot"><a href="#local-6989586621679281011"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#KeyGuarantees"><span class="hs-identifier hs-type">KeyGuarantees</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281012"><span class="annot"><a href="#local-6989586621679281012"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281007"><span class="annot"><a href="#local-6989586621679281007"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281008"><span class="annot"><a href="#local-6989586621679281008"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281009"><span class="annot"><a href="#local-6989586621679281009"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-386"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281007"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281008"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-387"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281009"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679281007"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PMaybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679281008"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281011"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281012"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281007"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281011"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281012"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281008"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-388"></span><span id="pmapMaybe"><span class="annot"><span class="annottext">pmapMaybe :: forall (g :: KeyGuarantees) (k :: PType) (a :: PType) (b :: PType)
       (s :: S).
(PIsData a, PIsData b) =&gt;
Term s ((a :--&gt; PMaybe b) :--&gt; (PMap g k a :--&gt; PMap g k b))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pmapMaybe"><span class="hs-identifier hs-var hs-var">pmapMaybe</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm ((a :--&gt; PMaybe b) :--&gt; (PMap g k a :--&gt; PMap g k b))
-&gt; Term s ((a :--&gt; PMaybe b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm ((a :--&gt; PMaybe b) :--&gt; (PMap g k a :--&gt; PMap g k b))
 -&gt; Term s ((a :--&gt; PMaybe b) :--&gt; (PMap g k a :--&gt; PMap g k b)))
-&gt; ClosedTerm ((a :--&gt; PMaybe b) :--&gt; (PMap g k a :--&gt; PMap g k b))
-&gt; Term s ((a :--&gt; PMaybe b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-389"></span><span>  </span><span class="annot"><span class="annottext">(Term s (a :--&gt; PMaybe b) -&gt; Term s (PMap g k a :--&gt; PMap g k b))
-&gt; Term s ((a :--&gt; PMaybe b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap g k a :--&gt; PMap g k b))
-&gt; Term s (c :--&gt; (PMap g k a :--&gt; PMap g k b))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (a :--&gt; PMaybe b) -&gt; Term s (PMap g k a :--&gt; PMap g k b))
 -&gt; Term s ((a :--&gt; PMaybe b) :--&gt; (PMap g k a :--&gt; PMap g k b)))
-&gt; (Term s (a :--&gt; PMaybe b)
    -&gt; Term s (PMap g k a :--&gt; PMap g k b))
-&gt; Term s ((a :--&gt; PMaybe b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679282172"><span class="annot"><span class="annottext">Term s (a :--&gt; PMaybe b)
</span><a href="#local-6989586621679282172"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PAsData a :--&gt; PMaybe (PAsData b))
   :--&gt; (PMap g k a :--&gt; PMap g k b))
forall (g :: KeyGuarantees) (k :: PType) (a :: PType) (b :: PType)
       (s :: S).
Term
  s
  ((PAsData a :--&gt; PMaybe (PAsData b))
   :--&gt; (PMap g k a :--&gt; PMap g k b))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pmapMaybeData"><span class="hs-identifier hs-var">pmapMaybeData</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PAsData a :--&gt; PMaybe (PAsData b))
   :--&gt; (PMap g k a :--&gt; PMap g k b))
-&gt; Term s (PAsData a :--&gt; PMaybe (PAsData b))
-&gt; Term s (PMap g k a :--&gt; PMap g k b)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#$</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData a) -&gt; Term s (PMaybe (PAsData b)))
-&gt; Term s (PAsData a :--&gt; PMaybe (PAsData b))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMaybe (PAsData b)))
-&gt; Term s (c :--&gt; PMaybe (PAsData b))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PAsData a) -&gt; Term s (PMaybe (PAsData b)))
 -&gt; Term s (PAsData a :--&gt; PMaybe (PAsData b)))
-&gt; (Term s (PAsData a) -&gt; Term s (PMaybe (PAsData b)))
-&gt; Term s (PAsData a :--&gt; PMaybe (PAsData b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679282173"><span class="annot"><span class="annottext">Term s (PAsData a)
</span><a href="#local-6989586621679282173"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PMaybe b)
-&gt; (PMaybe b s -&gt; Term s (PMaybe (PAsData b)))
-&gt; Term s (PMaybe (PAsData b))
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (a :--&gt; PMaybe b)
</span><a href="#local-6989586621679282172"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (a :--&gt; PMaybe b) -&gt; Term s a -&gt; Term s (PMaybe b)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData a) -&gt; Term s a
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData a)
</span><a href="#local-6989586621679282173"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((PMaybe b s -&gt; Term s (PMaybe (PAsData b)))
 -&gt; Term s (PMaybe (PAsData b)))
-&gt; (PMaybe b s -&gt; Term s (PMaybe (PAsData b)))
-&gt; Term s (PMaybe (PAsData b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-390"></span><span>    </span><span class="annot"><span class="annottext">PMaybe b s
</span><span class="hs-identifier hs-var">PNothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PMaybe (PAsData b) s -&gt; Term s (PMaybe (PAsData b))
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">PMaybe (PAsData b) s
forall (a :: PType) (s :: S). PMaybe a s
</span><span class="hs-identifier hs-var">PNothing</span></span><span>
</span><span id="line-391"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">PJust</span></span><span> </span><span id="local-6989586621679282177"><span class="annot"><span class="annottext">Term s b
</span><a href="#local-6989586621679282177"><span class="hs-identifier hs-var">v'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PMaybe (PAsData b) s -&gt; Term s (PMaybe (PAsData b))
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">(PMaybe (PAsData b) s -&gt; Term s (PMaybe (PAsData b)))
-&gt; PMaybe (PAsData b) s -&gt; Term s (PMaybe (PAsData b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData b) -&gt; PMaybe (PAsData b) s
forall (a :: PType) (s :: S). Term s a -&gt; PMaybe a s
</span><span class="hs-identifier hs-var">PJust</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s b -&gt; Term s (PAsData b)
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><span class="hs-identifier hs-var">pdata</span></span><span> </span><span class="annot"><span class="annottext">Term s b
</span><a href="#local-6989586621679282177"><span class="hs-identifier hs-var">v'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-392"></span><span>
</span><span id="line-393"></span><span class="annot"><span class="hs-comment">{- | As 'pmapMaybe', but over Data representation.

@since 2.0.0
-}</span></span><span>
</span><span id="line-397"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pmapMaybeData"><span class="hs-identifier hs-type">pmapMaybeData</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-398"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281023"><span class="annot"><a href="#local-6989586621679281023"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#KeyGuarantees"><span class="hs-identifier hs-type">KeyGuarantees</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281024"><span class="annot"><a href="#local-6989586621679281024"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281021"><span class="annot"><a href="#local-6989586621679281021"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281022"><span class="annot"><a href="#local-6989586621679281022"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281020"><span class="annot"><a href="#local-6989586621679281020"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-399"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281020"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281021"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PMaybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281022"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281023"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281024"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281021"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281023"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281024"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281022"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-400"></span><span id="pmapMaybeData"><span class="annot"><span class="annottext">pmapMaybeData :: forall (g :: KeyGuarantees) (k :: PType) (a :: PType) (b :: PType)
       (s :: S).
Term
  s
  ((PAsData a :--&gt; PMaybe (PAsData b))
   :--&gt; (PMap g k a :--&gt; PMap g k b))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pmapMaybeData"><span class="hs-identifier hs-var hs-var">pmapMaybeData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm
  ((PAsData a :--&gt; PMaybe (PAsData b))
   :--&gt; (PMap g k a :--&gt; PMap g k b))
-&gt; Term
     s
     ((PAsData a :--&gt; PMaybe (PAsData b))
      :--&gt; (PMap g k a :--&gt; PMap g k b))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   ((PAsData a :--&gt; PMaybe (PAsData b))
    :--&gt; (PMap g k a :--&gt; PMap g k b))
 -&gt; Term
      s
      ((PAsData a :--&gt; PMaybe (PAsData b))
       :--&gt; (PMap g k a :--&gt; PMap g k b)))
-&gt; ClosedTerm
     ((PAsData a :--&gt; PMaybe (PAsData b))
      :--&gt; (PMap g k a :--&gt; PMap g k b))
-&gt; Term
     s
     ((PAsData a :--&gt; PMaybe (PAsData b))
      :--&gt; (PMap g k a :--&gt; PMap g k b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-401"></span><span>  </span><span class="annot"><span class="annottext">(Term s (PAsData a :--&gt; PMaybe (PAsData b))
 -&gt; Term s (PMap g k a) -&gt; Term s (PMap g k b))
-&gt; Term
     s
     ((PAsData a :--&gt; PMaybe (PAsData b))
      :--&gt; (PMap g k a :--&gt; PMap g k b))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap g k a) -&gt; Term s (PMap g k b))
-&gt; Term s (c :--&gt; (PMap g k a :--&gt; PMap g k b))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PAsData a :--&gt; PMaybe (PAsData b))
  -&gt; Term s (PMap g k a) -&gt; Term s (PMap g k b))
 -&gt; Term
      s
      ((PAsData a :--&gt; PMaybe (PAsData b))
       :--&gt; (PMap g k a :--&gt; PMap g k b)))
-&gt; (Term s (PAsData a :--&gt; PMaybe (PAsData b))
    -&gt; Term s (PMap g k a) -&gt; Term s (PMap g k b))
-&gt; Term
     s
     ((PAsData a :--&gt; PMaybe (PAsData b))
      :--&gt; (PMap g k a :--&gt; PMap g k b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679282200"><span class="annot"><span class="annottext">Term s (PAsData a :--&gt; PMaybe (PAsData b))
</span><a href="#local-6989586621679282200"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679282201"><span class="annot"><span class="annottext">Term s (PMap g k a)
</span><a href="#local-6989586621679282201"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-402"></span><span>    </span><span class="annot"><span class="annottext">PMap g k b s -&gt; Term s (PMap g k b)
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">(PMap g k b s -&gt; Term s (PMap g k b))
-&gt; (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
    -&gt; PMap g k b s)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s (PMap g k b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; PMap g k b s
forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S).
Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap keysort k v s
</span><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-var">PMap</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
 -&gt; Term s (PMap g k b))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s (PMap g k b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-403"></span><span>      </span><span class="annot"><span class="annottext">(Term
   s
   (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData a))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
-&gt; (Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S) (r :: PType).
PIsListLike list a =&gt;
(Term s (list a :--&gt; r) -&gt; Term s a -&gt; Term s (list a) -&gt; Term s r)
-&gt; (Term s (list a :--&gt; r) -&gt; Term s r) -&gt; Term s (list a :--&gt; r)
</span><span class="hs-identifier hs-var">precList</span></span><span>
</span><span id="line-404"></span><span>        </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679282202"><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679282202"><span class="hs-identifier hs-var">self</span></a></span></span><span> </span><span id="local-6989586621679282203"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a))
</span><a href="#local-6989586621679282203"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679282204"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
</span><a href="#local-6989586621679282204"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-405"></span><span>            </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679282202"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
</span><a href="#local-6989586621679282204"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
-&gt; (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679282205"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679282205"><span class="hs-identifier hs-var">xs'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-406"></span><span>              </span><span class="annot"><span class="annottext">Term s (PMaybe (PAsData b))
-&gt; (PMaybe (PAsData b) s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData a :--&gt; PMaybe (PAsData b))
</span><a href="#local-6989586621679282200"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData a :--&gt; PMaybe (PAsData b))
-&gt; Term s (PAsData a) -&gt; Term s (PMaybe (PAsData b))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#$</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a) :--&gt; PAsData a)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; b)
</span><span class="hs-identifier hs-var">psndBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a) :--&gt; PAsData a)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData a))
-&gt; Term s (PAsData a)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a))
</span><a href="#local-6989586621679282203"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((PMaybe (PAsData b) s
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
-&gt; (PMaybe (PAsData b) s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-407"></span><span>                </span><span class="annot"><span class="annottext">PMaybe (PAsData b) s
</span><span class="hs-identifier hs-var">PNothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679282205"><span class="hs-identifier hs-var">xs'</span></a></span><span>
</span><span id="line-408"></span><span>                </span><span class="annot"><span class="hs-identifier hs-type">PJust</span></span><span> </span><span id="local-6989586621679282206"><span class="annot"><span class="annottext">Term s (PAsData b)
</span><a href="#local-6989586621679282206"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData b)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData b)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData b))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PAsData k
   :--&gt; (PAsData b :--&gt; PBuiltinPair (PAsData k) (PAsData b)))
forall (s :: S) (a :: PType) (b :: PType).
Term
  s
  (PAsData a
   :--&gt; (PAsData b :--&gt; PBuiltinPair (PAsData a) (PAsData b)))
</span><span class="hs-identifier hs-var">ppairDataBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PAsData k
   :--&gt; (PAsData b :--&gt; PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s (PAsData k)
-&gt; Term s (PAsData b :--&gt; PBuiltinPair (PAsData k) (PAsData b))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a) :--&gt; PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; a)
</span><span class="hs-identifier hs-var">pfstBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a) :--&gt; PAsData k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData a))
-&gt; Term s (PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a))
</span><a href="#local-6989586621679282203"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term s (PAsData b :--&gt; PBuiltinPair (PAsData k) (PAsData b))
-&gt; Term s (PAsData b)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData b))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData b)
</span><a href="#local-6989586621679282206"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679282205"><span class="hs-identifier hs-var">xs'</span></a></span><span>
</span><span id="line-409"></span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-410"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall a b. a -&gt; b -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (PBuiltinList a)
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (list a)
</span><span class="hs-identifier hs-var">pnil</span></span><span class="hs-special">)</span><span class="hs-cpp">
        # pto m
</span><span>
</span><span id="line-413"></span><span class="annot"><span class="hs-comment">{- | Tests whether the map is empty.

@since 2.0.0
-}</span></span><span>
</span><span id="line-417"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pnull"><span class="hs-identifier hs-type">pnull</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-418"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281039"><span class="annot"><a href="#local-6989586621679281039"><span class="hs-identifier hs-type">any</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#KeyGuarantees"><span class="hs-identifier hs-type">KeyGuarantees</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281040"><span class="annot"><a href="#local-6989586621679281040"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281041"><span class="annot"><a href="#local-6989586621679281041"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281038"><span class="annot"><a href="#local-6989586621679281038"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-419"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281038"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281039"><span class="hs-identifier hs-type">any</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281040"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281041"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBool</span></span><span class="hs-special">)</span><span>
</span><span id="line-420"></span><span id="pnull"><span class="annot"><span class="annottext">pnull :: forall (any :: KeyGuarantees) (k :: PType) (v :: PType) (s :: S).
Term s (PMap any k v :--&gt; PBool)
</span><a href="Plutarch.LedgerApi.AssocMap.html#pnull"><span class="hs-identifier hs-var hs-var">pnull</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Term s (PMap any k v) -&gt; Term s PBool)
-&gt; Term s (PMap any k v :--&gt; PBool)
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s PBool) -&gt; Term s (c :--&gt; PBool)
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679282217"><span class="annot"><span class="annottext">Term s (PMap any k v)
</span><a href="#local-6989586621679282217"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PBool)
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (PBuiltinList a :--&gt; PBool)
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (list a :--&gt; PBool)
</span><span class="hs-identifier hs-var">List.pnull</span></span><span> </span><span class="annot"><span class="annottext">Term
  s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PBool)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap any k v) -&gt; Term s (PInner (PMap any k v))
forall (s :: S) (a :: PType). Term s a -&gt; Term s (PInner a)
</span><span class="hs-identifier hs-var">pto</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap any k v)
</span><a href="#local-6989586621679282217"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-421"></span><span>
</span><span id="line-422"></span><span class="annot"><span class="hs-comment">{- | Applies a function to every value in the map, much like 'Data.List.map'.

@since 2.0.0
-}</span></span><span>
</span><span id="line-426"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pmap"><span class="hs-identifier hs-type">pmap</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-427"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281051"><span class="annot"><a href="#local-6989586621679281051"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#KeyGuarantees"><span class="hs-identifier hs-type">KeyGuarantees</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281052"><span class="annot"><a href="#local-6989586621679281052"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281048"><span class="annot"><a href="#local-6989586621679281048"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281049"><span class="annot"><a href="#local-6989586621679281049"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281050"><span class="annot"><a href="#local-6989586621679281050"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-428"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281048"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281049"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-429"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281050"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679281048"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679281049"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281051"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281052"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281048"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281051"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281052"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281049"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-430"></span><span id="pmap"><span class="annot"><span class="annottext">pmap :: forall (g :: KeyGuarantees) (k :: PType) (a :: PType) (b :: PType)
       (s :: S).
(PIsData a, PIsData b) =&gt;
Term s ((a :--&gt; b) :--&gt; (PMap g k a :--&gt; PMap g k b))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pmap"><span class="hs-identifier hs-var hs-var">pmap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm ((a :--&gt; b) :--&gt; (PMap g k a :--&gt; PMap g k b))
-&gt; Term s ((a :--&gt; b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm ((a :--&gt; b) :--&gt; (PMap g k a :--&gt; PMap g k b))
 -&gt; Term s ((a :--&gt; b) :--&gt; (PMap g k a :--&gt; PMap g k b)))
-&gt; ClosedTerm ((a :--&gt; b) :--&gt; (PMap g k a :--&gt; PMap g k b))
-&gt; Term s ((a :--&gt; b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-431"></span><span>  </span><span class="annot"><span class="annottext">(Term s (a :--&gt; b) -&gt; Term s (PMap g k a :--&gt; PMap g k b))
-&gt; Term s ((a :--&gt; b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap g k a :--&gt; PMap g k b))
-&gt; Term s (c :--&gt; (PMap g k a :--&gt; PMap g k b))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (a :--&gt; b) -&gt; Term s (PMap g k a :--&gt; PMap g k b))
 -&gt; Term s ((a :--&gt; b) :--&gt; (PMap g k a :--&gt; PMap g k b)))
-&gt; (Term s (a :--&gt; b) -&gt; Term s (PMap g k a :--&gt; PMap g k b))
-&gt; Term s ((a :--&gt; b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-432"></span><span>    </span><span class="hs-glyph">\</span><span id="local-6989586621679282232"><span class="annot"><span class="annottext">Term s (a :--&gt; b)
</span><a href="#local-6989586621679282232"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall (g :: KeyGuarantees) (k :: PType) (a :: PType) (b :: PType)
       (s :: S).
Term
  s ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pmapData"><span class="hs-identifier hs-var">pmapData</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b))
-&gt; Term s (PAsData a :--&gt; PAsData b)
-&gt; Term s (PMap g k a :--&gt; PMap g k b)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#$</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData a) -&gt; Term s (PAsData b))
-&gt; Term s (PAsData a :--&gt; PAsData b)
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PAsData b)) -&gt; Term s (c :--&gt; PAsData b)
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PAsData a) -&gt; Term s (PAsData b))
 -&gt; Term s (PAsData a :--&gt; PAsData b))
-&gt; (Term s (PAsData a) -&gt; Term s (PAsData b))
-&gt; Term s (PAsData a :--&gt; PAsData b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679282233"><span class="annot"><span class="annottext">Term s (PAsData a)
</span><a href="#local-6989586621679282233"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s b -&gt; Term s (PAsData b)
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><span class="hs-identifier hs-var">pdata</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (a :--&gt; b)
</span><a href="#local-6989586621679282232"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData a) -&gt; Term s a
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData a)
</span><a href="#local-6989586621679282233"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-433"></span><span>
</span><span id="line-434"></span><span class="annot"><span class="hs-comment">{- | As 'pmap', but gives key access as well.

@since 2.1.1
-}</span></span><span>
</span><span id="line-438"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pmapWithKey"><span class="hs-identifier hs-type">pmapWithKey</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-439"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281064"><span class="annot"><a href="#local-6989586621679281064"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281065"><span class="annot"><a href="#local-6989586621679281065"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281066"><span class="annot"><a href="#local-6989586621679281066"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281068"><span class="annot"><a href="#local-6989586621679281068"><span class="hs-identifier hs-type">keysort</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#KeyGuarantees"><span class="hs-identifier hs-type">KeyGuarantees</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281067"><span class="annot"><a href="#local-6989586621679281067"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-440"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281064"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281065"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281066"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-441"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281067"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679281064"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679281065"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679281066"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281068"><span class="hs-identifier hs-type">keysort</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281064"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281065"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Unsorted"><span class="hs-identifier hs-type">Unsorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281064"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281066"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-442"></span><span id="pmapWithKey"><span class="annot"><span class="annottext">pmapWithKey :: forall (k :: PType) (a :: PType) (b :: PType)
       (keysort :: KeyGuarantees) (s :: S).
(PIsData k, PIsData a, PIsData b) =&gt;
Term
  s
  ((k :--&gt; (a :--&gt; b))
   :--&gt; (PMap keysort k a :--&gt; PMap 'Unsorted k b))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pmapWithKey"><span class="hs-identifier hs-var hs-var">pmapWithKey</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm
  ((k :--&gt; (a :--&gt; b))
   :--&gt; (PMap keysort k a :--&gt; PMap 'Unsorted k b))
-&gt; Term
     s
     ((k :--&gt; (a :--&gt; b))
      :--&gt; (PMap keysort k a :--&gt; PMap 'Unsorted k b))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   ((k :--&gt; (a :--&gt; b))
    :--&gt; (PMap keysort k a :--&gt; PMap 'Unsorted k b))
 -&gt; Term
      s
      ((k :--&gt; (a :--&gt; b))
       :--&gt; (PMap keysort k a :--&gt; PMap 'Unsorted k b)))
-&gt; ClosedTerm
     ((k :--&gt; (a :--&gt; b))
      :--&gt; (PMap keysort k a :--&gt; PMap 'Unsorted k b))
-&gt; Term
     s
     ((k :--&gt; (a :--&gt; b))
      :--&gt; (PMap keysort k a :--&gt; PMap 'Unsorted k b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-443"></span><span>  </span><span class="annot"><span class="annottext">(Term s (k :--&gt; (a :--&gt; b))
 -&gt; Term s (PMap keysort k a) -&gt; Term s (PMap 'Unsorted k b))
-&gt; Term
     s
     ((k :--&gt; (a :--&gt; b))
      :--&gt; (PMap keysort k a :--&gt; PMap 'Unsorted k b))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term s (PMap keysort k a) -&gt; Term s (PMap 'Unsorted k b))
-&gt; Term s (c :--&gt; (PMap keysort k a :--&gt; PMap 'Unsorted k b))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (k :--&gt; (a :--&gt; b))
  -&gt; Term s (PMap keysort k a) -&gt; Term s (PMap 'Unsorted k b))
 -&gt; Term
      s
      ((k :--&gt; (a :--&gt; b))
       :--&gt; (PMap keysort k a :--&gt; PMap 'Unsorted k b)))
-&gt; (Term s (k :--&gt; (a :--&gt; b))
    -&gt; Term s (PMap keysort k a) -&gt; Term s (PMap 'Unsorted k b))
-&gt; Term
     s
     ((k :--&gt; (a :--&gt; b))
      :--&gt; (PMap keysort k a :--&gt; PMap 'Unsorted k b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679282263"><span class="annot"><span class="annottext">Term s (k :--&gt; (a :--&gt; b))
</span><a href="#local-6989586621679282263"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679282264"><span class="annot"><span class="annottext">Term s (PMap keysort k a)
</span><a href="#local-6989586621679282264"><span class="hs-identifier hs-var">kvs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-444"></span><span>    </span><span class="annot"><span class="annottext">Term s (PMap keysort k a)
-&gt; (PMap keysort k a s -&gt; Term s (PMap 'Unsorted k b))
-&gt; Term s (PMap 'Unsorted k b)
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap keysort k a)
</span><a href="#local-6989586621679282264"><span class="hs-identifier hs-var">kvs</span></a></span><span> </span><span class="annot"><span class="annottext">((PMap keysort k a s -&gt; Term s (PMap 'Unsorted k b))
 -&gt; Term s (PMap 'Unsorted k b))
-&gt; (PMap keysort k a s -&gt; Term s (PMap 'Unsorted k b))
-&gt; Term s (PMap 'Unsorted k b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span id="local-6989586621679282265"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
</span><a href="#local-6989586621679282265"><span class="hs-identifier hs-var">kvs'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-445"></span><span>      </span><span class="annot"><span class="annottext">PMap 'Unsorted k b s -&gt; Term s (PMap 'Unsorted k b)
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">(PMap 'Unsorted k b s -&gt; Term s (PMap 'Unsorted k b))
-&gt; (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
    -&gt; PMap 'Unsorted k b s)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s (PMap 'Unsorted k b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; PMap 'Unsorted k b s
forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S).
Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap keysort k v s
</span><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-var">PMap</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
 -&gt; Term s (PMap 'Unsorted k b))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s (PMap 'Unsorted k b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-446"></span><span>        </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData a)
    :--&gt; PBuiltinPair (PAsData k) (PAsData b))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
forall (list :: PType -&gt; PType) (a :: PType) (b :: PType) (s :: S).
(PListLike list, PElemConstraint list a, PElemConstraint list b) =&gt;
Term s ((a :--&gt; b) :--&gt; (list a :--&gt; list b))
</span><span class="hs-identifier hs-var">List.pmap</span></span><span class="hs-cpp">
          # plam
</span><span>            </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">x</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-449"></span><span>                </span><span class="hs-identifier">plet</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">pkvPairKey</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">x</span><span class="hs-special">)</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">key</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-450"></span><span>                  </span><span class="hs-identifier">ppairDataBuiltin</span><span class="hs-cpp">
                    # pdata key
</span><span class="hs-cpp">                    #$ pdata
</span><span>                    </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">key</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">pkvPairValue</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">x</span><span class="hs-special">)</span><span>
</span><span id="line-454"></span><span>            </span><span class="hs-special">)</span><span class="hs-cpp">
          # kvs'
</span><span>
</span><span id="line-457"></span><span class="annot"><span class="hs-comment">{- | As 'pmap', but over Data representations.

@since 2.0.0
-}</span></span><span>
</span><span id="line-461"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pmapData"><span class="hs-identifier hs-type">pmapData</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-462"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281062"><span class="annot"><a href="#local-6989586621679281062"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#KeyGuarantees"><span class="hs-identifier hs-type">KeyGuarantees</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281063"><span class="annot"><a href="#local-6989586621679281063"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281060"><span class="annot"><a href="#local-6989586621679281060"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281061"><span class="annot"><a href="#local-6989586621679281061"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281059"><span class="annot"><a href="#local-6989586621679281059"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-463"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281059"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281060"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281061"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281062"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281063"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281060"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281062"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281063"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281061"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-464"></span><span id="pmapData"><span class="annot"><span class="annottext">pmapData :: forall (g :: KeyGuarantees) (k :: PType) (a :: PType) (b :: PType)
       (s :: S).
Term
  s ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pmapData"><span class="hs-identifier hs-var hs-var">pmapData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm
  ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b))
-&gt; Term
     s ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b))
 -&gt; Term
      s ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b)))
-&gt; ClosedTerm
     ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b))
-&gt; Term
     s ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-465"></span><span>  </span><span class="annot"><span class="annottext">(Term s (PAsData a :--&gt; PAsData b)
 -&gt; Term s (PMap g k a) -&gt; Term s (PMap g k b))
-&gt; Term
     s ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap g k a) -&gt; Term s (PMap g k b))
-&gt; Term s (c :--&gt; (PMap g k a :--&gt; PMap g k b))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PAsData a :--&gt; PAsData b)
  -&gt; Term s (PMap g k a) -&gt; Term s (PMap g k b))
 -&gt; Term
      s ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b)))
-&gt; (Term s (PAsData a :--&gt; PAsData b)
    -&gt; Term s (PMap g k a) -&gt; Term s (PMap g k b))
-&gt; Term
     s ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679282289"><span class="annot"><span class="annottext">Term s (PAsData a :--&gt; PAsData b)
</span><a href="#local-6989586621679282289"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679282290"><span class="annot"><span class="annottext">Term s (PMap g k a)
</span><a href="#local-6989586621679282290"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-466"></span><span>    </span><span class="annot"><span class="annottext">PMap g k b s -&gt; Term s (PMap g k b)
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">(PMap g k b s -&gt; Term s (PMap g k b))
-&gt; (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
    -&gt; PMap g k b s)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s (PMap g k b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; PMap g k b s
forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S).
Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap keysort k v s
</span><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-var">PMap</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
 -&gt; Term s (PMap g k b))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s (PMap g k b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-467"></span><span>      </span><span class="annot"><span class="annottext">(Term
   s
   (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData a))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
-&gt; (Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S) (r :: PType).
PIsListLike list a =&gt;
(Term s (list a :--&gt; r) -&gt; Term s a -&gt; Term s (list a) -&gt; Term s r)
-&gt; (Term s (list a :--&gt; r) -&gt; Term s r) -&gt; Term s (list a :--&gt; r)
</span><span class="hs-identifier hs-var">precList</span></span><span>
</span><span id="line-468"></span><span>        </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679282291"><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679282291"><span class="hs-identifier hs-var">self</span></a></span></span><span> </span><span id="local-6989586621679282292"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a))
</span><a href="#local-6989586621679282292"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679282293"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
</span><a href="#local-6989586621679282293"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-469"></span><span>            </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData b)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span class="hs-cpp">
              # (ppairDataBuiltin # (pfstBuiltin # x) # (f #$ psndBuiltin # x))
</span><span class="hs-cpp">              # (self # xs)
</span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-473"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall a b. a -&gt; b -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (PBuiltinList a)
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (list a)
</span><span class="hs-identifier hs-var">pnil</span></span><span class="hs-special">)</span><span class="hs-cpp">
        # pto m
</span><span>
</span><span id="line-476"></span><span class="annot"><span class="hs-comment">{- | Look up the given key in a 'PMap'.

@since 2.1.1
-}</span></span><span>
</span><span id="line-480"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#plookup"><span class="hs-identifier hs-type">plookup</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-481"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281087"><span class="annot"><a href="#local-6989586621679281087"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281088"><span class="annot"><a href="#local-6989586621679281088"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281090"><span class="annot"><a href="#local-6989586621679281090"><span class="hs-identifier hs-type">any</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#KeyGuarantees"><span class="hs-identifier hs-type">KeyGuarantees</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281089"><span class="annot"><a href="#local-6989586621679281089"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-482"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281087"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281088"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-483"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281089"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679281087"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281090"><span class="hs-identifier hs-type">any</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281087"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281088"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PMaybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679281088"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-484"></span><span id="plookup"><span class="annot"><span class="annottext">plookup :: forall (k :: PType) (v :: PType) (any :: KeyGuarantees) (s :: S).
(PIsData k, PIsData v) =&gt;
Term s (k :--&gt; (PMap any k v :--&gt; PMaybe v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#plookup"><span class="hs-identifier hs-var hs-var">plookup</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm (k :--&gt; (PMap any k v :--&gt; PMaybe v))
-&gt; Term s (k :--&gt; (PMap any k v :--&gt; PMaybe v))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm (k :--&gt; (PMap any k v :--&gt; PMaybe v))
 -&gt; Term s (k :--&gt; (PMap any k v :--&gt; PMaybe v)))
-&gt; ClosedTerm (k :--&gt; (PMap any k v :--&gt; PMaybe v))
-&gt; Term s (k :--&gt; (PMap any k v :--&gt; PMaybe v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-485"></span><span>  </span><span class="annot"><span class="annottext">(Term s k -&gt; Term s (PMap any k v :--&gt; PMaybe v))
-&gt; Term s (k :--&gt; (PMap any k v :--&gt; PMaybe v))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap any k v :--&gt; PMaybe v))
-&gt; Term s (c :--&gt; (PMap any k v :--&gt; PMaybe v))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s k -&gt; Term s (PMap any k v :--&gt; PMaybe v))
 -&gt; Term s (k :--&gt; (PMap any k v :--&gt; PMaybe v)))
-&gt; (Term s k -&gt; Term s (PMap any k v :--&gt; PMaybe v))
-&gt; Term s (k :--&gt; (PMap any k v :--&gt; PMaybe v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679282305"><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679282305"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-486"></span><span>    </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe v)
   :--&gt; (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe v)))
forall (s :: S) (k :: PType) (v :: PType) (x :: PType)
       (any :: KeyGuarantees).
Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
   :--&gt; (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe x)))
</span><a href="Plutarch.LedgerApi.AssocMap.html#plookupDataWith"><span class="hs-identifier hs-var">plookupDataWith</span></a></span><span class="hs-cpp">
      # phoistAcyclic (plam $ \pair -&gt; pcon $ PJust $ pfromData $ psndBuiltin # pair)
</span><span class="hs-cpp">      # pdata key
</span><span>
</span><span id="line-490"></span><span class="annot"><span class="hs-comment">{- | As 'plookup', but errors when the key is missing.

@since 2.1.1
-}</span></span><span>
</span><span id="line-494"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#ptryLookup"><span class="hs-identifier hs-type">ptryLookup</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-495"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281102"><span class="annot"><a href="#local-6989586621679281102"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281103"><span class="annot"><a href="#local-6989586621679281103"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281105"><span class="annot"><a href="#local-6989586621679281105"><span class="hs-identifier hs-type">keys</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#KeyGuarantees"><span class="hs-identifier hs-type">KeyGuarantees</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281104"><span class="annot"><a href="#local-6989586621679281104"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-496"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281102"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281103"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-497"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281104"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679281102"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281105"><span class="hs-identifier hs-type">keys</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281102"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281103"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679281103"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-498"></span><span id="ptryLookup"><span class="annot"><span class="annottext">ptryLookup :: forall (k :: PType) (v :: PType) (keys :: KeyGuarantees) (s :: S).
(PIsData k, PIsData v) =&gt;
Term s (k :--&gt; (PMap keys k v :--&gt; v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#ptryLookup"><span class="hs-identifier hs-var hs-var">ptryLookup</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm (k :--&gt; (PMap keys k v :--&gt; v))
-&gt; Term s (k :--&gt; (PMap keys k v :--&gt; v))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm (k :--&gt; (PMap keys k v :--&gt; v))
 -&gt; Term s (k :--&gt; (PMap keys k v :--&gt; v)))
-&gt; ClosedTerm (k :--&gt; (PMap keys k v :--&gt; v))
-&gt; Term s (k :--&gt; (PMap keys k v :--&gt; v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-499"></span><span>  </span><span class="annot"><span class="annottext">(Term s k -&gt; Term s (PMap keys k v) -&gt; Term s v)
-&gt; Term s (k :--&gt; (PMap keys k v :--&gt; v))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap keys k v) -&gt; Term s v)
-&gt; Term s (c :--&gt; (PMap keys k v :--&gt; v))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s k -&gt; Term s (PMap keys k v) -&gt; Term s v)
 -&gt; Term s (k :--&gt; (PMap keys k v :--&gt; v)))
-&gt; (Term s k -&gt; Term s (PMap keys k v) -&gt; Term s v)
-&gt; Term s (k :--&gt; (PMap keys k v :--&gt; v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679282326"><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679282326"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621679282327"><span class="annot"><span class="annottext">Term s (PMap keys k v)
</span><a href="#local-6989586621679282327"><span class="hs-identifier hs-var">kvs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-500"></span><span>    </span><span class="annot"><span class="annottext">Term s (PString :--&gt; (PMaybe v :--&gt; v))
forall (a :: PType) (s :: S).
Term s (PString :--&gt; (PMaybe a :--&gt; a))
</span><a href="Plutarch.LedgerApi.AssocMap.html#passertPJust"><span class="hs-identifier hs-var">passertPJust</span></a></span><span class="hs-cpp">
      # &quot;plookupPartial: No value found for key.&quot;
</span><span class="hs-cpp">      # (plookup # k # kvs)
</span><span>
</span><span id="line-504"></span><span class="annot"><span class="hs-comment">{- | as 'plookup', except over Data representation.

@since 2.1.1
-}</span></span><span>
</span><span id="line-508"></span><span id="local-6989586621679281113"><span id="local-6989586621679281114"><span id="local-6989586621679281115"><span id="local-6989586621679281116"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#plookupData"><span class="hs-identifier hs-type">plookupData</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281113"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281114"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281115"><span class="hs-identifier hs-type">any</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281114"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281116"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PMaybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281116"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-509"></span><span id="plookupData"><span class="annot"><span class="annottext">plookupData :: forall (s :: S) (k :: PType) (any :: KeyGuarantees) (v :: PType).
Term s (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe (PAsData v)))
</span><a href="Plutarch.LedgerApi.AssocMap.html#plookupData"><span class="hs-identifier hs-var hs-var">plookupData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe (PAsData v))
   :--&gt; (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe (PAsData v))))
forall (s :: S) (k :: PType) (v :: PType) (x :: PType)
       (any :: KeyGuarantees).
Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
   :--&gt; (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe x)))
</span><a href="Plutarch.LedgerApi.AssocMap.html#plookupDataWith"><span class="hs-identifier hs-var">plookupDataWith</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe (PAsData v))
   :--&gt; (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe (PAsData v))))
-&gt; Term
     s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe (PAsData v))
-&gt; Term s (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">ClosedTerm
  (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe (PAsData v))
-&gt; Term
     s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe (PAsData v))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Term s (PBuiltinPair (PAsData k) (PAsData v))
 -&gt; Term s (PMaybe (PAsData v)))
-&gt; Term
     s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe (PAsData v))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMaybe (PAsData v)))
-&gt; Term s (c :--&gt; PMaybe (PAsData v))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PBuiltinPair (PAsData k) (PAsData v))
  -&gt; Term s (PMaybe (PAsData v)))
 -&gt; Term
      s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe (PAsData v)))
-&gt; (Term s (PBuiltinPair (PAsData k) (PAsData v))
    -&gt; Term s (PMaybe (PAsData v)))
-&gt; Term
     s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe (PAsData v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679282336"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679282336"><span class="hs-identifier hs-var">pair</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PMaybe (PAsData v) s -&gt; Term s (PMaybe (PAsData v))
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">(PMaybe (PAsData v) s -&gt; Term s (PMaybe (PAsData v)))
-&gt; PMaybe (PAsData v) s -&gt; Term s (PMaybe (PAsData v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v) -&gt; PMaybe (PAsData v) s
forall (a :: PType) (s :: S). Term s a -&gt; PMaybe a s
</span><span class="hs-identifier hs-var">PJust</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData v) -&gt; PMaybe (PAsData v) s)
-&gt; Term s (PAsData v) -&gt; PMaybe (PAsData v) s
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; b)
</span><span class="hs-identifier hs-var">psndBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679282336"><span class="hs-identifier hs-var">pair</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-510"></span><span>
</span><span id="line-511"></span><span class="annot"><span class="hs-comment">{- | Look up the given key data in a 'PMap', applying the given function to the found key-value pair.

@since 2.1.1
-}</span></span><span>
</span><span id="line-515"></span><span id="local-6989586621679281096"><span id="local-6989586621679281097"><span id="local-6989586621679281098"><span id="local-6989586621679281099"><span id="local-6989586621679281100"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#plookupDataWith"><span class="hs-identifier hs-type">plookupDataWith</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-516"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span>
</span><span id="line-517"></span><span>    </span><span class="annot"><a href="#local-6989586621679281096"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-518"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281097"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281098"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PMaybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679281099"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-519"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281097"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-520"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281100"><span class="hs-identifier hs-type">any</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281097"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281098"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-521"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PMaybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679281099"><span class="hs-identifier hs-type">x</span></a></span><span>
</span><span id="line-522"></span><span>    </span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-523"></span><span id="plookupDataWith"><span class="annot"><span class="annottext">plookupDataWith :: forall (s :: S) (k :: PType) (v :: PType) (x :: PType)
       (any :: KeyGuarantees).
Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
   :--&gt; (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe x)))
</span><a href="Plutarch.LedgerApi.AssocMap.html#plookupDataWith"><span class="hs-identifier hs-var hs-var">plookupDataWith</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm
  ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
   :--&gt; (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe x)))
-&gt; Term
     s
     ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
      :--&gt; (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe x)))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
    :--&gt; (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe x)))
 -&gt; Term
      s
      ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
       :--&gt; (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe x))))
-&gt; ClosedTerm
     ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
      :--&gt; (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe x)))
-&gt; Term
     s
     ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
      :--&gt; (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe x)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-524"></span><span>  </span><span class="annot"><span class="annottext">(Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
 -&gt; Term s (PAsData k)
 -&gt; Term s (PMap any k v)
 -&gt; Term s (PMaybe x))
-&gt; Term
     s
     ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
      :--&gt; (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe x)))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term s (PAsData k)
 -&gt; Term s (PMap any k v)
 -&gt; Term s (PMaybe x))
-&gt; Term s (c :--&gt; (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe x)))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
  -&gt; Term s (PAsData k)
  -&gt; Term s (PMap any k v)
  -&gt; Term s (PMaybe x))
 -&gt; Term
      s
      ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
       :--&gt; (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe x))))
-&gt; (Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
    -&gt; Term s (PAsData k)
    -&gt; Term s (PMap any k v)
    -&gt; Term s (PMaybe x))
-&gt; Term
     s
     ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
      :--&gt; (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe x)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679282355"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
</span><a href="#local-6989586621679282355"><span class="hs-identifier hs-var">unwrap</span></a></span></span><span> </span><span id="local-6989586621679282356"><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679282356"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span id="local-6989586621679282357"><span class="annot"><span class="annottext">Term s (PMap any k v)
</span><a href="#local-6989586621679282357"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-525"></span><span>    </span><span class="annot"><span class="annottext">(Term
   s
   (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PMaybe x)
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PMaybe x))
-&gt; (Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PMaybe x)
    -&gt; Term s (PMaybe x))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PMaybe x)
forall (list :: PType -&gt; PType) (a :: PType) (s :: S) (r :: PType).
PIsListLike list a =&gt;
(Term s (list a :--&gt; r) -&gt; Term s a -&gt; Term s (list a) -&gt; Term s r)
-&gt; (Term s (list a :--&gt; r) -&gt; Term s r) -&gt; Term s (list a :--&gt; r)
</span><span class="hs-identifier hs-var">precList</span></span><span>
</span><span id="line-526"></span><span>      </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679282358"><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PMaybe x)
</span><a href="#local-6989586621679282358"><span class="hs-identifier hs-var">self</span></a></span></span><span> </span><span id="local-6989586621679282359"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679282359"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679282360"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679282360"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-527"></span><span>          </span><span class="annot"><span class="annottext">Term s PBool
-&gt; Term s (PMaybe x) -&gt; Term s (PMaybe x) -&gt; Term s (PMaybe x)
forall (s :: S) (a :: PType).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><span class="hs-identifier hs-var">pif</span></span><span>
</span><span id="line-528"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; a)
</span><span class="hs-identifier hs-var">pfstBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679282359"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s (PAsData k) -&gt; Term s PBool
forall (s :: S).
Term s (PAsData k) -&gt; Term s (PAsData k) -&gt; Term s PBool
forall (t :: PType) (s :: S).
PEq t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><span class="hs-operator hs-var">#==</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679282356"><span class="hs-identifier hs-var">key</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-529"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
</span><a href="#local-6989586621679282355"><span class="hs-identifier hs-var">unwrap</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PMaybe x)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679282359"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-530"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PMaybe x)
</span><a href="#local-6989586621679282358"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PMaybe x)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PMaybe x)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679282360"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-531"></span><span>      </span><span class="hs-special">)</span><span>
</span><span id="line-532"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PMaybe x)
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PMaybe x)
-&gt; Term s (PMaybe x)
forall a b. a -&gt; b -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PMaybe x)
 -&gt; Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PMaybe x)
 -&gt; Term s (PMaybe x))
-&gt; Term s (PMaybe x)
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PMaybe x)
-&gt; Term s (PMaybe x)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PMaybe x s -&gt; Term s (PMaybe x)
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">PMaybe x s
forall (a :: PType) (s :: S). PMaybe a s
</span><span class="hs-identifier hs-var">PNothing</span></span><span class="hs-special">)</span><span class="hs-cpp">
      # pto m
</span><span>
</span><span id="line-535"></span><span class="annot"><span class="hs-comment">{- | Construct a singleton 'PMap' with the given key and value.

@since 2.1.1
-}</span></span><span>
</span><span id="line-539"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#psingleton"><span class="hs-identifier hs-type">psingleton</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-540"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281128"><span class="annot"><a href="#local-6989586621679281128"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281129"><span class="annot"><a href="#local-6989586621679281129"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281130"><span class="annot"><a href="#local-6989586621679281130"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-541"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281128"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281129"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-542"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281130"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679281128"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679281129"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281128"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281129"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-543"></span><span id="psingleton"><span class="annot"><span class="annottext">psingleton :: forall (k :: PType) (v :: PType) (s :: S).
(PIsData k, PIsData v) =&gt;
Term s (k :--&gt; (v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#psingleton"><span class="hs-identifier hs-var hs-var">psingleton</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm (k :--&gt; (v :--&gt; PMap 'Sorted k v))
-&gt; Term s (k :--&gt; (v :--&gt; PMap 'Sorted k v))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm (k :--&gt; (v :--&gt; PMap 'Sorted k v))
 -&gt; Term s (k :--&gt; (v :--&gt; PMap 'Sorted k v)))
-&gt; ClosedTerm (k :--&gt; (v :--&gt; PMap 'Sorted k v))
-&gt; Term s (k :--&gt; (v :--&gt; PMap 'Sorted k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s k -&gt; Term s v -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (k :--&gt; (v :--&gt; PMap 'Sorted k v))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s v -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (c :--&gt; (v :--&gt; PMap 'Sorted k v))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s k -&gt; Term s v -&gt; Term s (PMap 'Sorted k v))
 -&gt; Term s (k :--&gt; (v :--&gt; PMap 'Sorted k v)))
-&gt; (Term s k -&gt; Term s v -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (k :--&gt; (v :--&gt; PMap 'Sorted k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679282373"><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679282373"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span id="local-6989586621679282374"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679282374"><span class="hs-identifier hs-var">value</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k :--&gt; (PAsData v :--&gt; PMap 'Sorted k v))
forall (k :: PType) (v :: PType) (s :: S).
Term s (PAsData k :--&gt; (PAsData v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#psingletonData"><span class="hs-identifier hs-var">psingletonData</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k :--&gt; (PAsData v :--&gt; PMap 'Sorted k v))
-&gt; Term s (PAsData k) -&gt; Term s (PAsData v :--&gt; PMap 'Sorted k v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; Term s (PAsData k)
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><span class="hs-identifier hs-var">pdata</span></span><span> </span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679282373"><span class="hs-identifier hs-var">key</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v :--&gt; PMap 'Sorted k v)
-&gt; Term s (PAsData v) -&gt; Term s (PMap 'Sorted k v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v -&gt; Term s (PAsData v)
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><span class="hs-identifier hs-var">pdata</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679282374"><span class="hs-identifier hs-var">value</span></a></span><span>
</span><span id="line-544"></span><span>
</span><span id="line-545"></span><span class="annot"><span class="hs-comment">{- | Construct a singleton 'PMap' with the given data-encoded key and value.

@since 2.1.1
-}</span></span><span>
</span><span id="line-549"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#psingletonData"><span class="hs-identifier hs-type">psingletonData</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-550"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281136"><span class="annot"><a href="#local-6989586621679281136"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281137"><span class="annot"><a href="#local-6989586621679281137"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281135"><span class="annot"><a href="#local-6989586621679281135"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-551"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281135"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281136"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281137"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281136"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281137"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-552"></span><span id="psingletonData"><span class="annot"><span class="annottext">psingletonData :: forall (k :: PType) (v :: PType) (s :: S).
Term s (PAsData k :--&gt; (PAsData v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#psingletonData"><span class="hs-identifier hs-var hs-var">psingletonData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm (PAsData k :--&gt; (PAsData v :--&gt; PMap 'Sorted k v))
-&gt; Term s (PAsData k :--&gt; (PAsData v :--&gt; PMap 'Sorted k v))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm (PAsData k :--&gt; (PAsData v :--&gt; PMap 'Sorted k v))
 -&gt; Term s (PAsData k :--&gt; (PAsData v :--&gt; PMap 'Sorted k v)))
-&gt; ClosedTerm (PAsData k :--&gt; (PAsData v :--&gt; PMap 'Sorted k v))
-&gt; Term s (PAsData k :--&gt; (PAsData v :--&gt; PMap 'Sorted k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-553"></span><span>  </span><span class="annot"><span class="annottext">(Term s (PAsData k)
 -&gt; Term s (PAsData v) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (PAsData k :--&gt; (PAsData v :--&gt; PMap 'Sorted k v))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PAsData v) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (c :--&gt; (PAsData v :--&gt; PMap 'Sorted k v))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PAsData k)
  -&gt; Term s (PAsData v) -&gt; Term s (PMap 'Sorted k v))
 -&gt; Term s (PAsData k :--&gt; (PAsData v :--&gt; PMap 'Sorted k v)))
-&gt; (Term s (PAsData k)
    -&gt; Term s (PAsData v) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (PAsData k :--&gt; (PAsData v :--&gt; PMap 'Sorted k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-554"></span><span>    </span><span class="hs-glyph">\</span><span id="local-6989586621679282390"><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679282390"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span id="local-6989586621679282391"><span class="annot"><span class="annottext">Term s (PAsData v)
</span><a href="#local-6989586621679282391"><span class="hs-identifier hs-var">value</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PInner (PMap 'Sorted k v)) -&gt; Term s (PMap 'Sorted k v)
forall (s :: S) (a :: PType). Term s (PInner a) -&gt; Term s a
</span><span class="hs-identifier hs-var">punsafeDowncast</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PAsData k
   :--&gt; (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term
  s
  (PAsData a
   :--&gt; (PAsData b :--&gt; PBuiltinPair (PAsData a) (PAsData b)))
</span><span class="hs-identifier hs-var">ppairDataBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PAsData k
   :--&gt; (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PAsData k)
-&gt; Term s (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679282390"><span class="hs-identifier hs-var">key</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData v)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v)
</span><a href="#local-6989586621679282391"><span class="hs-identifier hs-var">value</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (PBuiltinList a)
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (list a)
</span><span class="hs-identifier hs-var">pnil</span></span><span class="hs-special">)</span><span>
</span><span id="line-555"></span><span>
</span><span id="line-556"></span><span class="annot"><span class="hs-comment">{- | Look up the given key in a 'PMap'; return the default if the key is
 absent or apply the argument function to the value data if present.

 @since 2.1.1
-}</span></span><span>
</span><span id="line-561"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pfoldAt"><span class="hs-identifier hs-type">pfoldAt</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-562"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281142"><span class="annot"><a href="#local-6989586621679281142"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281145"><span class="annot"><a href="#local-6989586621679281145"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281146"><span class="annot"><a href="#local-6989586621679281146"><span class="hs-identifier hs-type">any</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#KeyGuarantees"><span class="hs-identifier hs-type">KeyGuarantees</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281144"><span class="annot"><a href="#local-6989586621679281144"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281143"><span class="annot"><a href="#local-6989586621679281143"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-563"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281142"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-564"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281143"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679281142"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679281144"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281145"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679281144"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281146"><span class="hs-identifier hs-type">any</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281142"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281145"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679281144"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-565"></span><span id="pfoldAt"><span class="annot"><span class="annottext">pfoldAt :: forall (k :: PType) (v :: PType) (any :: KeyGuarantees)
       (r :: PType) (s :: S).
PIsData k =&gt;
Term
  s (k :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pfoldAt"><span class="hs-identifier hs-var hs-var">pfoldAt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm
  (k :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
-&gt; Term
     s (k :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   (k :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
 -&gt; Term
      s
      (k :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r)))))
-&gt; ClosedTerm
     (k :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
-&gt; Term
     s (k :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-566"></span><span>  </span><span class="annot"><span class="annottext">(Term s k
 -&gt; Term s (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
-&gt; Term
     s (k :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term s (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
-&gt; Term
     s (c :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s k
  -&gt; Term s (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
 -&gt; Term
      s
      (k :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r)))))
-&gt; (Term s k
    -&gt; Term s (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
-&gt; Term
     s (k :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-567"></span><span>    </span><span class="hs-glyph">\</span><span id="local-6989586621679282400"><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679282400"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PAsData k
   :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
forall (k :: PType) (v :: PType) (any :: KeyGuarantees)
       (r :: PType) (s :: S).
Term
  s
  (PAsData k
   :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pfoldAtData"><span class="hs-identifier hs-var">pfoldAtData</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PAsData k
   :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
-&gt; Term s (PAsData k)
-&gt; Term s (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; Term s (PAsData k)
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><span class="hs-identifier hs-var">pdata</span></span><span> </span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679282400"><span class="hs-identifier hs-var">key</span></a></span><span>
</span><span id="line-568"></span><span>
</span><span id="line-569"></span><span class="annot"><span class="hs-comment">{- | Look up the given key data in a 'PMap'; return the default if the key is
 absent or apply the argument function to the value data if present.

 @since 2.1.1
-}</span></span><span>
</span><span id="line-574"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pfoldAtData"><span class="hs-identifier hs-type">pfoldAtData</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-575"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281154"><span class="annot"><a href="#local-6989586621679281154"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281156"><span class="annot"><a href="#local-6989586621679281156"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281157"><span class="annot"><a href="#local-6989586621679281157"><span class="hs-identifier hs-type">any</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#KeyGuarantees"><span class="hs-identifier hs-type">KeyGuarantees</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281155"><span class="annot"><a href="#local-6989586621679281155"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281153"><span class="annot"><a href="#local-6989586621679281153"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-576"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281153"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281154"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679281155"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281156"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679281155"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281157"><span class="hs-identifier hs-type">any</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281154"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281156"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679281155"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-577"></span><span id="pfoldAtData"><span class="annot"><span class="annottext">pfoldAtData :: forall (k :: PType) (v :: PType) (any :: KeyGuarantees)
       (r :: PType) (s :: S).
Term
  s
  (PAsData k
   :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pfoldAtData"><span class="hs-identifier hs-var hs-var">pfoldAtData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm
  (PAsData k
   :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
-&gt; Term
     s
     (PAsData k
      :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   (PAsData k
    :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
 -&gt; Term
      s
      (PAsData k
       :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r)))))
-&gt; ClosedTerm
     (PAsData k
      :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
-&gt; Term
     s
     (PAsData k
      :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-578"></span><span>  </span><span class="annot"><span class="annottext">(Term s (PAsData k)
 -&gt; Term s r
 -&gt; Term s (PAsData v :--&gt; r)
 -&gt; Term s (PMap any k v)
 -&gt; Term s r)
-&gt; Term
     s
     (PAsData k
      :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term s r
 -&gt; Term s (PAsData v :--&gt; r)
 -&gt; Term s (PMap any k v)
 -&gt; Term s r)
-&gt; Term
     s (c :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PAsData k)
  -&gt; Term s r
  -&gt; Term s (PAsData v :--&gt; r)
  -&gt; Term s (PMap any k v)
  -&gt; Term s r)
 -&gt; Term
      s
      (PAsData k
       :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r)))))
-&gt; (Term s (PAsData k)
    -&gt; Term s r
    -&gt; Term s (PAsData v :--&gt; r)
    -&gt; Term s (PMap any k v)
    -&gt; Term s r)
-&gt; Term
     s
     (PAsData k
      :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679282420"><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679282420"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span id="local-6989586621679282421"><span class="annot"><span class="annottext">Term s r
</span><a href="#local-6989586621679282421"><span class="hs-identifier hs-var">def</span></a></span></span><span> </span><span id="local-6989586621679282422"><span class="annot"><span class="annottext">Term s (PAsData v :--&gt; r)
</span><a href="#local-6989586621679282422"><span class="hs-identifier hs-var">apply</span></a></span></span><span> </span><span id="local-6989586621679282423"><span class="annot"><span class="annottext">Term s (PMap any k v)
</span><a href="#local-6989586621679282423"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-579"></span><span>    </span><span class="annot"><span class="annottext">(Term
   s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; r)
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s r)
-&gt; (Term
      s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; r)
    -&gt; Term s r)
-&gt; Term
     s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; r)
forall (list :: PType -&gt; PType) (a :: PType) (s :: S) (r :: PType).
PIsListLike list a =&gt;
(Term s (list a :--&gt; r) -&gt; Term s a -&gt; Term s (list a) -&gt; Term s r)
-&gt; (Term s (list a :--&gt; r) -&gt; Term s r) -&gt; Term s (list a :--&gt; r)
</span><span class="hs-identifier hs-var">precList</span></span><span>
</span><span id="line-580"></span><span>      </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679282424"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; r)
</span><a href="#local-6989586621679282424"><span class="hs-identifier hs-var">self</span></a></span></span><span> </span><span id="local-6989586621679282425"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679282425"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679282426"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679282426"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-581"></span><span>          </span><span class="annot"><span class="annottext">Term s PBool -&gt; Term s r -&gt; Term s r -&gt; Term s r
forall (s :: S) (a :: PType).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><span class="hs-identifier hs-var">pif</span></span><span>
</span><span id="line-582"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; a)
</span><span class="hs-identifier hs-var">pfstBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679282425"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s (PAsData k) -&gt; Term s PBool
forall (s :: S).
Term s (PAsData k) -&gt; Term s (PAsData k) -&gt; Term s PBool
forall (t :: PType) (s :: S).
PEq t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><span class="hs-operator hs-var">#==</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679282420"><span class="hs-identifier hs-var">key</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-583"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData v :--&gt; r)
</span><a href="#local-6989586621679282422"><span class="hs-identifier hs-var">apply</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v :--&gt; r) -&gt; Term s (PAsData v) -&gt; Term s r
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#$</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; b)
</span><span class="hs-identifier hs-var">psndBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679282425"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-584"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; r)
</span><a href="#local-6989586621679282424"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; r)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s r
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679282426"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-585"></span><span>      </span><span class="hs-special">)</span><span>
</span><span id="line-586"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s r
-&gt; Term
     s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; r)
-&gt; Term s r
forall a b. a -&gt; b -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">Term s r
</span><a href="#local-6989586621679282421"><span class="hs-identifier hs-var">def</span></a></span><span class="hs-special">)</span><span class="hs-cpp">
      # pto m
</span><span>
</span><span id="line-589"></span><span class="annot"><span class="hs-comment">{- | Build the union of two 'PMap's. Take the value from the left argument for colliding keys.

 Prefer this over 'punionResolvingCollisionsWith NonCommutative # plam const'. It performs better.

 @since 2.1.1
-}</span></span><span>
</span><span id="line-595"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pleftBiasedUnion"><span class="hs-identifier hs-type">pleftBiasedUnion</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-596"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281164"><span class="annot"><a href="#local-6989586621679281164"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281165"><span class="annot"><a href="#local-6989586621679281165"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281166"><span class="annot"><a href="#local-6989586621679281166"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-597"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">POrd</span></span><span> </span><span class="annot"><a href="#local-6989586621679281164"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281164"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281165"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-598"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281166"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281164"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281165"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281164"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281165"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281164"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281165"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-599"></span><span id="pleftBiasedUnion"><span class="annot"><span class="annottext">pleftBiasedUnion :: forall (k :: PType) (v :: PType) (s :: S).
(POrd k, PIsData k, PIsData v) =&gt;
Term
  s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pleftBiasedUnion"><span class="hs-identifier hs-var hs-var">pleftBiasedUnion</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-600"></span><span>  </span><span class="annot"><span class="annottext">ClosedTerm
  (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; ClosedTerm
     (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-601"></span><span>    </span><span class="annot"><span class="annottext">SomeMergeHandler k v s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (s :: S) (k :: PType) (v :: PType).
(POrd k, PIsData k, PIsData v) =&gt;
SomeMergeHandler k v s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pzipWith"><span class="hs-identifier hs-var">pzipWith</span></a></span><span> </span><span class="annot"><span class="annottext">(SomeMergeHandler k v s
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; SomeMergeHandler k v s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-602"></span><span>      </span><span class="annot"><span class="annottext">MergeHandler_ (-&gt;) (Term s k) (Term s v) -&gt; SomeMergeHandler k v s
forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandler_ f k v -&gt; SomeMergeHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-var">SomeMergeHandler</span></a></span><span> </span><span class="annot"><span class="annottext">(MergeHandler_ (-&gt;) (Term s k) (Term s v)
 -&gt; SomeMergeHandler k v s)
-&gt; MergeHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; SomeMergeHandler k v s
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-603"></span><span>        </span><span class="annot"><span class="annottext">BothPresentHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; MergeHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
BothPresentHandler_ f k v
-&gt; OnePresentHandler_ f k v
-&gt; OnePresentHandler_ f k v
-&gt; MergeHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandler"><span class="hs-identifier hs-var">MergeHandler</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; BothPresentHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
Bool -&gt; BothPresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#PassArg"><span class="hs-identifier hs-var">PassArg</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#True"><span class="hs-identifier hs-var">True</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v. OnePresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v. OnePresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span>
</span><span id="line-604"></span><span>
</span><span id="line-605"></span><span class="annot"><span class="hs-comment">{- | Difference of two maps. Return elements of the first map not existing in the second map.

@since 2.1.1
-}</span></span><span>
</span><span id="line-609"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pdifference"><span class="hs-identifier hs-type">pdifference</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-610"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281187"><span class="annot"><a href="#local-6989586621679281187"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281188"><span class="annot"><a href="#local-6989586621679281188"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281189"><span class="annot"><a href="#local-6989586621679281189"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-611"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281187"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">POrd</span></span><span> </span><span class="annot"><a href="#local-6989586621679281187"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281188"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-612"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281189"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281187"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281188"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281187"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281188"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281187"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281188"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-613"></span><span id="pdifference"><span class="annot"><span class="annottext">pdifference :: forall (k :: PType) (v :: PType) (s :: S).
(PIsData k, POrd k, PIsData v) =&gt;
Term
  s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pdifference"><span class="hs-identifier hs-var hs-var">pdifference</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-614"></span><span>  </span><span class="annot"><span class="annottext">ClosedTerm
  (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; ClosedTerm
     (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-615"></span><span>    </span><span class="annot"><span class="annottext">SomeMergeHandler k v s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (s :: S) (k :: PType) (v :: PType).
(POrd k, PIsData k, PIsData v) =&gt;
SomeMergeHandler k v s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pzipWith"><span class="hs-identifier hs-var">pzipWith</span></a></span><span> </span><span class="annot"><span class="annottext">(SomeMergeHandler k v s
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; SomeMergeHandler k v s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-616"></span><span>      </span><span class="annot"><span class="annottext">MergeHandler_ (-&gt;) (Term s k) (Term s v) -&gt; SomeMergeHandler k v s
forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandler_ f k v -&gt; SomeMergeHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-var">SomeMergeHandler</span></a></span><span> </span><span class="annot"><span class="annottext">(MergeHandler_ (-&gt;) (Term s k) (Term s v)
 -&gt; SomeMergeHandler k v s)
-&gt; MergeHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; SomeMergeHandler k v s
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-617"></span><span>        </span><span class="annot"><span class="annottext">BothPresentHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; MergeHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
BothPresentHandler_ f k v
-&gt; OnePresentHandler_ f k v
-&gt; OnePresentHandler_ f k v
-&gt; MergeHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandler"><span class="hs-identifier hs-var">MergeHandler</span></a></span><span> </span><span class="annot"><span class="annottext">BothPresentHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v. BothPresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#DropBoth"><span class="hs-identifier hs-var">DropBoth</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v. OnePresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v. OnePresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span>
</span><span id="line-618"></span><span>
</span><span id="line-619"></span><span class="annot"><span class="hs-comment">{- | Tests if anu value in the map satisfies the given predicate.

@since 2.1.1
-}</span></span><span>
</span><span id="line-623"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pany"><span class="hs-identifier hs-type">pany</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-624"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281197"><span class="annot"><a href="#local-6989586621679281197"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281194"><span class="annot"><a href="#local-6989586621679281194"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281196"><span class="annot"><a href="#local-6989586621679281196"><span class="hs-identifier hs-type">any</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#KeyGuarantees"><span class="hs-identifier hs-type">KeyGuarantees</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281195"><span class="annot"><a href="#local-6989586621679281195"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-625"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281194"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-626"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281195"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679281194"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBool</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281196"><span class="hs-identifier hs-type">any</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281197"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281194"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBool</span></span><span class="hs-special">)</span><span>
</span><span id="line-627"></span><span id="pany"><span class="annot"><span class="annottext">pany :: forall (k :: PType) (v :: PType) (any :: KeyGuarantees) (s :: S).
PIsData v =&gt;
Term s ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pany"><span class="hs-identifier hs-var hs-var">pany</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
-&gt; Term s ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
 -&gt; Term s ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool)))
-&gt; ClosedTerm ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
-&gt; Term s ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-628"></span><span>  </span><span class="annot"><span class="annottext">(Term s (v :--&gt; PBool) -&gt; Term s (PMap any k v) -&gt; Term s PBool)
-&gt; Term s ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap any k v) -&gt; Term s PBool)
-&gt; Term s (c :--&gt; (PMap any k v :--&gt; PBool))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (v :--&gt; PBool) -&gt; Term s (PMap any k v) -&gt; Term s PBool)
 -&gt; Term s ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool)))
-&gt; (Term s (v :--&gt; PBool) -&gt; Term s (PMap any k v) -&gt; Term s PBool)
-&gt; Term s ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679282468"><span class="annot"><span class="annottext">Term s (v :--&gt; PBool)
</span><a href="#local-6989586621679282468"><span class="hs-identifier hs-var">pred</span></a></span></span><span> </span><span id="local-6989586621679282469"><span class="annot"><span class="annottext">Term s (PMap any k v)
</span><a href="#local-6989586621679282469"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-629"></span><span>    </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBool))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
PIsListLike list a =&gt;
Term s ((a :--&gt; PBool) :--&gt; (list a :--&gt; PBool))
</span><span class="hs-identifier hs-var">List.pany</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBool))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool)
-&gt; Term
     s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PBool)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinPair (PAsData k) (PAsData v)) -&gt; Term s PBool)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool)
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s PBool) -&gt; Term s (c :--&gt; PBool)
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679282470"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679282470"><span class="hs-identifier hs-var">pair</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; PBool)
</span><a href="#local-6989586621679282468"><span class="hs-identifier hs-var">pred</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; PBool) -&gt; Term s v -&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#$</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v) -&gt; Term s v
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData v) -&gt; Term s v) -&gt; Term s (PAsData v) -&gt; Term s v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; b)
</span><span class="hs-identifier hs-var">psndBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679282470"><span class="hs-identifier hs-var">pair</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term
  s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PBool)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap any k v) -&gt; Term s (PInner (PMap any k v))
forall (s :: S) (a :: PType). Term s a -&gt; Term s (PInner a)
</span><span class="hs-identifier hs-var">pto</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap any k v)
</span><a href="#local-6989586621679282469"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-630"></span><span>
</span><span id="line-631"></span><span class="annot"><span class="hs-comment">{- | Look up the given key in a 'PMap', returning the default value if the key is absent.

@since 2.1.1
-}</span></span><span>
</span><span id="line-635"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pfindWithDefault"><span class="hs-identifier hs-type">pfindWithDefault</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-636"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281203"><span class="annot"><a href="#local-6989586621679281203"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281204"><span class="annot"><a href="#local-6989586621679281204"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281206"><span class="annot"><a href="#local-6989586621679281206"><span class="hs-identifier hs-type">any</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#KeyGuarantees"><span class="hs-identifier hs-type">KeyGuarantees</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281205"><span class="annot"><a href="#local-6989586621679281205"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-637"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281203"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281204"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-638"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281205"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679281204"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679281203"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281206"><span class="hs-identifier hs-type">any</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281203"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281204"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679281204"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-639"></span><span id="pfindWithDefault"><span class="annot"><span class="annottext">pfindWithDefault :: forall (k :: PType) (v :: PType) (any :: KeyGuarantees) (s :: S).
(PIsData k, PIsData v) =&gt;
Term s (v :--&gt; (k :--&gt; (PMap any k v :--&gt; v)))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pfindWithDefault"><span class="hs-identifier hs-var hs-var">pfindWithDefault</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm (v :--&gt; (k :--&gt; (PMap any k v :--&gt; v)))
-&gt; Term s (v :--&gt; (k :--&gt; (PMap any k v :--&gt; v)))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm (v :--&gt; (k :--&gt; (PMap any k v :--&gt; v)))
 -&gt; Term s (v :--&gt; (k :--&gt; (PMap any k v :--&gt; v))))
-&gt; ClosedTerm (v :--&gt; (k :--&gt; (PMap any k v :--&gt; v)))
-&gt; Term s (v :--&gt; (k :--&gt; (PMap any k v :--&gt; v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s v -&gt; Term s k -&gt; Term s (PMap any k v :--&gt; v))
-&gt; Term s (v :--&gt; (k :--&gt; (PMap any k v :--&gt; v)))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s k -&gt; Term s (PMap any k v :--&gt; v))
-&gt; Term s (c :--&gt; (k :--&gt; (PMap any k v :--&gt; v)))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s v -&gt; Term s k -&gt; Term s (PMap any k v :--&gt; v))
 -&gt; Term s (v :--&gt; (k :--&gt; (PMap any k v :--&gt; v))))
-&gt; (Term s v -&gt; Term s k -&gt; Term s (PMap any k v :--&gt; v))
-&gt; Term s (v :--&gt; (k :--&gt; (PMap any k v :--&gt; v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679282487"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679282487"><span class="hs-identifier hs-var">def</span></a></span></span><span> </span><span id="local-6989586621679282488"><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679282488"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PAsData k
   :--&gt; (v :--&gt; ((PAsData v :--&gt; v) :--&gt; (PMap any k v :--&gt; v))))
forall (k :: PType) (v :: PType) (any :: KeyGuarantees)
       (r :: PType) (s :: S).
Term
  s
  (PAsData k
   :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pfoldAtData"><span class="hs-identifier hs-var">pfoldAtData</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PAsData k
   :--&gt; (v :--&gt; ((PAsData v :--&gt; v) :--&gt; (PMap any k v :--&gt; v))))
-&gt; Term s (PAsData k)
-&gt; Term s (v :--&gt; ((PAsData v :--&gt; v) :--&gt; (PMap any k v :--&gt; v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; Term s (PAsData k)
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><span class="hs-identifier hs-var">pdata</span></span><span> </span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679282488"><span class="hs-identifier hs-var">key</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; ((PAsData v :--&gt; v) :--&gt; (PMap any k v :--&gt; v)))
-&gt; Term s v
-&gt; Term s ((PAsData v :--&gt; v) :--&gt; (PMap any k v :--&gt; v))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679282487"><span class="hs-identifier hs-var">def</span></a></span><span> </span><span class="annot"><span class="annottext">Term s ((PAsData v :--&gt; v) :--&gt; (PMap any k v :--&gt; v))
-&gt; Term s (PAsData v :--&gt; v) -&gt; Term s (PMap any k v :--&gt; v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData v) -&gt; Term s v) -&gt; Term s (PAsData v :--&gt; v)
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s v) -&gt; Term s (c :--&gt; v)
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v) -&gt; Term s v
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span>
</span><span id="line-640"></span><span>
</span><span id="line-641"></span><span class="annot"><span class="hs-comment">{- | Insert a new key/value pair into the map, overriding the previous if any.

@since 2.1.1
-}</span></span><span>
</span><span id="line-645"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pinsert"><span class="hs-identifier hs-type">pinsert</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-646"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281212"><span class="annot"><a href="#local-6989586621679281212"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281213"><span class="annot"><a href="#local-6989586621679281213"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281214"><span class="annot"><a href="#local-6989586621679281214"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-647"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">POrd</span></span><span> </span><span class="annot"><a href="#local-6989586621679281212"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281212"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281213"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-648"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281214"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679281212"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679281213"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281212"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281213"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281212"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281213"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-649"></span><span id="pinsert"><span class="annot"><span class="annottext">pinsert :: forall (k :: PType) (v :: PType) (s :: S).
(POrd k, PIsData k, PIsData v) =&gt;
Term s (k :--&gt; (v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pinsert"><span class="hs-identifier hs-var hs-var">pinsert</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm
  (k :--&gt; (v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s (k :--&gt; (v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   (k :--&gt; (v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
 -&gt; Term
      s (k :--&gt; (v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; ClosedTerm
     (k :--&gt; (v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s (k :--&gt; (v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-650"></span><span>  </span><span class="annot"><span class="annottext">(Term s k
 -&gt; Term s v -&gt; Term s (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
-&gt; Term
     s (k :--&gt; (v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term s v -&gt; Term s (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
-&gt; Term
     s (c :--&gt; (v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s k
  -&gt; Term s v -&gt; Term s (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
 -&gt; Term
      s (k :--&gt; (v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; (Term s k
    -&gt; Term s v -&gt; Term s (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
-&gt; Term
     s (k :--&gt; (v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679282513"><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679282513"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span id="local-6989586621679282514"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679282514"><span class="hs-identifier hs-var">val</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-651"></span><span>    </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
   :--&gt; (k :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall (g :: KeyGuarantees) (k :: PType) (v :: PType) (s :: S).
(POrd k, PIsData k) =&gt;
Term
  s
  ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
   :--&gt; (k :--&gt; (PMap g k v :--&gt; PMap g k v)))
</span><a href="Plutarch.LedgerApi.AssocMap.html#rebuildAtKey"><span class="hs-identifier hs-var">rebuildAtKey</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
   :--&gt; (k :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (k :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s (c :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PAsData k
   :--&gt; (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term
  s
  (PAsData a
   :--&gt; (PAsData b :--&gt; PBuiltinPair (PAsData a) (PAsData b)))
</span><span class="hs-identifier hs-var">ppairDataBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PAsData k
   :--&gt; (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PAsData k)
-&gt; Term s (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; Term s (PAsData k)
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><span class="hs-identifier hs-var">pdata</span></span><span> </span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679282513"><span class="hs-identifier hs-var">key</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData v)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v -&gt; Term s (PAsData v)
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><span class="hs-identifier hs-var">pdata</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679282514"><span class="hs-identifier hs-var">val</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term s (k :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
-&gt; Term s k -&gt; Term s (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679282513"><span class="hs-identifier hs-var">key</span></a></span><span>
</span><span id="line-652"></span><span>
</span><span id="line-653"></span><span class="annot"><span class="hs-comment">{- | Delete a key from the map.

@since 2.1.1
-}</span></span><span>
</span><span id="line-657"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pdelete"><span class="hs-identifier hs-type">pdelete</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-658"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281223"><span class="annot"><a href="#local-6989586621679281223"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281225"><span class="annot"><a href="#local-6989586621679281225"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281224"><span class="annot"><a href="#local-6989586621679281224"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-659"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">POrd</span></span><span> </span><span class="annot"><a href="#local-6989586621679281223"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281223"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-660"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281224"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679281223"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281223"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281225"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281223"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281225"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-661"></span><span id="pdelete"><span class="annot"><span class="annottext">pdelete :: forall (k :: PType) (v :: PType) (s :: S).
(POrd k, PIsData k) =&gt;
Term s (k :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pdelete"><span class="hs-identifier hs-var hs-var">pdelete</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
   :--&gt; (k :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall (g :: KeyGuarantees) (k :: PType) (v :: PType) (s :: S).
(POrd k, PIsData k) =&gt;
Term
  s
  ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
   :--&gt; (k :--&gt; (PMap g k v :--&gt; PMap g k v)))
</span><a href="Plutarch.LedgerApi.AssocMap.html#rebuildAtKey"><span class="hs-identifier hs-var">rebuildAtKey</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
   :--&gt; (k :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (k :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s (c :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a. a -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#id"><span class="hs-identifier hs-var">id</span></a></span><span>
</span><span id="line-662"></span><span>
</span><span id="line-663"></span><span class="annot"><span class="hs-comment">{- | Zip two 'PMap's, using the given potentially non-commutative value merge
 function for key collisions, and different values for the sides.

 @since 2.1.1
-}</span></span><span>
</span><span id="line-668"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pzipWithDefaults"><span class="hs-identifier hs-type">pzipWithDefaults</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-669"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281233"><span class="annot"><a href="#local-6989586621679281233"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281230"><span class="annot"><a href="#local-6989586621679281230"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281231"><span class="annot"><a href="#local-6989586621679281231"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-670"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">POrd</span></span><span> </span><span class="annot"><a href="#local-6989586621679281230"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281230"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281231"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-671"></span><span>  </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281232"><span class="annot"><a href="#local-6989586621679281232"><span class="hs-identifier hs-type">s'</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281232"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281231"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-672"></span><span>  </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679282525"><span class="annot"><a href="#local-6989586621679282525"><span class="hs-identifier hs-type">s'</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679282525"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281231"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-673"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span>
</span><span id="line-674"></span><span>    </span><span class="annot"><a href="#local-6989586621679281233"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-675"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679281231"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679281231"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679281231"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-676"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281230"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281231"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-677"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281230"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281231"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-678"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281230"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281231"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-679"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-680"></span><span id="pzipWithDefaults"><span class="annot"><span class="annottext">pzipWithDefaults :: forall (s :: S) (k :: PType) (v :: PType).
(POrd k, PIsData k, PIsData v) =&gt;
(forall (s' :: S). Term s' v)
-&gt; (forall (s' :: S). Term s' v)
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pzipWithDefaults"><span class="hs-identifier hs-var hs-var">pzipWithDefaults</span></a></span></span><span> </span><span id="local-6989586621679282531"><span class="annot"><span class="annottext">forall (s' :: S). Term s' v
</span><a href="#local-6989586621679282531"><span class="hs-identifier hs-var">defLeft</span></a></span></span><span> </span><span id="local-6989586621679282532"><span class="annot"><span class="annottext">forall (s' :: S). Term s' v
</span><a href="#local-6989586621679282532"><span class="hs-identifier hs-var">defRight</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-681"></span><span>  </span><span class="annot"><span class="annottext">ClosedTerm
  ((v :--&gt; (v :--&gt; v))
   :--&gt; (PMap 'Sorted k v
         :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   ((v :--&gt; (v :--&gt; v))
    :--&gt; (PMap 'Sorted k v
          :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
 -&gt; Term
      s
      ((v :--&gt; (v :--&gt; v))
       :--&gt; (PMap 'Sorted k v
             :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; ClosedTerm
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-682"></span><span>    </span><span class="annot"><span class="annottext">(Term s (v :--&gt; (v :--&gt; v))
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     (c
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (v :--&gt; (v :--&gt; v))
  -&gt; Term
       s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
 -&gt; Term
      s
      ((v :--&gt; (v :--&gt; v))
       :--&gt; (PMap 'Sorted k v
             :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; (Term s (v :--&gt; (v :--&gt; v))
    -&gt; Term
         s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-683"></span><span>      </span><span class="annot"><span class="annottext">SomeMergeHandler k v s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (s :: S) (k :: PType) (v :: PType).
(POrd k, PIsData k, PIsData v) =&gt;
SomeMergeHandler k v s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pzipWith"><span class="hs-identifier hs-var">pzipWith</span></a></span><span> </span><span class="annot"><span class="annottext">(SomeMergeHandler k v s
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; (Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s)
-&gt; Term s (v :--&gt; (v :--&gt; v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s v
-&gt; Term s v -&gt; Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s
forall (s :: S) (v :: PType) (k :: PType).
Term s v
-&gt; Term s v -&gt; Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s
</span><a href="Plutarch.LedgerApi.AssocMap.html#defaultMergeHandlerNonCommutative"><span class="hs-identifier hs-var">defaultMergeHandlerNonCommutative</span></a></span><span> </span><span class="annot"><span class="annottext">Term s v
forall (s' :: S). Term s' v
</span><a href="#local-6989586621679282531"><span class="hs-identifier hs-var">defLeft</span></a></span><span> </span><span class="annot"><span class="annottext">Term s v
forall (s' :: S). Term s' v
</span><a href="#local-6989586621679282532"><span class="hs-identifier hs-var">defRight</span></a></span><span>
</span><span id="line-684"></span><span>
</span><span id="line-685"></span><span class="annot"><span class="hs-comment">{- | Build the intersection of two 'PMap's, merging values that share the same key using the
given function.

@since 2.1.1
-}</span></span><span>
</span><span id="line-690"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pintersectionWith"><span class="hs-identifier hs-type">pintersectionWith</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-691"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679282541"><span class="annot"><a href="#local-6989586621679282541"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679282542"><span class="annot"><a href="#local-6989586621679282542"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679282543"><span class="annot"><a href="#local-6989586621679282543"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-692"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">POrd</span></span><span> </span><span class="annot"><a href="#local-6989586621679282541"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679282541"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679282542"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-693"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Commutativity"><span class="hs-identifier hs-type">Commutativity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-694"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679282543"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679282542"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679282542"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679282542"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679282541"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679282542"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679282541"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679282542"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679282541"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679282542"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-695"></span><span id="pintersectionWith"><span class="annot"><span class="annottext">pintersectionWith :: forall (k :: PType) (v :: PType) (s :: S).
(POrd k, PIsData k, PIsData v) =&gt;
Commutativity
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pintersectionWith"><span class="hs-identifier hs-var hs-var">pintersectionWith</span></a></span></span><span> </span><span id="local-6989586621679282549"><span class="annot"><span class="annottext">Commutativity
</span><a href="#local-6989586621679282549"><span class="hs-identifier hs-var">commutativity</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-696"></span><span>  </span><span class="annot"><span class="annottext">ClosedTerm
  ((v :--&gt; (v :--&gt; v))
   :--&gt; (PMap 'Sorted k v
         :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   ((v :--&gt; (v :--&gt; v))
    :--&gt; (PMap 'Sorted k v
          :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
 -&gt; Term
      s
      ((v :--&gt; (v :--&gt; v))
       :--&gt; (PMap 'Sorted k v
             :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; ClosedTerm
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-697"></span><span>    </span><span class="annot"><span class="annottext">(Term s (v :--&gt; (v :--&gt; v))
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     (c
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (v :--&gt; (v :--&gt; v))
  -&gt; Term
       s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
 -&gt; Term
      s
      ((v :--&gt; (v :--&gt; v))
       :--&gt; (PMap 'Sorted k v
             :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; (Term s (v :--&gt; (v :--&gt; v))
    -&gt; Term
         s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-698"></span><span>      </span><span class="annot"><span class="annottext">SomeMergeHandler k v s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (s :: S) (k :: PType) (v :: PType).
(POrd k, PIsData k, PIsData v) =&gt;
SomeMergeHandler k v s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pzipWith"><span class="hs-identifier hs-var">pzipWith</span></a></span><span> </span><span class="annot"><span class="annottext">(SomeMergeHandler k v s
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; (Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s)
-&gt; Term s (v :--&gt; (v :--&gt; v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Commutativity
-&gt; Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s
forall (s :: S) (k :: PType) (v :: PType).
Commutativity
-&gt; Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s
</span><a href="Plutarch.LedgerApi.AssocMap.html#intersectionMergeHandler"><span class="hs-identifier hs-var">intersectionMergeHandler</span></a></span><span> </span><span class="annot"><span class="annottext">Commutativity
</span><a href="#local-6989586621679282549"><span class="hs-identifier hs-var">commutativity</span></a></span><span>
</span><span id="line-699"></span><span>
</span><span id="line-700"></span><span class="annot"><span class="hs-comment">{- | Build the intersection of two 'PMap's, merging data-encoded values that share the same key using the
given function.

@since 2.1.1
-}</span></span><span>
</span><span id="line-705"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pintersectionWithData"><span class="hs-identifier hs-type">pintersectionWithData</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-706"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679282558"><span class="annot"><a href="#local-6989586621679282558"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679282559"><span class="annot"><a href="#local-6989586621679282559"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679282560"><span class="annot"><a href="#local-6989586621679282560"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-707"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">POrd</span></span><span> </span><span class="annot"><a href="#local-6989586621679282558"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679282558"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-708"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Commutativity"><span class="hs-identifier hs-type">Commutativity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-709"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span>
</span><span id="line-710"></span><span>    </span><span class="annot"><a href="#local-6989586621679282560"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-711"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679282559"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679282559"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679282559"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-712"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679282558"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679282559"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-713"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679282558"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679282559"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-714"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679282558"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679282559"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-715"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-716"></span><span id="pintersectionWithData"><span class="annot"><span class="annottext">pintersectionWithData :: forall (k :: PType) (v :: PType) (s :: S).
(POrd k, PIsData k) =&gt;
Commutativity
-&gt; Term
     s
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pintersectionWithData"><span class="hs-identifier hs-var hs-var">pintersectionWithData</span></a></span></span><span> </span><span id="local-6989586621679282565"><span class="annot"><span class="annottext">Commutativity
</span><a href="#local-6989586621679282565"><span class="hs-identifier hs-var">commutativity</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-717"></span><span>  </span><span class="annot"><span class="annottext">ClosedTerm
  ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
   :--&gt; (PMap 'Sorted k v
         :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
    :--&gt; (PMap 'Sorted k v
          :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
 -&gt; Term
      s
      ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
       :--&gt; (PMap 'Sorted k v
             :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; ClosedTerm
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-718"></span><span>    </span><span class="annot"><span class="annottext">(Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     (c
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
  -&gt; Term
       s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
 -&gt; Term
      s
      ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
       :--&gt; (PMap 'Sorted k v
             :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; (Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
    -&gt; Term
         s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-719"></span><span>      </span><span class="annot"><span class="annottext">SomeMergeHandler (PAsData k) (PAsData v) s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (s :: S) (k :: PType) (v :: PType).
(POrd k, PIsData k) =&gt;
SomeMergeHandler (PAsData k) (PAsData v) s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pzipWithData"><span class="hs-identifier hs-var">pzipWithData</span></a></span><span> </span><span class="annot"><span class="annottext">(SomeMergeHandler (PAsData k) (PAsData v) s
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; (Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
    -&gt; SomeMergeHandler (PAsData k) (PAsData v) s)
-&gt; Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Commutativity
-&gt; Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
-&gt; SomeMergeHandler (PAsData k) (PAsData v) s
forall (s :: S) (k :: PType) (v :: PType).
Commutativity
-&gt; Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s
</span><a href="Plutarch.LedgerApi.AssocMap.html#intersectionMergeHandler"><span class="hs-identifier hs-var">intersectionMergeHandler</span></a></span><span> </span><span class="annot"><span class="annottext">Commutativity
</span><a href="#local-6989586621679282565"><span class="hs-identifier hs-var">commutativity</span></a></span><span>
</span><span id="line-720"></span><span>
</span><span id="line-721"></span><span class="annot"><span class="hs-comment">{- | Forget the knowledge that keys were sorted.

@since 2.1.1
-}</span></span><span>
</span><span id="line-725"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pforgetSorted"><span class="hs-identifier hs-type">pforgetSorted</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-726"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281252"><span class="annot"><a href="#local-6989586621679281252"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#KeyGuarantees"><span class="hs-identifier hs-type">KeyGuarantees</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281250"><span class="annot"><a href="#local-6989586621679281250"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281251"><span class="annot"><a href="#local-6989586621679281251"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281249"><span class="annot"><a href="#local-6989586621679281249"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-727"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281249"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281250"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281251"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-728"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281249"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281252"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281250"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281251"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-729"></span><span id="pforgetSorted"><span class="annot"><span class="annottext">pforgetSorted :: forall (g :: KeyGuarantees) (k :: PType) (v :: PType) (s :: S).
Term s (PMap 'Sorted k v) -&gt; Term s (PMap g k v)
</span><a href="Plutarch.LedgerApi.AssocMap.html#pforgetSorted"><span class="hs-identifier hs-var hs-var">pforgetSorted</span></a></span></span><span> </span><span id="local-6989586621679282572"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679282572"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term s (PInner (PMap g k v)) -&gt; Term s (PMap g k v)
forall (s :: S) (a :: PType). Term s (PInner a) -&gt; Term s a
</span><span class="hs-identifier hs-var">punsafeDowncast</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v) -&gt; Term s (PInner (PMap 'Sorted k v))
forall (s :: S) (a :: PType). Term s a -&gt; Term s (PInner a)
</span><span class="hs-identifier hs-var">pto</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679282572"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-730"></span><span>
</span><span id="line-731"></span><span class="annot"><span class="hs-comment">{- | Gives 'PTrue' if both argument 'PMap's contain mappings for exactly the
 same set of keys. Requires a number of equality comparisons between keys
 proportional to the length of the shorter argument.

 @since 2.1.1
-}</span></span><span>
</span><span id="line-737"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pkeysEqual"><span class="hs-identifier hs-type">pkeysEqual</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-738"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281257"><span class="annot"><a href="#local-6989586621679281257"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281259"><span class="annot"><a href="#local-6989586621679281259"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281260"><span class="annot"><a href="#local-6989586621679281260"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281258"><span class="annot"><a href="#local-6989586621679281258"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-739"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281257"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PEq</span></span><span> </span><span class="annot"><a href="#local-6989586621679281257"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-740"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281258"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281257"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281259"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281257"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281260"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBool</span></span><span class="hs-special">)</span><span>
</span><span id="line-741"></span><span id="pkeysEqual"><span class="annot"><span class="annottext">pkeysEqual :: forall (k :: PType) (a :: PType) (b :: PType) (s :: S).
(PIsData k, PEq k) =&gt;
Term s (PMap 'Sorted k a :--&gt; (PMap 'Sorted k b :--&gt; PBool))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pkeysEqual"><span class="hs-identifier hs-var hs-var">pkeysEqual</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm (PMap 'Sorted k a :--&gt; (PMap 'Sorted k b :--&gt; PBool))
-&gt; Term s (PMap 'Sorted k a :--&gt; (PMap 'Sorted k b :--&gt; PBool))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm (PMap 'Sorted k a :--&gt; (PMap 'Sorted k b :--&gt; PBool))
 -&gt; Term s (PMap 'Sorted k a :--&gt; (PMap 'Sorted k b :--&gt; PBool)))
-&gt; ClosedTerm (PMap 'Sorted k a :--&gt; (PMap 'Sorted k b :--&gt; PBool))
-&gt; Term s (PMap 'Sorted k a :--&gt; (PMap 'Sorted k b :--&gt; PBool))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-742"></span><span>  </span><span class="annot"><span class="annottext">(Term s (PMap 'Sorted k a)
 -&gt; Term s (PMap 'Sorted k b) -&gt; Term s PBool)
-&gt; Term s (PMap 'Sorted k a :--&gt; (PMap 'Sorted k b :--&gt; PBool))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap 'Sorted k b) -&gt; Term s PBool)
-&gt; Term s (c :--&gt; (PMap 'Sorted k b :--&gt; PBool))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PMap 'Sorted k a)
  -&gt; Term s (PMap 'Sorted k b) -&gt; Term s PBool)
 -&gt; Term s (PMap 'Sorted k a :--&gt; (PMap 'Sorted k b :--&gt; PBool)))
-&gt; (Term s (PMap 'Sorted k a)
    -&gt; Term s (PMap 'Sorted k b) -&gt; Term s PBool)
-&gt; Term s (PMap 'Sorted k a :--&gt; (PMap 'Sorted k b :--&gt; PBool))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679282586"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k a)
</span><a href="#local-6989586621679282586"><span class="hs-identifier hs-var">kvs</span></a></span></span><span> </span><span id="local-6989586621679282587"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k b)
</span><a href="#local-6989586621679282587"><span class="hs-identifier hs-var">kvs'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-743"></span><span>    </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k a)
-&gt; (PMap 'Sorted k a s -&gt; Term s PBool) -&gt; Term s PBool
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k a)
</span><a href="#local-6989586621679282586"><span class="hs-identifier hs-var">kvs</span></a></span><span> </span><span class="annot"><span class="annottext">((PMap 'Sorted k a s -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; (PMap 'Sorted k a s -&gt; Term s PBool) -&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span id="local-6989586621679282588"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
</span><a href="#local-6989586621679282588"><span class="hs-identifier hs-var">ell</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-744"></span><span>      </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k b)
-&gt; (PMap 'Sorted k b s -&gt; Term s PBool) -&gt; Term s PBool
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k b)
</span><a href="#local-6989586621679282587"><span class="hs-identifier hs-var">kvs'</span></a></span><span> </span><span class="annot"><span class="annottext">((PMap 'Sorted k b s -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; (PMap 'Sorted k b s -&gt; Term s PBool) -&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span id="local-6989586621679282589"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679282589"><span class="hs-identifier hs-var">ell'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-745"></span><span>        </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
         :--&gt; PBool))
forall (s' :: S).
Term
  s'
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
         :--&gt; PBool))
</span><a href="#local-6989586621679282590"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
         :--&gt; PBool))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
-&gt; Term
     s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)) :--&gt; PBool)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
</span><a href="#local-6989586621679282588"><span class="hs-identifier hs-var">ell</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)) :--&gt; PBool)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679282589"><span class="hs-identifier hs-var">ell'</span></a></span><span>
</span><span id="line-746"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-747"></span><span>    </span><span class="annot"><a href="#local-6989586621679282590"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-748"></span><span>      </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281266"><span class="annot"><a href="#local-6989586621679281266"><span class="hs-identifier hs-type">s'</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-749"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span>
</span><span id="line-750"></span><span>        </span><span class="annot"><a href="#local-6989586621679281266"><span class="hs-identifier hs-type">s'</span></a></span><span>
</span><span id="line-751"></span><span>        </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281257"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281259"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-752"></span><span>            </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281257"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281260"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-753"></span><span>            </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBool</span></span><span>
</span><span id="line-754"></span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-755"></span><span>    </span><span id="local-6989586621679282590"><span class="annot"><span class="annottext">go :: forall (s' :: S).
Term
  s'
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
         :--&gt; PBool))
</span><a href="#local-6989586621679282590"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall (s' :: S).
 Term
   s'
   (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
          :--&gt; PBool)))
-&gt; Term
     s'
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
            :--&gt; PBool))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">((forall (s' :: S).
  Term
    s'
    (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
           :--&gt; PBool)))
 -&gt; Term
      s'
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
             :--&gt; PBool)))
-&gt; (forall (s' :: S).
    Term
      s'
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
             :--&gt; PBool)))
-&gt; Term
     s'
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
            :--&gt; PBool))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-756"></span><span>      </span><span class="annot"><span class="annottext">Term
  s
  (((PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
           :--&gt; PBool))
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                :--&gt; PBool)))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
               :--&gt; PBool)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (((a :--&gt; b) :--&gt; (a :--&gt; b)) :--&gt; (a :--&gt; b))
</span><span class="hs-identifier hs-var">pfix</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (((PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
           :--&gt; PBool))
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                :--&gt; PBool)))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
               :--&gt; PBool)))
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
             :--&gt; PBool))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                  :--&gt; PBool)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
            :--&gt; PBool))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#$</span></span><span> </span><span class="annot"><span class="annottext">(Term
   s
   (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
          :--&gt; PBool))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
 -&gt; Term s PBool)
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
             :--&gt; PBool))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                  :--&gt; PBool)))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
 -&gt; Term s PBool)
-&gt; Term
     s
     (c
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                  :--&gt; PBool)))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term
    s
    (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
           :--&gt; PBool))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
  -&gt; Term s PBool)
 -&gt; Term
      s
      ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
              :--&gt; PBool))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                   :--&gt; PBool))))
-&gt; (Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
             :--&gt; PBool))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
    -&gt; Term s PBool)
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
             :--&gt; PBool))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                  :--&gt; PBool)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679282625"><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
         :--&gt; PBool))
</span><a href="#local-6989586621679282625"><span class="hs-identifier hs-var">self</span></a></span></span><span> </span><span id="local-6989586621679282626"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
</span><a href="#local-6989586621679282626"><span class="hs-identifier hs-var">ell</span></a></span></span><span> </span><span id="local-6989586621679282627"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679282627"><span class="hs-identifier hs-var">ell'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-757"></span><span>        </span><span class="annot"><span class="annottext">Term
  s
  (PMaybe
     (PPair
        (PBuiltinPair (PAsData k) (PAsData a))
        (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))))
-&gt; (PMaybe
      (PPair
         (PBuiltinPair (PAsData k) (PAsData a))
         (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))))
      s
    -&gt; Term s PBool)
-&gt; Term s PBool
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
   :--&gt; PMaybe
          (PPair
             (PBuiltinPair (PAsData k) (PAsData a))
             (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
PIsListLike list a =&gt;
Term s (list a :--&gt; PMaybe (PPair a (list a)))
</span><span class="hs-identifier hs-var">List.puncons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
   :--&gt; PMaybe
          (PPair
             (PBuiltinPair (PAsData k) (PAsData a))
             (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
-&gt; Term
     s
     (PMaybe
        (PPair
           (PBuiltinPair (PAsData k) (PAsData a))
           (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
</span><a href="#local-6989586621679282626"><span class="hs-identifier hs-var">ell</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((PMaybe
    (PPair
       (PBuiltinPair (PAsData k) (PAsData a))
       (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))))
    s
  -&gt; Term s PBool)
 -&gt; Term s PBool)
-&gt; (PMaybe
      (PPair
         (PBuiltinPair (PAsData k) (PAsData a))
         (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))))
      s
    -&gt; Term s PBool)
-&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-758"></span><span>          </span><span class="annot"><span class="annottext">PMaybe
  (PPair
     (PBuiltinPair (PAsData k) (PAsData a))
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))))
  s
</span><span class="hs-identifier hs-var">PNothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PMaybe
     (PPair
        (PBuiltinPair (PAsData k) (PAsData b))
        (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))))
-&gt; (PMaybe
      (PPair
         (PBuiltinPair (PAsData k) (PAsData b))
         (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
      s
    -&gt; Term s PBool)
-&gt; Term s PBool
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
   :--&gt; PMaybe
          (PPair
             (PBuiltinPair (PAsData k) (PAsData b))
             (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
PIsListLike list a =&gt;
Term s (list a :--&gt; PMaybe (PPair a (list a)))
</span><span class="hs-identifier hs-var">List.puncons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
   :--&gt; PMaybe
          (PPair
             (PBuiltinPair (PAsData k) (PAsData b))
             (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term
     s
     (PMaybe
        (PPair
           (PBuiltinPair (PAsData k) (PAsData b))
           (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679282627"><span class="hs-identifier hs-var">ell'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((PMaybe
    (PPair
       (PBuiltinPair (PAsData k) (PAsData b))
       (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
    s
  -&gt; Term s PBool)
 -&gt; Term s PBool)
-&gt; (PMaybe
      (PPair
         (PBuiltinPair (PAsData k) (PAsData b))
         (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
      s
    -&gt; Term s PBool)
-&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-759"></span><span>            </span><span class="annot"><span class="annottext">PMaybe
  (PPair
     (PBuiltinPair (PAsData k) (PAsData b))
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
  s
</span><span class="hs-identifier hs-var">PNothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PBool s -&gt; Term s PBool
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">PBool s
forall (s :: S). PBool s
</span><span class="hs-identifier hs-var">PTrue</span></span><span> </span><span class="hs-comment">-- no mismatches found</span><span>
</span><span id="line-760"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">PJust</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PPair
     (PBuiltinPair (PAsData k) (PAsData b))
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PBool s -&gt; Term s PBool
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">PBool s
forall (s :: S). PBool s
</span><span class="hs-identifier hs-var">PFalse</span></span><span> </span><span class="hs-comment">-- one argument too long</span><span>
</span><span id="line-761"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">PJust</span></span><span> </span><span id="local-6989586621679282629"><span class="annot"><span class="annottext">Term
  s
  (PPair
     (PBuiltinPair (PAsData k) (PAsData a))
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))))
</span><a href="#local-6989586621679282629"><span class="hs-identifier hs-var">kv</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PMaybe
     (PPair
        (PBuiltinPair (PAsData k) (PAsData b))
        (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))))
-&gt; (PMaybe
      (PPair
         (PBuiltinPair (PAsData k) (PAsData b))
         (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
      s
    -&gt; Term s PBool)
-&gt; Term s PBool
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
   :--&gt; PMaybe
          (PPair
             (PBuiltinPair (PAsData k) (PAsData b))
             (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
PIsListLike list a =&gt;
Term s (list a :--&gt; PMaybe (PPair a (list a)))
</span><span class="hs-identifier hs-var">List.puncons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
   :--&gt; PMaybe
          (PPair
             (PBuiltinPair (PAsData k) (PAsData b))
             (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term
     s
     (PMaybe
        (PPair
           (PBuiltinPair (PAsData k) (PAsData b))
           (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679282627"><span class="hs-identifier hs-var">ell'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((PMaybe
    (PPair
       (PBuiltinPair (PAsData k) (PAsData b))
       (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
    s
  -&gt; Term s PBool)
 -&gt; Term s PBool)
-&gt; (PMaybe
      (PPair
         (PBuiltinPair (PAsData k) (PAsData b))
         (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
      s
    -&gt; Term s PBool)
-&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-762"></span><span>            </span><span class="annot"><span class="annottext">PMaybe
  (PPair
     (PBuiltinPair (PAsData k) (PAsData b))
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
  s
</span><span class="hs-identifier hs-var">PNothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PBool s -&gt; Term s PBool
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">PBool s
forall (s :: S). PBool s
</span><span class="hs-identifier hs-var">PFalse</span></span><span> </span><span class="hs-comment">-- one argument too long</span><span>
</span><span id="line-763"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">PJust</span></span><span> </span><span id="local-6989586621679282630"><span class="annot"><span class="annottext">Term
  s
  (PPair
     (PBuiltinPair (PAsData k) (PAsData b))
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
</span><a href="#local-6989586621679282630"><span class="hs-identifier hs-var">kv'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PPair
     (PBuiltinPair (PAsData k) (PAsData a))
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))))
-&gt; (PPair
      (PBuiltinPair (PAsData k) (PAsData a))
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
      s
    -&gt; Term s PBool)
-&gt; Term s PBool
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PPair
     (PBuiltinPair (PAsData k) (PAsData a))
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))))
</span><a href="#local-6989586621679282629"><span class="hs-identifier hs-var">kv</span></a></span><span> </span><span class="annot"><span class="annottext">((PPair
    (PBuiltinPair (PAsData k) (PAsData a))
    (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
    s
  -&gt; Term s PBool)
 -&gt; Term s PBool)
-&gt; (PPair
      (PBuiltinPair (PAsData k) (PAsData a))
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
      s
    -&gt; Term s PBool)
-&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PPair</span></span><span> </span><span id="local-6989586621679282632"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a))
</span><a href="#local-6989586621679282632"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span id="local-6989586621679282633"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
</span><a href="#local-6989586621679282633"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-764"></span><span>              </span><span class="annot"><span class="annottext">Term
  s
  (PPair
     (PBuiltinPair (PAsData k) (PAsData b))
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
-&gt; (PPair
      (PBuiltinPair (PAsData k) (PAsData b))
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
      s
    -&gt; Term s PBool)
-&gt; Term s PBool
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PPair
     (PBuiltinPair (PAsData k) (PAsData b))
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
</span><a href="#local-6989586621679282630"><span class="hs-identifier hs-var">kv'</span></a></span><span> </span><span class="annot"><span class="annottext">((PPair
    (PBuiltinPair (PAsData k) (PAsData b))
    (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
    s
  -&gt; Term s PBool)
 -&gt; Term s PBool)
-&gt; (PPair
      (PBuiltinPair (PAsData k) (PAsData b))
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
      s
    -&gt; Term s PBool)
-&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PPair</span></span><span> </span><span id="local-6989586621679282634"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData b))
</span><a href="#local-6989586621679282634"><span class="hs-identifier hs-var">h'</span></a></span></span><span> </span><span id="local-6989586621679282635"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679282635"><span class="hs-identifier hs-var">t'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-765"></span><span>                </span><span class="annot"><span class="annottext">Term s PBool -&gt; Term s PBool -&gt; Term s PBool -&gt; Term s PBool
forall (s :: S) (a :: PType).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><span class="hs-identifier hs-var">pif</span></span><span>
</span><span id="line-766"></span><span>                  </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a) :--&gt; k)
forall (k :: PType) (v :: PType) (s :: S).
PIsData k =&gt;
Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; k)
</span><a href="Plutarch.LedgerApi.AssocMap.html#pkvPairKey"><span class="hs-identifier hs-var">pkvPairKey</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a) :--&gt; k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData a)) -&gt; Term s k
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a))
</span><a href="#local-6989586621679282632"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; Term s k -&gt; Term s PBool
forall (s :: S). Term s k -&gt; Term s k -&gt; Term s PBool
forall (t :: PType) (s :: S).
PEq t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><span class="hs-operator hs-var">#==</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData b) :--&gt; k)
forall (k :: PType) (v :: PType) (s :: S).
PIsData k =&gt;
Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; k)
</span><a href="Plutarch.LedgerApi.AssocMap.html#pkvPairKey"><span class="hs-identifier hs-var">pkvPairKey</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData b) :--&gt; k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData b)) -&gt; Term s k
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData b))
</span><a href="#local-6989586621679282634"><span class="hs-identifier hs-var">h'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-767"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
         :--&gt; PBool))
</span><a href="#local-6989586621679282625"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
         :--&gt; PBool))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
-&gt; Term
     s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)) :--&gt; PBool)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
</span><a href="#local-6989586621679282633"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)) :--&gt; PBool)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679282635"><span class="hs-identifier hs-var">t'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- continue</span><span>
</span><span id="line-768"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PBool s -&gt; Term s PBool
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">PBool s
forall (s :: S). PBool s
</span><span class="hs-identifier hs-var">PFalse</span></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- key mismatch</span><span>
</span><span id="line-769"></span><span>
</span><span id="line-770"></span><span class="annot"><span class="hs-comment">{- | As 'pkeysEqual', but requires only 'PEq' constraints for the keys, and
 works for 'Unsorted' 'PMap's. This requires a number of equality comparisons
 between keys proportional to the product of the lengths of both arguments:
 that is, this function is quadratic.

 @since 2.1.1
-}</span></span><span>
</span><span id="line-777"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pkeysEqualUnsorted"><span class="hs-identifier hs-type">pkeysEqualUnsorted</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-778"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281275"><span class="annot"><a href="#local-6989586621679281275"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281276"><span class="annot"><a href="#local-6989586621679281276"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281277"><span class="annot"><a href="#local-6989586621679281277"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281278"><span class="annot"><a href="#local-6989586621679281278"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-779"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281275"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281276"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281277"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-780"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281278"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Unsorted"><span class="hs-identifier hs-type">Unsorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281275"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281276"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Unsorted"><span class="hs-identifier hs-type">Unsorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281275"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281277"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBool</span></span><span class="hs-special">)</span><span>
</span><span id="line-781"></span><span id="pkeysEqualUnsorted"><span class="annot"><span class="annottext">pkeysEqualUnsorted :: forall (k :: PType) (a :: PType) (b :: PType) (s :: S).
(PIsData k, PIsData a, PIsData b) =&gt;
Term s (PMap 'Unsorted k a :--&gt; (PMap 'Unsorted k b :--&gt; PBool))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pkeysEqualUnsorted"><span class="hs-identifier hs-var hs-var">pkeysEqualUnsorted</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm
  (PMap 'Unsorted k a :--&gt; (PMap 'Unsorted k b :--&gt; PBool))
-&gt; Term s (PMap 'Unsorted k a :--&gt; (PMap 'Unsorted k b :--&gt; PBool))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   (PMap 'Unsorted k a :--&gt; (PMap 'Unsorted k b :--&gt; PBool))
 -&gt; Term
      s (PMap 'Unsorted k a :--&gt; (PMap 'Unsorted k b :--&gt; PBool)))
-&gt; ClosedTerm
     (PMap 'Unsorted k a :--&gt; (PMap 'Unsorted k b :--&gt; PBool))
-&gt; Term s (PMap 'Unsorted k a :--&gt; (PMap 'Unsorted k b :--&gt; PBool))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-782"></span><span>  </span><span class="annot"><span class="annottext">(Term s (PMap 'Unsorted k a)
 -&gt; Term s (PMap 'Unsorted k b) -&gt; Term s PBool)
-&gt; Term s (PMap 'Unsorted k a :--&gt; (PMap 'Unsorted k b :--&gt; PBool))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap 'Unsorted k b) -&gt; Term s PBool)
-&gt; Term s (c :--&gt; (PMap 'Unsorted k b :--&gt; PBool))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PMap 'Unsorted k a)
  -&gt; Term s (PMap 'Unsorted k b) -&gt; Term s PBool)
 -&gt; Term
      s (PMap 'Unsorted k a :--&gt; (PMap 'Unsorted k b :--&gt; PBool)))
-&gt; (Term s (PMap 'Unsorted k a)
    -&gt; Term s (PMap 'Unsorted k b) -&gt; Term s PBool)
-&gt; Term s (PMap 'Unsorted k a :--&gt; (PMap 'Unsorted k b :--&gt; PBool))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679282649"><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k a)
</span><a href="#local-6989586621679282649"><span class="hs-identifier hs-var">kvs</span></a></span></span><span> </span><span id="local-6989586621679282650"><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k b)
</span><a href="#local-6989586621679282650"><span class="hs-identifier hs-var">kvs'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-783"></span><span>    </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k a)
-&gt; (PMap 'Unsorted k a s -&gt; Term s PBool) -&gt; Term s PBool
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k a)
</span><a href="#local-6989586621679282649"><span class="hs-identifier hs-var">kvs</span></a></span><span> </span><span class="annot"><span class="annottext">((PMap 'Unsorted k a s -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; (PMap 'Unsorted k a s -&gt; Term s PBool) -&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span id="local-6989586621679282651"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
</span><a href="#local-6989586621679282651"><span class="hs-identifier hs-var">ell</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-784"></span><span>      </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k b)
-&gt; (PMap 'Unsorted k b s -&gt; Term s PBool) -&gt; Term s PBool
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k b)
</span><a href="#local-6989586621679282650"><span class="hs-identifier hs-var">kvs'</span></a></span><span> </span><span class="annot"><span class="annottext">((PMap 'Unsorted k b s -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; (PMap 'Unsorted k b s -&gt; Term s PBool) -&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span id="local-6989586621679282652"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679282652"><span class="hs-identifier hs-var">ell'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-785"></span><span>        </span><span class="annot"><span class="annottext">Term
  s
  (PMap 'Unsorted k a
   :--&gt; (PMap 'Unsorted k b
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                     :--&gt; PBool))))
forall (s' :: S).
Term
  s'
  (PMap 'Unsorted k a
   :--&gt; (PMap 'Unsorted k b
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                     :--&gt; PBool))))
</span><a href="#local-6989586621679282653"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PMap 'Unsorted k a
   :--&gt; (PMap 'Unsorted k b
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                     :--&gt; PBool))))
-&gt; Term s (PMap 'Unsorted k a)
-&gt; Term
     s
     (PMap 'Unsorted k b
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                  :--&gt; PBool)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k a)
</span><a href="#local-6989586621679282649"><span class="hs-identifier hs-var">kvs</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PMap 'Unsorted k b
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
               :--&gt; PBool)))
-&gt; Term s (PMap 'Unsorted k b)
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
            :--&gt; PBool))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k b)
</span><a href="#local-6989586621679282650"><span class="hs-identifier hs-var">kvs'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
         :--&gt; PBool))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
-&gt; Term
     s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)) :--&gt; PBool)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
</span><a href="#local-6989586621679282651"><span class="hs-identifier hs-var">ell</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)) :--&gt; PBool)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679282652"><span class="hs-identifier hs-var">ell'</span></a></span><span>
</span><span id="line-786"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-787"></span><span>    </span><span class="annot"><a href="#local-6989586621679282653"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-788"></span><span>      </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281284"><span class="annot"><a href="#local-6989586621679281284"><span class="hs-identifier hs-type">s'</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-789"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span>
</span><span id="line-790"></span><span>        </span><span class="annot"><a href="#local-6989586621679281284"><span class="hs-identifier hs-type">s'</span></a></span><span>
</span><span id="line-791"></span><span>        </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Unsorted"><span class="hs-identifier hs-type">Unsorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281275"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281276"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-792"></span><span>            </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Unsorted"><span class="hs-identifier hs-type">Unsorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281275"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281277"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-793"></span><span>            </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281275"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281276"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-794"></span><span>            </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281275"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281277"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-795"></span><span>            </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBool</span></span><span>
</span><span id="line-796"></span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-797"></span><span>    </span><span id="local-6989586621679282653"><span class="annot"><span class="annottext">go :: forall (s' :: S).
Term
  s'
  (PMap 'Unsorted k a
   :--&gt; (PMap 'Unsorted k b
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                     :--&gt; PBool))))
</span><a href="#local-6989586621679282653"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall (s' :: S).
 Term
   s'
   (PMap 'Unsorted k a
    :--&gt; (PMap 'Unsorted k b
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                      :--&gt; PBool)))))
-&gt; Term
     s'
     (PMap 'Unsorted k a
      :--&gt; (PMap 'Unsorted k b
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                        :--&gt; PBool))))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">((forall (s' :: S).
  Term
    s'
    (PMap 'Unsorted k a
     :--&gt; (PMap 'Unsorted k b
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                       :--&gt; PBool)))))
 -&gt; Term
      s'
      (PMap 'Unsorted k a
       :--&gt; (PMap 'Unsorted k b
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                         :--&gt; PBool)))))
-&gt; (forall (s' :: S).
    Term
      s'
      (PMap 'Unsorted k a
       :--&gt; (PMap 'Unsorted k b
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                         :--&gt; PBool)))))
-&gt; Term
     s'
     (PMap 'Unsorted k a
      :--&gt; (PMap 'Unsorted k b
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                        :--&gt; PBool))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-798"></span><span>      </span><span class="annot"><span class="annottext">Term
  s
  (((PMap 'Unsorted k a
     :--&gt; (PMap 'Unsorted k b
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                       :--&gt; PBool))))
    :--&gt; (PMap 'Unsorted k a
          :--&gt; (PMap 'Unsorted k b
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
                      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                            :--&gt; PBool)))))
   :--&gt; (PMap 'Unsorted k a
         :--&gt; (PMap 'Unsorted k b
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
                     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                           :--&gt; PBool)))))
forall (s :: S) (a :: PType) (b :: PType).
Term s (((a :--&gt; b) :--&gt; (a :--&gt; b)) :--&gt; (a :--&gt; b))
</span><span class="hs-identifier hs-var">pfix</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (((PMap 'Unsorted k a
     :--&gt; (PMap 'Unsorted k b
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                       :--&gt; PBool))))
    :--&gt; (PMap 'Unsorted k a
          :--&gt; (PMap 'Unsorted k b
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
                      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                            :--&gt; PBool)))))
   :--&gt; (PMap 'Unsorted k a
         :--&gt; (PMap 'Unsorted k b
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
                     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                           :--&gt; PBool)))))
-&gt; Term
     s
     ((PMap 'Unsorted k a
       :--&gt; (PMap 'Unsorted k b
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                         :--&gt; PBool))))
      :--&gt; (PMap 'Unsorted k a
            :--&gt; (PMap 'Unsorted k b
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
                        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                              :--&gt; PBool)))))
-&gt; Term
     s
     (PMap 'Unsorted k a
      :--&gt; (PMap 'Unsorted k b
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                        :--&gt; PBool))))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#$</span></span><span> </span><span class="annot"><span class="annottext">(Term
   s
   (PMap 'Unsorted k a
    :--&gt; (PMap 'Unsorted k b
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                      :--&gt; PBool))))
 -&gt; Term s (PMap 'Unsorted k a)
 -&gt; Term s (PMap 'Unsorted k b)
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
 -&gt; Term s PBool)
-&gt; Term
     s
     ((PMap 'Unsorted k a
       :--&gt; (PMap 'Unsorted k b
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                         :--&gt; PBool))))
      :--&gt; (PMap 'Unsorted k a
            :--&gt; (PMap 'Unsorted k b
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
                        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                              :--&gt; PBool)))))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term s (PMap 'Unsorted k a)
 -&gt; Term s (PMap 'Unsorted k b)
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
 -&gt; Term s PBool)
-&gt; Term
     s
     (c
      :--&gt; (PMap 'Unsorted k a
            :--&gt; (PMap 'Unsorted k b
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
                        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                              :--&gt; PBool)))))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term
    s
    (PMap 'Unsorted k a
     :--&gt; (PMap 'Unsorted k b
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                       :--&gt; PBool))))
  -&gt; Term s (PMap 'Unsorted k a)
  -&gt; Term s (PMap 'Unsorted k b)
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
  -&gt; Term s PBool)
 -&gt; Term
      s
      ((PMap 'Unsorted k a
        :--&gt; (PMap 'Unsorted k b
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
                    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                          :--&gt; PBool))))
       :--&gt; (PMap 'Unsorted k a
             :--&gt; (PMap 'Unsorted k b
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
                         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                               :--&gt; PBool))))))
-&gt; (Term
      s
      (PMap 'Unsorted k a
       :--&gt; (PMap 'Unsorted k b
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                         :--&gt; PBool))))
    -&gt; Term s (PMap 'Unsorted k a)
    -&gt; Term s (PMap 'Unsorted k b)
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
    -&gt; Term s PBool)
-&gt; Term
     s
     ((PMap 'Unsorted k a
       :--&gt; (PMap 'Unsorted k b
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                         :--&gt; PBool))))
      :--&gt; (PMap 'Unsorted k a
            :--&gt; (PMap 'Unsorted k b
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
                        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                              :--&gt; PBool)))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679282706"><span class="annot"><span class="annottext">Term
  s
  (PMap 'Unsorted k a
   :--&gt; (PMap 'Unsorted k b
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                     :--&gt; PBool))))
</span><a href="#local-6989586621679282706"><span class="hs-identifier hs-var">self</span></a></span></span><span> </span><span id="local-6989586621679282707"><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k a)
</span><a href="#local-6989586621679282707"><span class="hs-identifier hs-var">kvs</span></a></span></span><span> </span><span id="local-6989586621679282708"><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k b)
</span><a href="#local-6989586621679282708"><span class="hs-identifier hs-var">kvs'</span></a></span></span><span> </span><span id="local-6989586621679282709"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
</span><a href="#local-6989586621679282709"><span class="hs-identifier hs-var">ell</span></a></span></span><span> </span><span id="local-6989586621679282710"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679282710"><span class="hs-identifier hs-var">ell'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-799"></span><span>        </span><span class="annot"><span class="annottext">Term
  s
  (PMaybe
     (PPair
        (PBuiltinPair (PAsData k) (PAsData a))
        (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))))
-&gt; (PMaybe
      (PPair
         (PBuiltinPair (PAsData k) (PAsData a))
         (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))))
      s
    -&gt; Term s PBool)
-&gt; Term s PBool
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
   :--&gt; PMaybe
          (PPair
             (PBuiltinPair (PAsData k) (PAsData a))
             (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
PIsListLike list a =&gt;
Term s (list a :--&gt; PMaybe (PPair a (list a)))
</span><span class="hs-identifier hs-var">List.puncons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
   :--&gt; PMaybe
          (PPair
             (PBuiltinPair (PAsData k) (PAsData a))
             (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
-&gt; Term
     s
     (PMaybe
        (PPair
           (PBuiltinPair (PAsData k) (PAsData a))
           (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
</span><a href="#local-6989586621679282709"><span class="hs-identifier hs-var">ell</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((PMaybe
    (PPair
       (PBuiltinPair (PAsData k) (PAsData a))
       (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))))
    s
  -&gt; Term s PBool)
 -&gt; Term s PBool)
-&gt; (PMaybe
      (PPair
         (PBuiltinPair (PAsData k) (PAsData a))
         (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))))
      s
    -&gt; Term s PBool)
-&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-800"></span><span>          </span><span class="annot"><span class="annottext">PMaybe
  (PPair
     (PBuiltinPair (PAsData k) (PAsData a))
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))))
  s
</span><span class="hs-identifier hs-var">PNothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PMaybe
     (PPair
        (PBuiltinPair (PAsData k) (PAsData b))
        (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))))
-&gt; (PMaybe
      (PPair
         (PBuiltinPair (PAsData k) (PAsData b))
         (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
      s
    -&gt; Term s PBool)
-&gt; Term s PBool
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
   :--&gt; PMaybe
          (PPair
             (PBuiltinPair (PAsData k) (PAsData b))
             (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
PIsListLike list a =&gt;
Term s (list a :--&gt; PMaybe (PPair a (list a)))
</span><span class="hs-identifier hs-var">List.puncons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
   :--&gt; PMaybe
          (PPair
             (PBuiltinPair (PAsData k) (PAsData b))
             (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term
     s
     (PMaybe
        (PPair
           (PBuiltinPair (PAsData k) (PAsData b))
           (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679282710"><span class="hs-identifier hs-var">ell'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((PMaybe
    (PPair
       (PBuiltinPair (PAsData k) (PAsData b))
       (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
    s
  -&gt; Term s PBool)
 -&gt; Term s PBool)
-&gt; (PMaybe
      (PPair
         (PBuiltinPair (PAsData k) (PAsData b))
         (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
      s
    -&gt; Term s PBool)
-&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-801"></span><span>            </span><span class="hs-comment">-- We reached the end, so we match</span><span>
</span><span id="line-802"></span><span>            </span><span class="annot"><span class="annottext">PMaybe
  (PPair
     (PBuiltinPair (PAsData k) (PAsData b))
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
  s
</span><span class="hs-identifier hs-var">PNothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PBool s -&gt; Term s PBool
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">PBool s
forall (s :: S). PBool s
</span><span class="hs-identifier hs-var">PTrue</span></span><span>
</span><span id="line-803"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">PJust</span></span><span> </span><span id="local-6989586621679282711"><span class="annot"><span class="annottext">Term
  s
  (PPair
     (PBuiltinPair (PAsData k) (PAsData b))
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
</span><a href="#local-6989586621679282711"><span class="hs-identifier hs-var">ht'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PPair
     (PBuiltinPair (PAsData k) (PAsData b))
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
-&gt; (PPair
      (PBuiltinPair (PAsData k) (PAsData b))
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
      s
    -&gt; Term s PBool)
-&gt; Term s PBool
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PPair
     (PBuiltinPair (PAsData k) (PAsData b))
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
</span><a href="#local-6989586621679282711"><span class="hs-identifier hs-var">ht'</span></a></span><span> </span><span class="annot"><span class="annottext">((PPair
    (PBuiltinPair (PAsData k) (PAsData b))
    (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
    s
  -&gt; Term s PBool)
 -&gt; Term s PBool)
-&gt; (PPair
      (PBuiltinPair (PAsData k) (PAsData b))
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
      s
    -&gt; Term s PBool)
-&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PPair</span></span><span> </span><span id="local-6989586621679282712"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData b))
</span><a href="#local-6989586621679282712"><span class="hs-identifier hs-var">h'</span></a></span></span><span> </span><span id="local-6989586621679282713"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679282713"><span class="hs-identifier hs-var">t'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-804"></span><span>              </span><span class="annot"><span class="annottext">Term s (PMaybe a) -&gt; (PMaybe a s -&gt; Term s PBool) -&gt; Term s PBool
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (k :--&gt; (PMap 'Unsorted k a :--&gt; PMaybe a))
forall (k :: PType) (v :: PType) (any :: KeyGuarantees) (s :: S).
(PIsData k, PIsData v) =&gt;
Term s (k :--&gt; (PMap any k v :--&gt; PMaybe v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#plookup"><span class="hs-identifier hs-var">plookup</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (k :--&gt; (PMap 'Unsorted k a :--&gt; PMaybe a))
-&gt; Term s k -&gt; Term s (PMap 'Unsorted k a :--&gt; PMaybe a)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData b) :--&gt; k)
forall (k :: PType) (v :: PType) (s :: S).
PIsData k =&gt;
Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; k)
</span><a href="Plutarch.LedgerApi.AssocMap.html#pkvPairKey"><span class="hs-identifier hs-var">pkvPairKey</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData b) :--&gt; k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData b)) -&gt; Term s k
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData b))
</span><a href="#local-6989586621679282712"><span class="hs-identifier hs-var">h'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k a :--&gt; PMaybe a)
-&gt; Term s (PMap 'Unsorted k a) -&gt; Term s (PMaybe a)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k a)
</span><a href="#local-6989586621679282707"><span class="hs-identifier hs-var">kvs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((PMaybe a s -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; (PMaybe a s -&gt; Term s PBool) -&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-805"></span><span>                </span><span class="hs-comment">-- We mismatch, so fail</span><span>
</span><span id="line-806"></span><span>                </span><span class="annot"><span class="annottext">PMaybe a s
</span><span class="hs-identifier hs-var">PNothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PBool s -&gt; Term s PBool
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">PBool s
forall (s :: S). PBool s
</span><span class="hs-identifier hs-var">PFalse</span></span><span>
</span><span id="line-807"></span><span>                </span><span class="hs-comment">-- We match, so continue</span><span>
</span><span id="line-808"></span><span>                </span><span class="annot"><span class="hs-identifier hs-type">PJust</span></span><span> </span><span class="annot"><span class="annottext">Term s a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PMap 'Unsorted k a
   :--&gt; (PMap 'Unsorted k b
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                     :--&gt; PBool))))
</span><a href="#local-6989586621679282706"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PMap 'Unsorted k a
   :--&gt; (PMap 'Unsorted k b
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                     :--&gt; PBool))))
-&gt; Term s (PMap 'Unsorted k a)
-&gt; Term
     s
     (PMap 'Unsorted k b
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                  :--&gt; PBool)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k a)
</span><a href="#local-6989586621679282707"><span class="hs-identifier hs-var">kvs</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PMap 'Unsorted k b
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
               :--&gt; PBool)))
-&gt; Term s (PMap 'Unsorted k b)
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
            :--&gt; PBool))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k b)
</span><a href="#local-6989586621679282708"><span class="hs-identifier hs-var">kvs'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
         :--&gt; PBool))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
-&gt; Term
     s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)) :--&gt; PBool)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
</span><a href="#local-6989586621679282709"><span class="hs-identifier hs-var">ell</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)) :--&gt; PBool)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679282713"><span class="hs-identifier hs-var">t'</span></a></span><span>
</span><span id="line-809"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">PJust</span></span><span> </span><span id="local-6989586621679282714"><span class="annot"><span class="annottext">Term
  s
  (PPair
     (PBuiltinPair (PAsData k) (PAsData a))
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))))
</span><a href="#local-6989586621679282714"><span class="hs-identifier hs-var">ht</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PPair
     (PBuiltinPair (PAsData k) (PAsData a))
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))))
-&gt; (PPair
      (PBuiltinPair (PAsData k) (PAsData a))
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
      s
    -&gt; Term s PBool)
-&gt; Term s PBool
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PPair
     (PBuiltinPair (PAsData k) (PAsData a))
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))))
</span><a href="#local-6989586621679282714"><span class="hs-identifier hs-var">ht</span></a></span><span> </span><span class="annot"><span class="annottext">((PPair
    (PBuiltinPair (PAsData k) (PAsData a))
    (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
    s
  -&gt; Term s PBool)
 -&gt; Term s PBool)
-&gt; (PPair
      (PBuiltinPair (PAsData k) (PAsData a))
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
      s
    -&gt; Term s PBool)
-&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PPair</span></span><span> </span><span id="local-6989586621679282715"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a))
</span><a href="#local-6989586621679282715"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span id="local-6989586621679282716"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
</span><a href="#local-6989586621679282716"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-810"></span><span>            </span><span class="annot"><span class="annottext">Term
  s
  (PMaybe
     (PPair
        (PBuiltinPair (PAsData k) (PAsData b))
        (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))))
-&gt; (PMaybe
      (PPair
         (PBuiltinPair (PAsData k) (PAsData b))
         (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
      s
    -&gt; Term s PBool)
-&gt; Term s PBool
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
   :--&gt; PMaybe
          (PPair
             (PBuiltinPair (PAsData k) (PAsData b))
             (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
PIsListLike list a =&gt;
Term s (list a :--&gt; PMaybe (PPair a (list a)))
</span><span class="hs-identifier hs-var">List.puncons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
   :--&gt; PMaybe
          (PPair
             (PBuiltinPair (PAsData k) (PAsData b))
             (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term
     s
     (PMaybe
        (PPair
           (PBuiltinPair (PAsData k) (PAsData b))
           (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679282710"><span class="hs-identifier hs-var">ell'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((PMaybe
    (PPair
       (PBuiltinPair (PAsData k) (PAsData b))
       (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
    s
  -&gt; Term s PBool)
 -&gt; Term s PBool)
-&gt; (PMaybe
      (PPair
         (PBuiltinPair (PAsData k) (PAsData b))
         (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
      s
    -&gt; Term s PBool)
-&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-811"></span><span>              </span><span class="annot"><span class="annottext">PMaybe
  (PPair
     (PBuiltinPair (PAsData k) (PAsData b))
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
  s
</span><span class="hs-identifier hs-var">PNothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PMaybe b) -&gt; (PMaybe b s -&gt; Term s PBool) -&gt; Term s PBool
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (k :--&gt; (PMap 'Unsorted k b :--&gt; PMaybe b))
forall (k :: PType) (v :: PType) (any :: KeyGuarantees) (s :: S).
(PIsData k, PIsData v) =&gt;
Term s (k :--&gt; (PMap any k v :--&gt; PMaybe v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#plookup"><span class="hs-identifier hs-var">plookup</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (k :--&gt; (PMap 'Unsorted k b :--&gt; PMaybe b))
-&gt; Term s k -&gt; Term s (PMap 'Unsorted k b :--&gt; PMaybe b)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a) :--&gt; k)
forall (k :: PType) (v :: PType) (s :: S).
PIsData k =&gt;
Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; k)
</span><a href="Plutarch.LedgerApi.AssocMap.html#pkvPairKey"><span class="hs-identifier hs-var">pkvPairKey</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a) :--&gt; k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData a)) -&gt; Term s k
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a))
</span><a href="#local-6989586621679282715"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k b :--&gt; PMaybe b)
-&gt; Term s (PMap 'Unsorted k b) -&gt; Term s (PMaybe b)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k b)
</span><a href="#local-6989586621679282708"><span class="hs-identifier hs-var">kvs'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((PMaybe b s -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; (PMaybe b s -&gt; Term s PBool) -&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-812"></span><span>                </span><span class="hs-comment">-- We mismatch, so fail</span><span>
</span><span id="line-813"></span><span>                </span><span class="annot"><span class="annottext">PMaybe b s
</span><span class="hs-identifier hs-var">PNothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PBool s -&gt; Term s PBool
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">PBool s
forall (s :: S). PBool s
</span><span class="hs-identifier hs-var">PFalse</span></span><span>
</span><span id="line-814"></span><span>                </span><span class="hs-comment">-- We match, so continue</span><span>
</span><span id="line-815"></span><span>                </span><span class="annot"><span class="hs-identifier hs-type">PJust</span></span><span> </span><span class="annot"><span class="annottext">Term s b
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PMap 'Unsorted k a
   :--&gt; (PMap 'Unsorted k b
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                     :--&gt; PBool))))
</span><a href="#local-6989586621679282706"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PMap 'Unsorted k a
   :--&gt; (PMap 'Unsorted k b
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                     :--&gt; PBool))))
-&gt; Term s (PMap 'Unsorted k a)
-&gt; Term
     s
     (PMap 'Unsorted k b
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                  :--&gt; PBool)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k a)
</span><a href="#local-6989586621679282707"><span class="hs-identifier hs-var">kvs</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PMap 'Unsorted k b
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
               :--&gt; PBool)))
-&gt; Term s (PMap 'Unsorted k b)
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
            :--&gt; PBool))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k b)
</span><a href="#local-6989586621679282708"><span class="hs-identifier hs-var">kvs'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
         :--&gt; PBool))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
-&gt; Term
     s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)) :--&gt; PBool)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
</span><a href="#local-6989586621679282716"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)) :--&gt; PBool)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679282710"><span class="hs-identifier hs-var">ell'</span></a></span><span>
</span><span id="line-816"></span><span>              </span><span class="hs-comment">-- To save some effort, we try both matches in one shot</span><span>
</span><span id="line-817"></span><span>              </span><span class="annot"><span class="hs-identifier hs-type">PJust</span></span><span> </span><span id="local-6989586621679282717"><span class="annot"><span class="annottext">Term
  s
  (PPair
     (PBuiltinPair (PAsData k) (PAsData b))
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
</span><a href="#local-6989586621679282717"><span class="hs-identifier hs-var">ht'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PPair
     (PBuiltinPair (PAsData k) (PAsData b))
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
-&gt; (PPair
      (PBuiltinPair (PAsData k) (PAsData b))
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
      s
    -&gt; Term s PBool)
-&gt; Term s PBool
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PPair
     (PBuiltinPair (PAsData k) (PAsData b))
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
</span><a href="#local-6989586621679282717"><span class="hs-identifier hs-var">ht'</span></a></span><span> </span><span class="annot"><span class="annottext">((PPair
    (PBuiltinPair (PAsData k) (PAsData b))
    (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
    s
  -&gt; Term s PBool)
 -&gt; Term s PBool)
-&gt; (PPair
      (PBuiltinPair (PAsData k) (PAsData b))
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
      s
    -&gt; Term s PBool)
-&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PPair</span></span><span> </span><span id="local-6989586621679282718"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData b))
</span><a href="#local-6989586621679282718"><span class="hs-identifier hs-var">h'</span></a></span></span><span> </span><span id="local-6989586621679282719"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679282719"><span class="hs-identifier hs-var">t'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-818"></span><span>                </span><span class="annot"><span class="annottext">Term s (PMaybe b) -&gt; (PMaybe b s -&gt; Term s PBool) -&gt; Term s PBool
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (k :--&gt; (PMap 'Unsorted k b :--&gt; PMaybe b))
forall (k :: PType) (v :: PType) (any :: KeyGuarantees) (s :: S).
(PIsData k, PIsData v) =&gt;
Term s (k :--&gt; (PMap any k v :--&gt; PMaybe v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#plookup"><span class="hs-identifier hs-var">plookup</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (k :--&gt; (PMap 'Unsorted k b :--&gt; PMaybe b))
-&gt; Term s k -&gt; Term s (PMap 'Unsorted k b :--&gt; PMaybe b)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a) :--&gt; k)
forall (k :: PType) (v :: PType) (s :: S).
PIsData k =&gt;
Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; k)
</span><a href="Plutarch.LedgerApi.AssocMap.html#pkvPairKey"><span class="hs-identifier hs-var">pkvPairKey</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a) :--&gt; k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData a)) -&gt; Term s k
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a))
</span><a href="#local-6989586621679282715"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k b :--&gt; PMaybe b)
-&gt; Term s (PMap 'Unsorted k b) -&gt; Term s (PMaybe b)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k b)
</span><a href="#local-6989586621679282708"><span class="hs-identifier hs-var">kvs'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((PMaybe b s -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; (PMaybe b s -&gt; Term s PBool) -&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-819"></span><span>                  </span><span class="hs-comment">-- We mismatch, so fail</span><span>
</span><span id="line-820"></span><span>                  </span><span class="annot"><span class="annottext">PMaybe b s
</span><span class="hs-identifier hs-var">PNothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PBool s -&gt; Term s PBool
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">PBool s
forall (s :: S). PBool s
</span><span class="hs-identifier hs-var">PFalse</span></span><span>
</span><span id="line-821"></span><span>                  </span><span class="hs-comment">-- Try the other direction</span><span>
</span><span id="line-822"></span><span>                  </span><span class="annot"><span class="hs-identifier hs-type">PJust</span></span><span> </span><span class="annot"><span class="annottext">Term s b
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PMaybe a) -&gt; (PMaybe a s -&gt; Term s PBool) -&gt; Term s PBool
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (k :--&gt; (PMap 'Unsorted k a :--&gt; PMaybe a))
forall (k :: PType) (v :: PType) (any :: KeyGuarantees) (s :: S).
(PIsData k, PIsData v) =&gt;
Term s (k :--&gt; (PMap any k v :--&gt; PMaybe v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#plookup"><span class="hs-identifier hs-var">plookup</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (k :--&gt; (PMap 'Unsorted k a :--&gt; PMaybe a))
-&gt; Term s k -&gt; Term s (PMap 'Unsorted k a :--&gt; PMaybe a)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData b) :--&gt; k)
forall (k :: PType) (v :: PType) (s :: S).
PIsData k =&gt;
Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; k)
</span><a href="Plutarch.LedgerApi.AssocMap.html#pkvPairKey"><span class="hs-identifier hs-var">pkvPairKey</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData b) :--&gt; k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData b)) -&gt; Term s k
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData b))
</span><a href="#local-6989586621679282718"><span class="hs-identifier hs-var">h'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k a :--&gt; PMaybe a)
-&gt; Term s (PMap 'Unsorted k a) -&gt; Term s (PMaybe a)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k a)
</span><a href="#local-6989586621679282707"><span class="hs-identifier hs-var">kvs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((PMaybe a s -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; (PMaybe a s -&gt; Term s PBool) -&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-823"></span><span>                    </span><span class="hs-comment">-- We mismatch, so fail</span><span>
</span><span id="line-824"></span><span>                    </span><span class="annot"><span class="annottext">PMaybe a s
</span><span class="hs-identifier hs-var">PNothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PBool s -&gt; Term s PBool
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">PBool s
forall (s :: S). PBool s
</span><span class="hs-identifier hs-var">PFalse</span></span><span>
</span><span id="line-825"></span><span>                    </span><span class="hs-comment">-- Both succeeded, so continue on tails</span><span>
</span><span id="line-826"></span><span>                    </span><span class="annot"><span class="hs-identifier hs-type">PJust</span></span><span> </span><span class="annot"><span class="annottext">Term s a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PMap 'Unsorted k a
   :--&gt; (PMap 'Unsorted k b
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                     :--&gt; PBool))))
</span><a href="#local-6989586621679282706"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PMap 'Unsorted k a
   :--&gt; (PMap 'Unsorted k b
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                     :--&gt; PBool))))
-&gt; Term s (PMap 'Unsorted k a)
-&gt; Term
     s
     (PMap 'Unsorted k b
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                  :--&gt; PBool)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k a)
</span><a href="#local-6989586621679282707"><span class="hs-identifier hs-var">kvs</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PMap 'Unsorted k b
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
               :--&gt; PBool)))
-&gt; Term s (PMap 'Unsorted k b)
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
            :--&gt; PBool))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k b)
</span><a href="#local-6989586621679282708"><span class="hs-identifier hs-var">kvs'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
         :--&gt; PBool))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
-&gt; Term
     s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)) :--&gt; PBool)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
</span><a href="#local-6989586621679282716"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)) :--&gt; PBool)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679282719"><span class="hs-identifier hs-var">t'</span></a></span><span>
</span><span id="line-827"></span><span>
</span><span id="line-828"></span><span class="annot"><span class="hs-comment">{- | Get the key of a key-value pair.

@since 2.1.1
-}</span></span><span>
</span><span id="line-832"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pkvPairKey"><span class="hs-identifier hs-type">pkvPairKey</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-833"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281075"><span class="annot"><a href="#local-6989586621679281075"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281077"><span class="annot"><a href="#local-6989586621679281077"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281076"><span class="annot"><a href="#local-6989586621679281076"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-834"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281075"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-835"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281076"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281075"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281077"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679281075"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-836"></span><span id="pkvPairKey"><span class="annot"><span class="annottext">pkvPairKey :: forall (k :: PType) (v :: PType) (s :: S).
PIsData k =&gt;
Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; k)
</span><a href="Plutarch.LedgerApi.AssocMap.html#pkvPairKey"><span class="hs-identifier hs-var hs-var">pkvPairKey</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm (PBuiltinPair (PAsData k) (PAsData v) :--&gt; k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; k)
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm (PBuiltinPair (PAsData k) (PAsData v) :--&gt; k)
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; k))
-&gt; ClosedTerm (PBuiltinPair (PAsData k) (PAsData v) :--&gt; k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; k)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinPair (PAsData k) (PAsData v)) -&gt; Term s k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; k)
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s k) -&gt; Term s (c :--&gt; k)
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PBuiltinPair (PAsData k) (PAsData v)) -&gt; Term s k)
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; k))
-&gt; (Term s (PBuiltinPair (PAsData k) (PAsData v)) -&gt; Term s k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; k)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679282728"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679282728"><span class="hs-identifier hs-var">kv</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s k
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; a)
</span><span class="hs-identifier hs-var">pfstBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679282728"><span class="hs-identifier hs-var">kv</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-837"></span><span>
</span><span id="line-838"></span><span class="annot"><span class="hs-comment">{- | Get the value of a key-value pair.

@since 2.1.1
-}</span></span><span>
</span><span id="line-842"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pkvPairValue"><span class="hs-identifier hs-type">pkvPairValue</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-843"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281080"><span class="annot"><a href="#local-6989586621679281080"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281078"><span class="annot"><a href="#local-6989586621679281078"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281079"><span class="annot"><a href="#local-6989586621679281079"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-844"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281078"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-845"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281079"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281080"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281078"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679281078"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-846"></span><span id="pkvPairValue"><span class="annot"><span class="annottext">pkvPairValue :: forall (k :: PType) (v :: PType) (s :: S).
PIsData v =&gt;
Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; v)
</span><a href="Plutarch.LedgerApi.AssocMap.html#pkvPairValue"><span class="hs-identifier hs-var hs-var">pkvPairValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm (PBuiltinPair (PAsData k) (PAsData v) :--&gt; v)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; v)
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm (PBuiltinPair (PAsData k) (PAsData v) :--&gt; v)
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; v))
-&gt; ClosedTerm (PBuiltinPair (PAsData k) (PAsData v) :--&gt; v)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinPair (PAsData k) (PAsData v)) -&gt; Term s v)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; v)
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s v) -&gt; Term s (c :--&gt; v)
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PBuiltinPair (PAsData k) (PAsData v)) -&gt; Term s v)
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; v))
-&gt; (Term s (PBuiltinPair (PAsData k) (PAsData v)) -&gt; Term s v)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679282737"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679282737"><span class="hs-identifier hs-var">kv</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v) -&gt; Term s v
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; b)
</span><span class="hs-identifier hs-var">psndBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679282737"><span class="hs-identifier hs-var">kv</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-847"></span><span>
</span><span id="line-848"></span><span class="annot"><span class="hs-comment">-- | @since 2.1.1</span></span><span>
</span><span id="line-849"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#punsortedMapFromFoldable"><span class="hs-identifier hs-type">punsortedMapFromFoldable</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-850"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281296"><span class="annot"><a href="#local-6989586621679281296"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281297"><span class="annot"><a href="#local-6989586621679281297"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281295"><span class="annot"><a href="#local-6989586621679281295"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281298"><span class="annot"><a href="#local-6989586621679281298"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-851"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html#Foldable"><span class="hs-identifier hs-type">Foldable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281295"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281296"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281297"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-852"></span><span>  </span><span class="annot"><a href="#local-6989586621679281295"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281298"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281296"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281298"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281297"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-853"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281298"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Unsorted"><span class="hs-identifier hs-type">Unsorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281296"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281297"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-854"></span><span id="punsortedMapFromFoldable"><span class="annot"><span class="annottext">punsortedMapFromFoldable :: forall (k :: PType) (v :: PType) (f :: Type -&gt; Type) (s :: S).
(Foldable f, PIsData k, PIsData v) =&gt;
f (Term s k, Term s v) -&gt; Term s (PMap 'Unsorted k v)
</span><a href="Plutarch.LedgerApi.AssocMap.html#punsortedMapFromFoldable"><span class="hs-identifier hs-var hs-var">punsortedMapFromFoldable</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PMap 'Unsorted k v s -&gt; Term s (PMap 'Unsorted k v)
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">(PMap 'Unsorted k v s -&gt; Term s (PMap 'Unsorted k v))
-&gt; (f (Term s k, Term s v) -&gt; PMap 'Unsorted k v s)
-&gt; f (Term s k, Term s v)
-&gt; Term s (PMap 'Unsorted k v)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap 'Unsorted k v s
forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S).
Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap keysort k v s
</span><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-var">PMap</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; PMap 'Unsorted k v s)
-&gt; (f (Term s k, Term s v)
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; f (Term s k, Term s v)
-&gt; PMap 'Unsorted k v s
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; (Term s k, Term s v)
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; f (Term s k, Term s v)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; f a -&gt; b
forall (t :: Type -&gt; Type) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html#foldl%27"><span class="hs-identifier hs-var">foldl'</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; (Term s k, Term s v)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s' :: S).
Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; (Term s' k, Term s' v)
-&gt; Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679282748"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
forall (a :: PType) (s :: S). PBuiltinList a s
</span><span class="hs-identifier hs-var">PNil</span></span><span class="hs-special">)</span><span>
</span><span id="line-855"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-856"></span><span>    </span><span class="annot"><a href="#local-6989586621679282748"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-857"></span><span>      </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281307"><span class="annot"><a href="#local-6989586621679281307"><span class="hs-identifier hs-type">s'</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-858"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281307"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281296"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281297"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-859"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281307"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281296"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281307"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281297"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-860"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281307"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281296"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281297"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-861"></span><span>    </span><span id="local-6989586621679282748"><span class="annot"><span class="annottext">go :: forall (s' :: S).
Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; (Term s' k, Term s' v)
-&gt; Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679282748"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621679282753"><span class="annot"><span class="annottext">Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679282753"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679282754"><span class="annot"><span class="annottext">Term s' k
</span><a href="#local-6989586621679282754"><span class="hs-identifier hs-var">key</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679282755"><span class="annot"><span class="annottext">Term s' v
</span><a href="#local-6989586621679282755"><span class="hs-identifier hs-var">val</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-862"></span><span>      </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s'
-&gt; Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">(PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s'
 -&gt; Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; (Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s')
-&gt; Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s' (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s'
forall (a :: PType) (s :: S).
Term s a -&gt; Term s (PBuiltinList a) -&gt; PBuiltinList a s
</span><span class="hs-identifier hs-var">PCons</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s'
  (PAsData k
   :--&gt; (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term
  s
  (PAsData a
   :--&gt; (PAsData b :--&gt; PBuiltinPair (PAsData a) (PAsData b)))
</span><span class="hs-identifier hs-var">ppairDataBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term
  s'
  (PAsData k
   :--&gt; (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s' (PAsData k)
-&gt; Term s' (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s' k -&gt; Term s' (PAsData k)
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><span class="hs-identifier hs-var">pdata</span></span><span> </span><span class="annot"><span class="annottext">Term s' k
</span><a href="#local-6989586621679282754"><span class="hs-identifier hs-var">key</span></a></span><span> </span><span class="annot"><span class="annottext">Term s' (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s' (PAsData v)
-&gt; Term s' (PBuiltinPair (PAsData k) (PAsData v))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s' v -&gt; Term s' (PAsData v)
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><span class="hs-identifier hs-var">pdata</span></span><span> </span><span class="annot"><span class="annottext">Term s' v
</span><a href="#local-6989586621679282755"><span class="hs-identifier hs-var">val</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679282753"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-863"></span><span>
</span><span id="line-864"></span><span class="annot"><span class="hs-comment">-- | @since 2.1.1</span></span><span>
</span><span id="line-865"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#psortedMapFromFoldable"><span class="hs-identifier hs-type">psortedMapFromFoldable</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-866"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281312"><span class="annot"><a href="#local-6989586621679281312"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281313"><span class="annot"><a href="#local-6989586621679281313"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281311"><span class="annot"><a href="#local-6989586621679281311"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281314"><span class="annot"><a href="#local-6989586621679281314"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-867"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html#Foldable"><span class="hs-identifier hs-type">Foldable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281311"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">POrd</span></span><span> </span><span class="annot"><a href="#local-6989586621679281312"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281312"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281313"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-868"></span><span>  </span><span class="annot"><a href="#local-6989586621679281311"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281314"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281312"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281314"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281313"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-869"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281314"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281312"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281313"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-870"></span><span id="psortedMapFromFoldable"><span class="annot"><span class="annottext">psortedMapFromFoldable :: forall (k :: PType) (v :: PType) (f :: Type -&gt; Type) (s :: S).
(Foldable f, POrd k, PIsData k, PIsData v) =&gt;
f (Term s k, Term s v) -&gt; Term s (PMap 'Sorted k v)
</span><a href="Plutarch.LedgerApi.AssocMap.html#psortedMapFromFoldable"><span class="hs-identifier hs-var hs-var">psortedMapFromFoldable</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Term s (PMap 'Sorted k v)
 -&gt; (Term s k, Term s v) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (PMap 'Sorted k v)
-&gt; f (Term s k, Term s v)
-&gt; Term s (PMap 'Sorted k v)
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; f a -&gt; b
forall (t :: Type -&gt; Type) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html#foldl%27"><span class="hs-identifier hs-var">foldl'</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
-&gt; (Term s k, Term s v) -&gt; Term s (PMap 'Sorted k v)
forall (s' :: S).
Term s' (PMap 'Sorted k v)
-&gt; (Term s' k, Term s' v) -&gt; Term s' (PMap 'Sorted k v)
</span><a href="#local-6989586621679282762"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
forall (s :: S) (k :: PType) (v :: PType).
Term s (PMap 'Sorted k v)
</span><a href="Plutarch.LedgerApi.AssocMap.html#pempty"><span class="hs-identifier hs-var">pempty</span></a></span><span>
</span><span id="line-871"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-872"></span><span>    </span><span class="annot"><a href="#local-6989586621679282762"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-873"></span><span>      </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281319"><span class="annot"><a href="#local-6989586621679281319"><span class="hs-identifier hs-type">s'</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-874"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281319"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281312"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281313"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-875"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281319"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281312"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281319"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281313"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-876"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281319"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281312"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281313"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-877"></span><span>    </span><span id="local-6989586621679282762"><span class="annot"><span class="annottext">go :: forall (s' :: S).
Term s' (PMap 'Sorted k v)
-&gt; (Term s' k, Term s' v) -&gt; Term s' (PMap 'Sorted k v)
</span><a href="#local-6989586621679282762"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621679282766"><span class="annot"><span class="annottext">Term s' (PMap 'Sorted k v)
</span><a href="#local-6989586621679282766"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679282767"><span class="annot"><span class="annottext">Term s' k
</span><a href="#local-6989586621679282767"><span class="hs-identifier hs-var">key</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679282768"><span class="annot"><span class="annottext">Term s' v
</span><a href="#local-6989586621679282768"><span class="hs-identifier hs-var">val</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term s' (k :--&gt; (v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall (k :: PType) (v :: PType) (s :: S).
(POrd k, PIsData k, PIsData v) =&gt;
Term s (k :--&gt; (v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pinsert"><span class="hs-identifier hs-var">pinsert</span></a></span><span> </span><span class="annot"><span class="annottext">Term s' (k :--&gt; (v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term s' k
-&gt; Term s' (v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s' k
</span><a href="#local-6989586621679282767"><span class="hs-identifier hs-var">key</span></a></span><span> </span><span class="annot"><span class="annottext">Term s' (v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
-&gt; Term s' v -&gt; Term s' (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s' v
</span><a href="#local-6989586621679282768"><span class="hs-identifier hs-var">val</span></a></span><span> </span><span class="annot"><span class="annottext">Term s' (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)
-&gt; Term s' (PMap 'Sorted k v) -&gt; Term s' (PMap 'Sorted k v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s' (PMap 'Sorted k v)
</span><a href="#local-6989586621679282766"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-878"></span><span>
</span><span id="line-879"></span><span class="annot"><span class="hs-comment">{- | Given an \'updater\' and a key, if the key exists in the 'PMap', apply the
 \'updater\' to it, otherwise do nothing. If the \'updater\' produces
 'PNothing', the value is deleted; otherwise, it is modified to the result.

 Performance will be equivalent to a lookup followed by an insert (or delete),
 as well as the cost of calling the \'updater\'.

 @since 2.1.1
-}</span></span><span>
</span><span id="line-888"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pupdate"><span class="hs-identifier hs-type">pupdate</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-889"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281321"><span class="annot"><a href="#local-6989586621679281321"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281322"><span class="annot"><a href="#local-6989586621679281322"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281323"><span class="annot"><a href="#local-6989586621679281323"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-890"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281321"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281322"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">POrd</span></span><span> </span><span class="annot"><a href="#local-6989586621679281321"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-891"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281323"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679281322"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PMaybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679281322"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679281321"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281321"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281322"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281321"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281322"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-892"></span><span id="pupdate"><span class="annot"><span class="annottext">pupdate :: forall (k :: PType) (v :: PType) (s :: S).
(PIsData k, PIsData v, POrd k) =&gt;
Term
  s
  ((v :--&gt; PMaybe v)
   :--&gt; (k :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pupdate"><span class="hs-identifier hs-var hs-var">pupdate</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm
  ((v :--&gt; PMaybe v)
   :--&gt; (k :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; PMaybe v)
      :--&gt; (k :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   ((v :--&gt; PMaybe v)
    :--&gt; (k :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
 -&gt; Term
      s
      ((v :--&gt; PMaybe v)
       :--&gt; (k :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; ClosedTerm
     ((v :--&gt; PMaybe v)
      :--&gt; (k :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; PMaybe v)
      :--&gt; (k :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-893"></span><span>  </span><span class="annot"><span class="annottext">(Term s (v :--&gt; PMaybe v)
 -&gt; Term s k
 -&gt; Term s (PMap 'Sorted k v)
 -&gt; Term s (PMap 'Sorted k v))
-&gt; Term
     s
     ((v :--&gt; PMaybe v)
      :--&gt; (k :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term s k
 -&gt; Term s (PMap 'Sorted k v)
 -&gt; Term s (PMap 'Sorted k v))
-&gt; Term
     s (c :--&gt; (k :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (v :--&gt; PMaybe v)
  -&gt; Term s k
  -&gt; Term s (PMap 'Sorted k v)
  -&gt; Term s (PMap 'Sorted k v))
 -&gt; Term
      s
      ((v :--&gt; PMaybe v)
       :--&gt; (k :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; (Term s (v :--&gt; PMaybe v)
    -&gt; Term s k
    -&gt; Term s (PMap 'Sorted k v)
    -&gt; Term s (PMap 'Sorted k v))
-&gt; Term
     s
     ((v :--&gt; PMaybe v)
      :--&gt; (k :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679282807"><span class="annot"><span class="annottext">Term s (v :--&gt; PMaybe v)
</span><a href="#local-6989586621679282807"><span class="hs-identifier hs-var">updater</span></a></span></span><span> </span><span id="local-6989586621679282808"><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679282808"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span id="local-6989586621679282809"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679282809"><span class="hs-identifier hs-var">kvs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
-&gt; (PMap 'Sorted k v s -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (PMap 'Sorted k v)
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679282809"><span class="hs-identifier hs-var">kvs</span></a></span><span> </span><span class="annot"><span class="annottext">((PMap 'Sorted k v s -&gt; Term s (PMap 'Sorted k v))
 -&gt; Term s (PMap 'Sorted k v))
-&gt; (PMap 'Sorted k v s -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (PMap 'Sorted k v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span id="local-6989586621679282810"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679282810"><span class="hs-identifier hs-var">kvs'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-894"></span><span>    </span><span class="annot"><span class="annottext">PMap 'Sorted k v s -&gt; Term s (PMap 'Sorted k v)
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">(PMap 'Sorted k v s -&gt; Term s (PMap 'Sorted k v))
-&gt; (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; PMap 'Sorted k v s)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PMap 'Sorted k v)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap 'Sorted k v s
forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S).
Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap keysort k v s
</span><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-var">PMap</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PMap 'Sorted k v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-895"></span><span>      </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">(Term
   s
   (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; (Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S) (r :: PType).
PIsListLike list a =&gt;
(Term s (list a :--&gt; r) -&gt; Term s a -&gt; Term s (list a) -&gt; Term s r)
-&gt; (Term s (list a :--&gt; r) -&gt; Term s r) -&gt; Term s (list a :--&gt; r)
</span><span class="hs-identifier hs-var">precList</span></span><span>
</span><span id="line-896"></span><span>          </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679282811"><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679282811"><span class="hs-identifier hs-var">self</span></a></span></span><span> </span><span id="local-6989586621679282812"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679282812"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679282813"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679282813"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-897"></span><span>              </span><span class="annot"><span class="annottext">Term s k
-&gt; (Term s k
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s k
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData k) -&gt; Term s k) -&gt; Term s (PAsData k) -&gt; Term s k
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; a)
</span><span class="hs-identifier hs-var">pfstBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679282812"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Term s k
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; (Term s k
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679282814"><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679282814"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-898"></span><span>                </span><span class="annot"><span class="annottext">Term s PBool
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><span class="hs-identifier hs-var">pif</span></span><span>
</span><span id="line-899"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679282814"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; Term s k -&gt; Term s PBool
forall (s :: S). Term s k -&gt; Term s k -&gt; Term s PBool
forall (t :: PType) (s :: S).
PEq t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><span class="hs-operator hs-var">#==</span></span><span> </span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679282808"><span class="hs-identifier hs-var">key</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-900"></span><span>                  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Term s (PMaybe v)
-&gt; (PMaybe v s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (v :--&gt; PMaybe v)
</span><a href="#local-6989586621679282807"><span class="hs-identifier hs-var">updater</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; PMaybe v) -&gt; Term s v -&gt; Term s (PMaybe v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v) -&gt; Term s v
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; b)
</span><span class="hs-identifier hs-var">psndBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679282812"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((PMaybe v s
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; (PMaybe v s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-901"></span><span>                      </span><span class="annot"><span class="annottext">PMaybe v s
</span><span class="hs-identifier hs-var">PNothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679282811"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679282813"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-902"></span><span>                      </span><span class="annot"><span class="hs-identifier hs-type">PJust</span></span><span> </span><span id="local-6989586621679282815"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679282815"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PAsData k
   :--&gt; (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term
  s
  (PAsData a
   :--&gt; (PAsData b :--&gt; PBuiltinPair (PAsData a) (PAsData b)))
</span><span class="hs-identifier hs-var">ppairDataBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PAsData k
   :--&gt; (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PAsData k)
-&gt; Term s (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; Term s (PAsData k)
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><span class="hs-identifier hs-var">pdata</span></span><span> </span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679282814"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData v)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v -&gt; Term s (PAsData v)
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><span class="hs-identifier hs-var">pdata</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679282815"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#$</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679282811"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679282813"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-903"></span><span>                  </span><span class="hs-special">)</span><span>
</span><span id="line-904"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s PBool
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><span class="hs-identifier hs-var">pif</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679282808"><span class="hs-identifier hs-var">key</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; Term s k -&gt; Term s PBool
forall (s :: S). Term s k -&gt; Term s k -&gt; Term s PBool
forall (t :: PType) (s :: S).
PPartialOrd t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><span class="hs-operator hs-var">#&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679282814"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679282812"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679282813"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679282812"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#$</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679282811"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679282813"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-905"></span><span>          </span><span class="hs-special">)</span><span>
</span><span id="line-906"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. a -&gt; b -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (PBuiltinList a)
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (list a)
</span><span class="hs-identifier hs-var">pnil</span></span><span class="hs-special">)</span><span class="hs-cpp">
          # kvs'
</span><span>      </span><span class="hs-special">)</span><span>
</span><span id="line-909"></span><span>
</span><span id="line-910"></span><span class="annot"><span class="hs-comment">{- | If a value exists at the specified key, apply the function argument to it;
 otherwise, do nothing.

 @since 2.1.1
-}</span></span><span>
</span><span id="line-915"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#padjust"><span class="hs-identifier hs-type">padjust</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-916"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281328"><span class="annot"><a href="#local-6989586621679281328"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281329"><span class="annot"><a href="#local-6989586621679281329"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281330"><span class="annot"><a href="#local-6989586621679281330"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-917"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281328"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PEq</span></span><span> </span><span class="annot"><a href="#local-6989586621679281328"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281329"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-918"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281330"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679281329"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679281329"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679281328"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Unsorted"><span class="hs-identifier hs-type">Unsorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281328"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281329"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Unsorted"><span class="hs-identifier hs-type">Unsorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281328"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281329"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-919"></span><span id="padjust"><span class="annot"><span class="annottext">padjust :: forall (k :: PType) (v :: PType) (s :: S).
(PIsData k, PEq k, PIsData v) =&gt;
Term
  s
  ((v :--&gt; v)
   :--&gt; (k :--&gt; (PMap 'Unsorted k v :--&gt; PMap 'Unsorted k v)))
</span><a href="Plutarch.LedgerApi.AssocMap.html#padjust"><span class="hs-identifier hs-var hs-var">padjust</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm
  ((v :--&gt; v)
   :--&gt; (k :--&gt; (PMap 'Unsorted k v :--&gt; PMap 'Unsorted k v)))
-&gt; Term
     s
     ((v :--&gt; v)
      :--&gt; (k :--&gt; (PMap 'Unsorted k v :--&gt; PMap 'Unsorted k v)))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   ((v :--&gt; v)
    :--&gt; (k :--&gt; (PMap 'Unsorted k v :--&gt; PMap 'Unsorted k v)))
 -&gt; Term
      s
      ((v :--&gt; v)
       :--&gt; (k :--&gt; (PMap 'Unsorted k v :--&gt; PMap 'Unsorted k v))))
-&gt; ClosedTerm
     ((v :--&gt; v)
      :--&gt; (k :--&gt; (PMap 'Unsorted k v :--&gt; PMap 'Unsorted k v)))
-&gt; Term
     s
     ((v :--&gt; v)
      :--&gt; (k :--&gt; (PMap 'Unsorted k v :--&gt; PMap 'Unsorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-920"></span><span>  </span><span class="annot"><span class="annottext">(Term s (v :--&gt; v)
 -&gt; Term s k
 -&gt; Term s (PMap 'Unsorted k v)
 -&gt; Term s (PMap 'Unsorted k v))
-&gt; Term
     s
     ((v :--&gt; v)
      :--&gt; (k :--&gt; (PMap 'Unsorted k v :--&gt; PMap 'Unsorted k v)))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term s k
 -&gt; Term s (PMap 'Unsorted k v)
 -&gt; Term s (PMap 'Unsorted k v))
-&gt; Term
     s (c :--&gt; (k :--&gt; (PMap 'Unsorted k v :--&gt; PMap 'Unsorted k v)))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (v :--&gt; v)
  -&gt; Term s k
  -&gt; Term s (PMap 'Unsorted k v)
  -&gt; Term s (PMap 'Unsorted k v))
 -&gt; Term
      s
      ((v :--&gt; v)
       :--&gt; (k :--&gt; (PMap 'Unsorted k v :--&gt; PMap 'Unsorted k v))))
-&gt; (Term s (v :--&gt; v)
    -&gt; Term s k
    -&gt; Term s (PMap 'Unsorted k v)
    -&gt; Term s (PMap 'Unsorted k v))
-&gt; Term
     s
     ((v :--&gt; v)
      :--&gt; (k :--&gt; (PMap 'Unsorted k v :--&gt; PMap 'Unsorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679282840"><span class="annot"><span class="annottext">Term s (v :--&gt; v)
</span><a href="#local-6989586621679282840"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679282841"><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679282841"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span id="local-6989586621679282842"><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k v)
</span><a href="#local-6989586621679282842"><span class="hs-identifier hs-var">kvs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-921"></span><span>    </span><span class="annot"><span class="annottext">Term
  s
  ((k :--&gt; (v :--&gt; v))
   :--&gt; (PMap 'Unsorted k v :--&gt; PMap 'Unsorted k v))
forall (k :: PType) (a :: PType) (b :: PType)
       (keysort :: KeyGuarantees) (s :: S).
(PIsData k, PIsData a, PIsData b) =&gt;
Term
  s
  ((k :--&gt; (a :--&gt; b))
   :--&gt; (PMap keysort k a :--&gt; PMap 'Unsorted k b))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pmapWithKey"><span class="hs-identifier hs-var">pmapWithKey</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((k :--&gt; (v :--&gt; v))
   :--&gt; (PMap 'Unsorted k v :--&gt; PMap 'Unsorted k v))
-&gt; Term s (k :--&gt; (v :--&gt; v))
-&gt; Term s (PMap 'Unsorted k v :--&gt; PMap 'Unsorted k v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">(Term s k -&gt; Term s v -&gt; Term s v) -&gt; Term s (k :--&gt; (v :--&gt; v))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s v -&gt; Term s v) -&gt; Term s (c :--&gt; (v :--&gt; v))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679282843"><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679282843"><span class="hs-identifier hs-var">k'</span></a></span></span><span> </span><span id="local-6989586621679282844"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679282844"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s PBool -&gt; Term s v -&gt; Term s v -&gt; Term s v
forall (s :: S) (a :: PType).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><span class="hs-identifier hs-var">pif</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679282843"><span class="hs-identifier hs-var">k'</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; Term s k -&gt; Term s PBool
forall (s :: S). Term s k -&gt; Term s k -&gt; Term s PBool
forall (t :: PType) (s :: S).
PEq t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><span class="hs-operator hs-var">#==</span></span><span> </span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679282841"><span class="hs-identifier hs-var">key</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (v :--&gt; v)
</span><a href="#local-6989586621679282840"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; v) -&gt; Term s v -&gt; Term s v
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679282844"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679282844"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k v :--&gt; PMap 'Unsorted k v)
-&gt; Term s (PMap 'Unsorted k v) -&gt; Term s (PMap 'Unsorted k v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k v)
</span><a href="#local-6989586621679282842"><span class="hs-identifier hs-var">kvs</span></a></span><span>
</span><span id="line-922"></span><span>
</span><span id="line-923"></span><span class="annot"><span class="hs-comment">{- | Left-associative fold of a 'PMap' with keys. Keys and values will be
 presented in key order.

 @since 2.1.1
-}</span></span><span>
</span><span id="line-928"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pfoldlWithKey"><span class="hs-identifier hs-type">pfoldlWithKey</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-929"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281338"><span class="annot"><a href="#local-6989586621679281338"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281335"><span class="annot"><a href="#local-6989586621679281335"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281336"><span class="annot"><a href="#local-6989586621679281336"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281337"><span class="annot"><a href="#local-6989586621679281337"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-930"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281335"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281336"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-931"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281337"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679281338"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679281335"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679281336"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679281338"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679281338"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281335"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281336"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679281338"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-932"></span><span id="pfoldlWithKey"><span class="annot"><span class="annottext">pfoldlWithKey :: forall (a :: PType) (k :: PType) (v :: PType) (s :: S).
(PIsData k, PIsData v) =&gt;
Term
  s
  ((a :--&gt; (k :--&gt; (v :--&gt; a)))
   :--&gt; (a :--&gt; (PMap 'Sorted k v :--&gt; a)))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pfoldlWithKey"><span class="hs-identifier hs-var hs-var">pfoldlWithKey</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm
  ((a :--&gt; (k :--&gt; (v :--&gt; a)))
   :--&gt; (a :--&gt; (PMap 'Sorted k v :--&gt; a)))
-&gt; Term
     s
     ((a :--&gt; (k :--&gt; (v :--&gt; a)))
      :--&gt; (a :--&gt; (PMap 'Sorted k v :--&gt; a)))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   ((a :--&gt; (k :--&gt; (v :--&gt; a)))
    :--&gt; (a :--&gt; (PMap 'Sorted k v :--&gt; a)))
 -&gt; Term
      s
      ((a :--&gt; (k :--&gt; (v :--&gt; a)))
       :--&gt; (a :--&gt; (PMap 'Sorted k v :--&gt; a))))
-&gt; ClosedTerm
     ((a :--&gt; (k :--&gt; (v :--&gt; a)))
      :--&gt; (a :--&gt; (PMap 'Sorted k v :--&gt; a)))
-&gt; Term
     s
     ((a :--&gt; (k :--&gt; (v :--&gt; a)))
      :--&gt; (a :--&gt; (PMap 'Sorted k v :--&gt; a)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-933"></span><span>  </span><span class="annot"><span class="annottext">(Term s (a :--&gt; (k :--&gt; (v :--&gt; a)))
 -&gt; Term s a -&gt; Term s (PMap 'Sorted k v) -&gt; Term s a)
-&gt; Term
     s
     ((a :--&gt; (k :--&gt; (v :--&gt; a)))
      :--&gt; (a :--&gt; (PMap 'Sorted k v :--&gt; a)))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s a -&gt; Term s (PMap 'Sorted k v) -&gt; Term s a)
-&gt; Term s (c :--&gt; (a :--&gt; (PMap 'Sorted k v :--&gt; a)))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (a :--&gt; (k :--&gt; (v :--&gt; a)))
  -&gt; Term s a -&gt; Term s (PMap 'Sorted k v) -&gt; Term s a)
 -&gt; Term
      s
      ((a :--&gt; (k :--&gt; (v :--&gt; a)))
       :--&gt; (a :--&gt; (PMap 'Sorted k v :--&gt; a))))
-&gt; (Term s (a :--&gt; (k :--&gt; (v :--&gt; a)))
    -&gt; Term s a -&gt; Term s (PMap 'Sorted k v) -&gt; Term s a)
-&gt; Term
     s
     ((a :--&gt; (k :--&gt; (v :--&gt; a)))
      :--&gt; (a :--&gt; (PMap 'Sorted k v :--&gt; a)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679282870"><span class="annot"><span class="annottext">Term s (a :--&gt; (k :--&gt; (v :--&gt; a)))
</span><a href="#local-6989586621679282870"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679282871"><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679282871"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679282872"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679282872"><span class="hs-identifier hs-var">kvs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
-&gt; (PMap 'Sorted k v s -&gt; Term s a) -&gt; Term s a
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679282872"><span class="hs-identifier hs-var">kvs</span></a></span><span> </span><span class="annot"><span class="annottext">((PMap 'Sorted k v s -&gt; Term s a) -&gt; Term s a)
-&gt; (PMap 'Sorted k v s -&gt; Term s a) -&gt; Term s a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-934"></span><span>    </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span id="local-6989586621679282873"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679282873"><span class="hs-identifier hs-var">kvs'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-935"></span><span>      </span><span class="annot"><span class="annottext">Term
  s
  ((a :--&gt; (PBuiltinPair (PAsData k) (PAsData v) :--&gt; a))
   :--&gt; (a
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; a)))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S) (b :: PType).
PIsListLike list a =&gt;
Term s ((b :--&gt; (a :--&gt; b)) :--&gt; (b :--&gt; (list a :--&gt; b)))
</span><span class="hs-identifier hs-var">pfoldl</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((a :--&gt; (PBuiltinPair (PAsData k) (PAsData v) :--&gt; a))
   :--&gt; (a
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; a)))
-&gt; Term s (a :--&gt; (PBuiltinPair (PAsData k) (PAsData v) :--&gt; a))
-&gt; Term
     s
     (a
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; a))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">(Term s a
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v)) -&gt; Term s a)
-&gt; Term s (a :--&gt; (PBuiltinPair (PAsData k) (PAsData v) :--&gt; a))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v)) -&gt; Term s a)
-&gt; Term s (c :--&gt; (PBuiltinPair (PAsData k) (PAsData v) :--&gt; a))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679282875"><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679282875"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span id="local-6989586621679282876"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679282876"><span class="hs-identifier hs-var">kv</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (a :--&gt; (k :--&gt; (v :--&gt; a)))
</span><a href="#local-6989586621679282870"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (a :--&gt; (k :--&gt; (v :--&gt; a)))
-&gt; Term s a -&gt; Term s (k :--&gt; (v :--&gt; a))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679282875"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (k :--&gt; (v :--&gt; a)) -&gt; Term s k -&gt; Term s (v :--&gt; a)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; k)
forall (k :: PType) (v :: PType) (s :: S).
PIsData k =&gt;
Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; k)
</span><a href="Plutarch.LedgerApi.AssocMap.html#pkvPairKey"><span class="hs-identifier hs-var">pkvPairKey</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v)) -&gt; Term s k
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679282876"><span class="hs-identifier hs-var">kv</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; a) -&gt; Term s v -&gt; Term s a
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; v)
forall (k :: PType) (v :: PType) (s :: S).
PIsData v =&gt;
Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; v)
</span><a href="Plutarch.LedgerApi.AssocMap.html#pkvPairValue"><span class="hs-identifier hs-var">pkvPairValue</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; v)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v)) -&gt; Term s v
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679282876"><span class="hs-identifier hs-var">kv</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (a
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; a))
-&gt; Term s a
-&gt; Term
     s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; a)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679282871"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; a)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s a
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679282873"><span class="hs-identifier hs-var">kvs'</span></a></span><span>
</span><span id="line-936"></span><span>
</span><span id="line-937"></span><span class="annot"><span class="hs-comment">{- | Project all key-value pairs into a 'Monoid', then combine. Keys and values
 will be presented in key order.

 @since 2.1.1
-}</span></span><span>
</span><span id="line-942"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pfoldMapWithKey"><span class="hs-identifier hs-type">pfoldMapWithKey</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-943"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281351"><span class="annot"><a href="#local-6989586621679281351"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281348"><span class="annot"><a href="#local-6989586621679281348"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281349"><span class="annot"><a href="#local-6989586621679281349"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281352"><span class="annot"><a href="#local-6989586621679281352"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-944"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281348"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281349"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281350"><span class="annot"><a href="#local-6989586621679281350"><span class="hs-identifier hs-type">s'</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#Monoid"><span class="hs-identifier hs-type">Monoid</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281350"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281351"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-945"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281352"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679281348"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679281349"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679281351"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281348"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281349"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679281351"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-946"></span><span id="pfoldMapWithKey"><span class="annot"><span class="annottext">pfoldMapWithKey :: forall (m :: PType) (k :: PType) (v :: PType) (s :: S).
(PIsData k, PIsData v, forall (s' :: S). Monoid (Term s' m)) =&gt;
Term s ((k :--&gt; (v :--&gt; m)) :--&gt; (PMap 'Sorted k v :--&gt; m))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pfoldMapWithKey"><span class="hs-identifier hs-var hs-var">pfoldMapWithKey</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm ((k :--&gt; (v :--&gt; m)) :--&gt; (PMap 'Sorted k v :--&gt; m))
-&gt; Term s ((k :--&gt; (v :--&gt; m)) :--&gt; (PMap 'Sorted k v :--&gt; m))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm ((k :--&gt; (v :--&gt; m)) :--&gt; (PMap 'Sorted k v :--&gt; m))
 -&gt; Term s ((k :--&gt; (v :--&gt; m)) :--&gt; (PMap 'Sorted k v :--&gt; m)))
-&gt; ClosedTerm ((k :--&gt; (v :--&gt; m)) :--&gt; (PMap 'Sorted k v :--&gt; m))
-&gt; Term s ((k :--&gt; (v :--&gt; m)) :--&gt; (PMap 'Sorted k v :--&gt; m))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-947"></span><span>  </span><span class="annot"><span class="annottext">(Term s (k :--&gt; (v :--&gt; m))
 -&gt; Term s (PMap 'Sorted k v) -&gt; Term s m)
-&gt; Term s ((k :--&gt; (v :--&gt; m)) :--&gt; (PMap 'Sorted k v :--&gt; m))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap 'Sorted k v) -&gt; Term s m)
-&gt; Term s (c :--&gt; (PMap 'Sorted k v :--&gt; m))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (k :--&gt; (v :--&gt; m))
  -&gt; Term s (PMap 'Sorted k v) -&gt; Term s m)
 -&gt; Term s ((k :--&gt; (v :--&gt; m)) :--&gt; (PMap 'Sorted k v :--&gt; m)))
-&gt; (Term s (k :--&gt; (v :--&gt; m))
    -&gt; Term s (PMap 'Sorted k v) -&gt; Term s m)
-&gt; Term s ((k :--&gt; (v :--&gt; m)) :--&gt; (PMap 'Sorted k v :--&gt; m))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679282900"><span class="annot"><span class="annottext">Term s (k :--&gt; (v :--&gt; m))
</span><a href="#local-6989586621679282900"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679282901"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679282901"><span class="hs-identifier hs-var">kvs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-948"></span><span>    </span><span class="annot"><span class="annottext">Term
  s
  ((m :--&gt; (k :--&gt; (v :--&gt; m)))
   :--&gt; (m :--&gt; (PMap 'Sorted k v :--&gt; m)))
forall (a :: PType) (k :: PType) (v :: PType) (s :: S).
(PIsData k, PIsData v) =&gt;
Term
  s
  ((a :--&gt; (k :--&gt; (v :--&gt; a)))
   :--&gt; (a :--&gt; (PMap 'Sorted k v :--&gt; a)))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pfoldlWithKey"><span class="hs-identifier hs-var">pfoldlWithKey</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((m :--&gt; (k :--&gt; (v :--&gt; m)))
   :--&gt; (m :--&gt; (PMap 'Sorted k v :--&gt; m)))
-&gt; Term s (m :--&gt; (k :--&gt; (v :--&gt; m)))
-&gt; Term s (m :--&gt; (PMap 'Sorted k v :--&gt; m))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">(Term s m -&gt; Term s k -&gt; Term s v -&gt; Term s m)
-&gt; Term s (m :--&gt; (k :--&gt; (v :--&gt; m)))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s k -&gt; Term s v -&gt; Term s m)
-&gt; Term s (c :--&gt; (k :--&gt; (v :--&gt; m)))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679282902"><span class="annot"><span class="annottext">Term s m
</span><a href="#local-6989586621679282902"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span id="local-6989586621679282903"><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679282903"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621679282904"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679282904"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s m
</span><a href="#local-6989586621679282902"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">Term s m -&gt; Term s m -&gt; Term s m
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (k :--&gt; (v :--&gt; m))
</span><a href="#local-6989586621679282900"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (k :--&gt; (v :--&gt; m)) -&gt; Term s k -&gt; Term s (v :--&gt; m)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679282903"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; m) -&gt; Term s v -&gt; Term s m
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679282904"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term s (m :--&gt; (PMap 'Sorted k v :--&gt; m))
-&gt; Term s m -&gt; Term s (PMap 'Sorted k v :--&gt; m)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s m
forall a. Monoid a =&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v :--&gt; m)
-&gt; Term s (PMap 'Sorted k v) -&gt; Term s m
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679282901"><span class="hs-identifier hs-var">kvs</span></a></span><span>
</span><span id="line-949"></span><span>
</span><span id="line-950"></span><span class="annot"><span class="hs-comment">{- | Get a list-like structure full of the keys of the argument 'PMap'. If the
 'PMap' is 'Sorted', the keys will maintain that order, and will be unique;
 otherwise, the order is unspecified, and duplicates may exist.

 = Note

 You will need to specify what manner of list-like structure you want; we have
 arranged the type signature to make specifying this easy with
 @TypeApplications@.

 @since 2.1.1
-}</span></span><span>
</span><span id="line-962"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pkeys"><span class="hs-identifier hs-type">pkeys</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-963"></span><span>  </span><span class="hs-keyword">forall</span><span>
</span><span id="line-964"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679281360"><span class="annot"><a href="#local-6989586621679281360"><span class="hs-identifier hs-type">ell</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span>
</span><span id="line-965"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679281361"><span class="annot"><a href="#local-6989586621679281361"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span>
</span><span id="line-966"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679281364"><span class="annot"><a href="#local-6989586621679281364"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span>
</span><span id="line-967"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679281363"><span class="annot"><a href="#local-6989586621679281363"><span class="hs-identifier hs-type">keys</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#KeyGuarantees"><span class="hs-identifier hs-type">KeyGuarantees</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-968"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679281362"><span class="annot"><a href="#local-6989586621679281362"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-969"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PListLike</span></span><span> </span><span class="annot"><a href="#local-6989586621679281360"><span class="hs-identifier hs-type">ell</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PElemConstraint</span></span><span> </span><span class="annot"><a href="#local-6989586621679281360"><span class="hs-identifier hs-type">ell</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281361"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-970"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281362"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281363"><span class="hs-identifier hs-type">keys</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281361"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281364"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679281360"><span class="hs-identifier hs-type">ell</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281361"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-971"></span><span id="pkeys"><span class="annot"><span class="annottext">pkeys :: forall (ell :: PType -&gt; PType) (k :: PType) (v :: PType)
       (keys :: KeyGuarantees) (s :: S).
(PListLike ell, PElemConstraint ell (PAsData k)) =&gt;
Term s (PMap keys k v :--&gt; ell (PAsData k))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pkeys"><span class="hs-identifier hs-var hs-var">pkeys</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm (PMap keys k v :--&gt; ell (PAsData k))
-&gt; Term s (PMap keys k v :--&gt; ell (PAsData k))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm (PMap keys k v :--&gt; ell (PAsData k))
 -&gt; Term s (PMap keys k v :--&gt; ell (PAsData k)))
-&gt; ClosedTerm (PMap keys k v :--&gt; ell (PAsData k))
-&gt; Term s (PMap keys k v :--&gt; ell (PAsData k))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-972"></span><span>  </span><span class="annot"><span class="annottext">(Term s (PMap keys k v) -&gt; Term s (ell (PAsData k)))
-&gt; Term s (PMap keys k v :--&gt; ell (PAsData k))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (ell (PAsData k)))
-&gt; Term s (c :--&gt; ell (PAsData k))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PMap keys k v) -&gt; Term s (ell (PAsData k)))
 -&gt; Term s (PMap keys k v :--&gt; ell (PAsData k)))
-&gt; (Term s (PMap keys k v) -&gt; Term s (ell (PAsData k)))
-&gt; Term s (PMap keys k v :--&gt; ell (PAsData k))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679282922"><span class="annot"><span class="annottext">Term s (PMap keys k v)
</span><a href="#local-6989586621679282922"><span class="hs-identifier hs-var">kvs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PMap keys k v)
-&gt; (PMap keys k v s -&gt; Term s (ell (PAsData k)))
-&gt; Term s (ell (PAsData k))
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap keys k v)
</span><a href="#local-6989586621679282922"><span class="hs-identifier hs-var">kvs</span></a></span><span> </span><span class="annot"><span class="annottext">((PMap keys k v s -&gt; Term s (ell (PAsData k)))
 -&gt; Term s (ell (PAsData k)))
-&gt; (PMap keys k v s -&gt; Term s (ell (PAsData k)))
-&gt; Term s (ell (PAsData k))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span id="local-6989586621679282923"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679282923"><span class="hs-identifier hs-var">kvs'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-973"></span><span>    </span><span class="annot"><span class="annottext">(Term
   s
   (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; ell (PAsData k))
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (ell (PAsData k)))
-&gt; (Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; ell (PAsData k))
    -&gt; Term s (ell (PAsData k)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; ell (PAsData k))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S) (r :: PType).
PIsListLike list a =&gt;
(Term s (list a :--&gt; r) -&gt; Term s a -&gt; Term s (list a) -&gt; Term s r)
-&gt; (Term s (list a :--&gt; r) -&gt; Term s r) -&gt; Term s (list a :--&gt; r)
</span><span class="hs-identifier hs-var">precList</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; ell (PAsData k))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (ell (PAsData k))
forall (s' :: S).
Term
  s'
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; ell (PAsData k))
-&gt; Term s' (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s' (ell (PAsData k))
</span><a href="#local-6989586621679282924"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (ell (PAsData k))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; ell (PAsData k))
-&gt; Term s (ell (PAsData k))
forall a b. a -&gt; b -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (ell (PAsData k))
forall (a :: PType) (s :: S).
PElemConstraint ell a =&gt;
Term s (ell a)
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (list a)
</span><span class="hs-identifier hs-var">pnil</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; ell (PAsData k))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (ell (PAsData k))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679282923"><span class="hs-identifier hs-var">kvs'</span></a></span><span>
</span><span id="line-974"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-975"></span><span>    </span><span class="annot"><a href="#local-6989586621679282924"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-976"></span><span>      </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281371"><span class="annot"><a href="#local-6989586621679281371"><span class="hs-identifier hs-type">s'</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-977"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281371"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281361"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281364"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679281360"><span class="hs-identifier hs-type">ell</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281361"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-978"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281371"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281361"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281364"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-979"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281371"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281361"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281364"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-980"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281371"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679281360"><span class="hs-identifier hs-type">ell</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281361"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-981"></span><span>    </span><span id="local-6989586621679282924"><span class="annot"><span class="annottext">go :: forall (s' :: S).
Term
  s'
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; ell (PAsData k))
-&gt; Term s' (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s' (ell (PAsData k))
</span><a href="#local-6989586621679282924"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621679282927"><span class="annot"><span class="annottext">Term
  s'
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; ell (PAsData k))
</span><a href="#local-6989586621679282927"><span class="hs-identifier hs-var">self</span></a></span></span><span> </span><span id="local-6989586621679282928"><span class="annot"><span class="annottext">Term s' (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679282928"><span class="hs-identifier hs-var">kv</span></a></span></span><span> </span><span id="local-6989586621679282929"><span class="annot"><span class="annottext">Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679282929"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term s' (PAsData k :--&gt; (ell (PAsData k) :--&gt; ell (PAsData k)))
forall (a :: PType) (s :: S).
PElemConstraint ell a =&gt;
Term s (a :--&gt; (ell a :--&gt; ell a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span> </span><span class="annot"><span class="annottext">Term s' (PAsData k :--&gt; (ell (PAsData k) :--&gt; ell (PAsData k)))
-&gt; Term s' (PAsData k)
-&gt; Term s' (ell (PAsData k) :--&gt; ell (PAsData k))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s' (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; a)
</span><span class="hs-identifier hs-var">pfstBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s' (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
-&gt; Term s' (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s' (PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s' (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679282928"><span class="hs-identifier hs-var">kv</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term s' (ell (PAsData k) :--&gt; ell (PAsData k))
-&gt; Term s' (ell (PAsData k)) -&gt; Term s' (ell (PAsData k))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s'
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; ell (PAsData k))
</span><a href="#local-6989586621679282927"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s'
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; ell (PAsData k))
-&gt; Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s' (ell (PAsData k))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679282929"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-982"></span><span>
</span><span id="line-983"></span><span class="annot"><span class="hs-comment">{- | Compare two key-value pairs by their keys. Gives 'PTrue' if the key of the
 first argument pair is less than the key of the second argument pair.

 @since 2.1.1
-}</span></span><span>
</span><span id="line-988"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pkvPairLt"><span class="hs-identifier hs-type">pkvPairLt</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-989"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281373"><span class="annot"><a href="#local-6989586621679281373"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281375"><span class="annot"><a href="#local-6989586621679281375"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281374"><span class="annot"><a href="#local-6989586621679281374"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-990"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281373"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PPartialOrd</span></span><span> </span><span class="annot"><a href="#local-6989586621679281373"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-991"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span>
</span><span id="line-992"></span><span>    </span><span class="annot"><a href="#local-6989586621679281374"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-993"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281373"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281375"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-994"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281373"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281375"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-995"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBool</span></span><span>
</span><span id="line-996"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-997"></span><span id="pkvPairLt"><span class="annot"><span class="annottext">pkvPairLt :: forall (k :: PType) (v :: PType) (s :: S).
(PIsData k, PPartialOrd k) =&gt;
Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pkvPairLt"><span class="hs-identifier hs-var hs-var">pkvPairLt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool))
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   (PBuiltinPair (PAsData k) (PAsData v)
    :--&gt; (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool))
 -&gt; Term
      s
      (PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool)))
-&gt; ClosedTerm
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool))
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-998"></span><span>  </span><span class="annot"><span class="annottext">(Term s (PBuiltinPair (PAsData k) (PAsData v))
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v)) -&gt; Term s PBool)
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v)) -&gt; Term s PBool)
-&gt; Term
     s (c :--&gt; (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PBuiltinPair (PAsData k) (PAsData v))
  -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v)) -&gt; Term s PBool)
 -&gt; Term
      s
      (PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool)))
-&gt; (Term s (PBuiltinPair (PAsData k) (PAsData v))
    -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v)) -&gt; Term s PBool)
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679282943"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679282943"><span class="hs-identifier hs-var">kv</span></a></span></span><span> </span><span id="local-6989586621679282944"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679282944"><span class="hs-identifier hs-var">kv'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-999"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; k)
forall (k :: PType) (v :: PType) (s :: S).
PIsData k =&gt;
Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; k)
</span><a href="Plutarch.LedgerApi.AssocMap.html#pkvPairKey"><span class="hs-identifier hs-var">pkvPairKey</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v)) -&gt; Term s k
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679282943"><span class="hs-identifier hs-var">kv</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; Term s k -&gt; Term s PBool
forall (s :: S). Term s k -&gt; Term s k -&gt; Term s PBool
forall (t :: PType) (s :: S).
PPartialOrd t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><span class="hs-operator hs-var">#&lt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; k)
forall (k :: PType) (v :: PType) (s :: S).
PIsData k =&gt;
Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; k)
</span><a href="Plutarch.LedgerApi.AssocMap.html#pkvPairKey"><span class="hs-identifier hs-var">pkvPairKey</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v)) -&gt; Term s k
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679282944"><span class="hs-identifier hs-var">kv'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1000"></span><span>
</span><span id="line-1001"></span><span class="hs-comment">-- Helpers</span><span>
</span><span id="line-1002"></span><span>
</span><span id="line-1003"></span><span class="annot"><span class="hs-comment">-- | Rebuild the map at the given key.</span></span><span>
</span><span id="line-1004"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#rebuildAtKey"><span class="hs-identifier hs-type">rebuildAtKey</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1005"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281222"><span class="annot"><a href="#local-6989586621679281222"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#KeyGuarantees"><span class="hs-identifier hs-type">KeyGuarantees</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281219"><span class="annot"><a href="#local-6989586621679281219"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281221"><span class="annot"><a href="#local-6989586621679281221"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281220"><span class="annot"><a href="#local-6989586621679281220"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-1006"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">POrd</span></span><span> </span><span class="annot"><a href="#local-6989586621679281219"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281219"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1007"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span>
</span><span id="line-1008"></span><span>    </span><span class="annot"><a href="#local-6989586621679281220"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-1009"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281219"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281221"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1010"></span><span>          </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281219"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281221"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1011"></span><span>      </span><span class="hs-special">)</span><span>
</span><span id="line-1012"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679281219"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-1013"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281222"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281219"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281221"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-1014"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281222"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281219"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281221"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-1015"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-1016"></span><span id="rebuildAtKey"><span class="annot"><span class="annottext">rebuildAtKey :: forall (g :: KeyGuarantees) (k :: PType) (v :: PType) (s :: S).
(POrd k, PIsData k) =&gt;
Term
  s
  ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
   :--&gt; (k :--&gt; (PMap g k v :--&gt; PMap g k v)))
</span><a href="Plutarch.LedgerApi.AssocMap.html#rebuildAtKey"><span class="hs-identifier hs-var hs-var">rebuildAtKey</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm
  ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
   :--&gt; (k :--&gt; (PMap g k v :--&gt; PMap g k v)))
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
      :--&gt; (k :--&gt; (PMap g k v :--&gt; PMap g k v)))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    :--&gt; (k :--&gt; (PMap g k v :--&gt; PMap g k v)))
 -&gt; Term
      s
      ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
       :--&gt; (k :--&gt; (PMap g k v :--&gt; PMap g k v))))
-&gt; ClosedTerm
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
      :--&gt; (k :--&gt; (PMap g k v :--&gt; PMap g k v)))
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
      :--&gt; (k :--&gt; (PMap g k v :--&gt; PMap g k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1017"></span><span>  </span><span class="annot"><span class="annottext">(Term
   s
   (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s k -&gt; Term s (PMap g k v) -&gt; Term s (PMap g k v))
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
      :--&gt; (k :--&gt; (PMap g k v :--&gt; PMap g k v)))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term s k -&gt; Term s (PMap g k v) -&gt; Term s (PMap g k v))
-&gt; Term s (c :--&gt; (k :--&gt; (PMap g k v :--&gt; PMap g k v)))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term
    s
    (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  -&gt; Term s k -&gt; Term s (PMap g k v) -&gt; Term s (PMap g k v))
 -&gt; Term
      s
      ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
       :--&gt; (k :--&gt; (PMap g k v :--&gt; PMap g k v))))
-&gt; (Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s k -&gt; Term s (PMap g k v) -&gt; Term s (PMap g k v))
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
      :--&gt; (k :--&gt; (PMap g k v :--&gt; PMap g k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679282988"><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679282988"><span class="hs-identifier hs-var">handler</span></a></span></span><span> </span><span id="local-6989586621679282989"><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679282989"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span id="local-6989586621679282990"><span class="annot"><span class="annottext">Term s (PMap g k v)
</span><a href="#local-6989586621679282990"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1018"></span><span>    </span><span class="annot"><span class="annottext">Term s (PInner (PMap g k v)) -&gt; Term s (PMap g k v)
forall (s :: S) (a :: PType). Term s (PInner a) -&gt; Term s a
</span><span class="hs-identifier hs-var">punsafeDowncast</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PInner (PMap g k v)) -&gt; Term s (PMap g k v))
-&gt; Term s (PInner (PMap g k v)) -&gt; Term s (PMap g k v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1019"></span><span>      </span><span class="annot"><span class="annottext">(Term
   s
   (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; PInner (PMap g k v))
          :--&gt; PInner (PMap g k v)))
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term
      s
      ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
        :--&gt; PInner (PMap g k v))
       :--&gt; PInner (PMap g k v)))
-&gt; (Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; PInner (PMap g k v))
             :--&gt; PInner (PMap g k v)))
    -&gt; Term
         s
         ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; PInner (PMap g k v))
          :--&gt; PInner (PMap g k v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; PInner (PMap g k v))
            :--&gt; PInner (PMap g k v)))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S) (r :: PType).
PIsListLike list a =&gt;
(Term s (list a :--&gt; r) -&gt; Term s a -&gt; Term s (list a) -&gt; Term s r)
-&gt; (Term s (list a :--&gt; r) -&gt; Term s r) -&gt; Term s (list a :--&gt; r)
</span><span class="hs-identifier hs-var">precList</span></span><span>
</span><span id="line-1020"></span><span>        </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679282991"><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; PInner (PMap g k v))
         :--&gt; PInner (PMap g k v)))
</span><a href="#local-6989586621679282991"><span class="hs-identifier hs-var">self</span></a></span></span><span> </span><span id="local-6989586621679282992"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679282992"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679282993"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679282993"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1021"></span><span>            </span><span class="annot"><span class="annottext">Term s k
-&gt; (Term s k
    -&gt; Term
         s
         ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; PInner (PMap g k v))
          :--&gt; PInner (PMap g k v)))
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PInner (PMap g k v))
      :--&gt; PInner (PMap g k v))
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s k
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData k) -&gt; Term s k) -&gt; Term s (PAsData k) -&gt; Term s k
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; a)
</span><span class="hs-identifier hs-var">pfstBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679282992"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Term s k
  -&gt; Term
       s
       ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PInner (PMap g k v))
        :--&gt; PInner (PMap g k v)))
 -&gt; Term
      s
      ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
        :--&gt; PInner (PMap g k v))
       :--&gt; PInner (PMap g k v)))
-&gt; (Term s k
    -&gt; Term
         s
         ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; PInner (PMap g k v))
          :--&gt; PInner (PMap g k v)))
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PInner (PMap g k v))
      :--&gt; PInner (PMap g k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679282994"><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679282994"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1022"></span><span>              </span><span class="annot"><span class="annottext">(Term
   s
   (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; PInner (PMap g k v))
 -&gt; Term s (PInner (PMap g k v)))
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PInner (PMap g k v))
      :--&gt; PInner (PMap g k v))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PInner (PMap g k v)))
-&gt; Term s (c :--&gt; PInner (PMap g k v))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term
    s
    (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
     :--&gt; PInner (PMap g k v))
  -&gt; Term s (PInner (PMap g k v)))
 -&gt; Term
      s
      ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
        :--&gt; PInner (PMap g k v))
       :--&gt; PInner (PMap g k v)))
-&gt; (Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PInner (PMap g k v))
    -&gt; Term s (PInner (PMap g k v)))
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PInner (PMap g k v))
      :--&gt; PInner (PMap g k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679282995"><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PInner (PMap g k v))
</span><a href="#local-6989586621679282995"><span class="hs-identifier hs-var">prefix</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1023"></span><span>                </span><span class="annot"><span class="annottext">Term s PBool
-&gt; Term s (PInner (PMap g k v))
-&gt; Term s (PInner (PMap g k v))
-&gt; Term s (PInner (PMap g k v))
forall (s :: S) (a :: PType).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><span class="hs-identifier hs-var">pif</span></span><span>
</span><span id="line-1024"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679282994"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; Term s k -&gt; Term s PBool
forall (s :: S). Term s k -&gt; Term s k -&gt; Term s PBool
forall (t :: PType) (s :: S).
PPartialOrd t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><span class="hs-operator hs-var">#&lt;</span></span><span> </span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679282989"><span class="hs-identifier hs-var">key</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1025"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; PInner (PMap g k v))
         :--&gt; PInner (PMap g k v)))
</span><a href="#local-6989586621679282991"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; PInner (PMap g k v))
         :--&gt; PInner (PMap g k v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PInner (PMap g k v))
      :--&gt; PInner (PMap g k v))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679282993"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; PInner (PMap g k v))
   :--&gt; PInner (PMap g k v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PInner (PMap g k v))
-&gt; Term s (PInner (PMap g k v))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#$</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PInner (PMap g k v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PInner (PMap g k v))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PInner (PMap g k v)))
-&gt; Term s (c :--&gt; PInner (PMap g k v))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  -&gt; Term s (PInner (PMap g k v)))
 -&gt; Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PInner (PMap g k v)))
-&gt; (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s (PInner (PMap g k v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PInner (PMap g k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679282996"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679282996"><span class="hs-identifier hs-var">suffix</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PInner (PMap g k v))
</span><a href="#local-6989586621679282995"><span class="hs-identifier hs-var">prefix</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PInner (PMap g k v))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PInner (PMap g k v))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#$</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679282992"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679282996"><span class="hs-identifier hs-var">suffix</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1026"></span><span>                  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Term s PBool
-&gt; Term s (PInner (PMap g k v))
-&gt; Term s (PInner (PMap g k v))
-&gt; Term s (PInner (PMap g k v))
forall (s :: S) (a :: PType).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><span class="hs-identifier hs-var">pif</span></span><span>
</span><span id="line-1027"></span><span>                      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679282994"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; Term s k -&gt; Term s PBool
forall (s :: S). Term s k -&gt; Term s k -&gt; Term s PBool
forall (t :: PType) (s :: S).
PEq t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><span class="hs-operator hs-var">#==</span></span><span> </span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679282989"><span class="hs-identifier hs-var">key</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1028"></span><span>                      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PInner (PMap g k v))
</span><a href="#local-6989586621679282995"><span class="hs-identifier hs-var">prefix</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PInner (PMap g k v))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PInner (PMap g k v))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#$</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679282988"><span class="hs-identifier hs-var">handler</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679282993"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1029"></span><span>                      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PInner (PMap g k v))
</span><a href="#local-6989586621679282995"><span class="hs-identifier hs-var">prefix</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PInner (PMap g k v))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PInner (PMap g k v))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#$</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679282988"><span class="hs-identifier hs-var">handler</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#$</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679282992"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679282993"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1030"></span><span>                  </span><span class="hs-special">)</span><span>
</span><span id="line-1031"></span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-1032"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; PInner (PMap g k v))
   :--&gt; PInner (PMap g k v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; PInner (PMap g k v))
            :--&gt; PInner (PMap g k v)))
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PInner (PMap g k v))
      :--&gt; PInner (PMap g k v))
forall a b. a -&gt; b -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">(Term
   s
   ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
     :--&gt; PInner (PMap g k v))
    :--&gt; PInner (PMap g k v))
 -&gt; Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; PInner (PMap g k v))
             :--&gt; PInner (PMap g k v)))
 -&gt; Term
      s
      ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
        :--&gt; PInner (PMap g k v))
       :--&gt; PInner (PMap g k v)))
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PInner (PMap g k v))
      :--&gt; PInner (PMap g k v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; PInner (PMap g k v))
            :--&gt; PInner (PMap g k v)))
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PInner (PMap g k v))
      :--&gt; PInner (PMap g k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Term
   s
   (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; PInner (PMap g k v))
 -&gt; Term s (PInner (PMap g k v)))
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PInner (PMap g k v))
      :--&gt; PInner (PMap g k v))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PInner (PMap g k v)))
-&gt; Term s (c :--&gt; PInner (PMap g k v))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PInner (PMap g k v))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PInner (PMap g k v))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#$</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679282988"><span class="hs-identifier hs-var">handler</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (PBuiltinList a)
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (list a)
</span><span class="hs-identifier hs-var">pnil</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-cpp">
        # pto m
</span><span class="hs-cpp">        # plam id
</span><span>
</span><span id="line-1036"></span><span class="hs-comment">-- TODO: Get rid of this whole mess.</span><span>
</span><span id="line-1037"></span><span class="hs-keyword">type</span><span> </span><span id="SomeMergeHandler"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-var">SomeMergeHandler</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679282997"><span class="annot"><a href="#local-6989586621679282997"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679282998"><span class="annot"><a href="#local-6989586621679282998"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679282999"><span class="annot"><a href="#local-6989586621679282999"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1038"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#SomeMergeHandler_"><span class="hs-identifier hs-type">SomeMergeHandler_</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-&gt;</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679282999"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679282997"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679282999"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679282998"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1039"></span><span>
</span><span id="line-1040"></span><span class="hs-comment">-- Signals how to handle value merging for matching keys in 'pzipWith'.</span><span>
</span><span id="line-1041"></span><span class="hs-keyword">data</span><span> </span><span id="SomeMergeHandler_"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#SomeMergeHandler_"><span class="hs-identifier hs-var">SomeMergeHandler_</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281172"><span class="annot"><a href="#local-6989586621679281172"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281173"><span class="annot"><a href="#local-6989586621679281173"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281174"><span class="annot"><a href="#local-6989586621679281174"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1042"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="SomeMergeHandlerCommutative"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#SomeMergeHandlerCommutative"><span class="hs-identifier hs-var">SomeMergeHandlerCommutative</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandlerCommutative_"><span class="hs-identifier hs-type">MergeHandlerCommutative_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281172"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281173"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281174"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1043"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="SomeMergeHandler"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-var">SomeMergeHandler</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandler_"><span class="hs-identifier hs-type">MergeHandler_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281172"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281173"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281174"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1044"></span><span>
</span><span id="line-1045"></span><span id="local-6989586621679283003"><span id="local-6989586621679283014"><span id="local-6989586621679283019"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679281401"><span id="local-6989586621679281402"><span id="local-6989586621679281403"><span class="annot"><a href="#local-6989586621679281401"><span class="hs-keyword hs-type hs-type hs-type">stock</span></a></span></span></span></span><span> </span><span class="hs-keyword">instance</span><span>
</span><span id="line-1046"></span><span>  </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679281388"><span class="annot"><a href="#local-6989586621679281388"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679281389"><span class="annot"><a href="#local-6989586621679281389"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679281401"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281388"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281389"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1047"></span><span>  </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#SomeMergeHandler_"><span class="hs-identifier hs-type">SomeMergeHandler_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281401"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281402"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281403"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-1048"></span><span>
</span><span id="line-1049"></span><span class="hs-keyword">type</span><span> </span><span id="MergeHandler"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandler"><span class="hs-identifier hs-var">MergeHandler</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679283022"><span class="annot"><a href="#local-6989586621679283022"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679283023"><span class="annot"><a href="#local-6989586621679283023"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679283024"><span class="annot"><a href="#local-6989586621679283024"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1050"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandler_"><span class="hs-identifier hs-type">MergeHandler_</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-&gt;</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679283024"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679283022"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679283024"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679283023"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1051"></span><span>
</span><span id="line-1052"></span><span class="hs-comment">{- Signals how to handle value merging for matching keys in 'pzipWith'.

 No restrictions on commutativity: Safe to use for both commutative and
 non-commutative merging operations.
-}</span><span>
</span><span id="line-1057"></span><span class="hs-keyword">data</span><span> </span><span id="MergeHandler_"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandler_"><span class="hs-identifier hs-var">MergeHandler_</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281178"><span class="annot"><a href="#local-6989586621679281178"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281179"><span class="annot"><a href="#local-6989586621679281179"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281180"><span class="annot"><a href="#local-6989586621679281180"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span id="MergeHandler"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandler"><span class="hs-identifier hs-var">MergeHandler</span></a></span></span><span>
</span><span id="line-1058"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="%24sel%3AmhBoth%3AMergeHandler"><span class="annot"><span class="annottext">forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandler_ f k v -&gt; BothPresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#%24sel%3AmhBoth%3AMergeHandler"><span class="hs-identifier hs-var hs-var">mhBoth</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#BothPresentHandler_"><span class="hs-identifier hs-type">BothPresentHandler_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281178"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281179"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281180"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-1059"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AmhLeft%3AMergeHandler"><span class="annot"><span class="annottext">forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandler_ f k v -&gt; OnePresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#%24sel%3AmhLeft%3AMergeHandler"><span class="hs-identifier hs-var hs-var">mhLeft</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#OnePresentHandler_"><span class="hs-identifier hs-type">OnePresentHandler_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281178"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281179"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281180"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-1060"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AmhRight%3AMergeHandler"><span class="annot"><span class="annottext">forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandler_ f k v -&gt; OnePresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#%24sel%3AmhRight%3AMergeHandler"><span class="hs-identifier hs-var hs-var">mhRight</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#OnePresentHandler_"><span class="hs-identifier hs-type">OnePresentHandler_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281178"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281179"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281180"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-1061"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-1062"></span><span>
</span><span id="line-1063"></span><span id="local-6989586621679283030"><span id="local-6989586621679283040"><span id="local-6989586621679283044"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679281396"><span id="local-6989586621679281399"><span id="local-6989586621679281400"><span class="annot"><a href="#local-6989586621679281396"><span class="hs-keyword hs-type hs-type hs-type">stock</span></a></span></span></span></span><span> </span><span class="hs-keyword">instance</span><span>
</span><span id="line-1064"></span><span>  </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679281397"><span class="annot"><a href="#local-6989586621679281397"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679281398"><span class="annot"><a href="#local-6989586621679281398"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679281396"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281397"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281398"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1065"></span><span>  </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandler_"><span class="hs-identifier hs-type">MergeHandler_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281396"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281399"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281400"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-1066"></span><span>
</span><span id="line-1067"></span><span class="hs-keyword">type</span><span> </span><span id="MergeHandlerCommutative"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandlerCommutative"><span class="hs-identifier hs-var">MergeHandlerCommutative</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679283047"><span class="annot"><a href="#local-6989586621679283047"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679283048"><span class="annot"><a href="#local-6989586621679283048"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679283049"><span class="annot"><a href="#local-6989586621679283049"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1068"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandlerCommutative_"><span class="hs-identifier hs-type">MergeHandlerCommutative_</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-&gt;</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679283049"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679283047"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679283049"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679283048"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1069"></span><span>
</span><span id="line-1070"></span><span class="hs-comment">{- Signals how to handle value merging for matching keys in 'pzipWith'.

 Safe to use for commutative merging operations only.
-}</span><span>
</span><span id="line-1074"></span><span class="hs-keyword">data</span><span> </span><span id="MergeHandlerCommutative_"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandlerCommutative_"><span class="hs-identifier hs-var">MergeHandlerCommutative_</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281426"><span class="annot"><a href="#local-6989586621679281426"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281427"><span class="annot"><a href="#local-6989586621679281427"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281428"><span class="annot"><a href="#local-6989586621679281428"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span id="MergeHandlerCommutative"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandlerCommutative"><span class="hs-identifier hs-var">MergeHandlerCommutative</span></a></span></span><span>
</span><span id="line-1075"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="%24sel%3AmhcBoth%3AMergeHandlerCommutative"><span class="annot"><span class="annottext">forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandlerCommutative_ f k v
-&gt; BothPresentHandlerCommutative_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#%24sel%3AmhcBoth%3AMergeHandlerCommutative"><span class="hs-identifier hs-var hs-var">mhcBoth</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#BothPresentHandlerCommutative_"><span class="hs-identifier hs-type">BothPresentHandlerCommutative_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281426"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281427"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281428"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-1076"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AmhcOne%3AMergeHandlerCommutative"><span class="annot"><span class="annottext">forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandlerCommutative_ f k v -&gt; OnePresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#%24sel%3AmhcOne%3AMergeHandlerCommutative"><span class="hs-identifier hs-var hs-var">mhcOne</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#OnePresentHandler_"><span class="hs-identifier hs-type">OnePresentHandler_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281426"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281427"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281428"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-1077"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-1078"></span><span>
</span><span id="line-1079"></span><span id="local-6989586621679283055"><span id="local-6989586621679283063"><span id="local-6989586621679283067"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679281391"><span id="local-6989586621679281394"><span id="local-6989586621679281395"><span class="annot"><a href="#local-6989586621679281391"><span class="hs-keyword hs-type hs-type hs-type">stock</span></a></span></span></span></span><span> </span><span class="hs-keyword">instance</span><span>
</span><span id="line-1080"></span><span>  </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679281392"><span class="annot"><a href="#local-6989586621679281392"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679281393"><span class="annot"><a href="#local-6989586621679281393"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679281391"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281392"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281393"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1081"></span><span>  </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandlerCommutative_"><span class="hs-identifier hs-type">MergeHandlerCommutative_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281391"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281394"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281395"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-1082"></span><span>
</span><span id="line-1083"></span><span class="hs-keyword">type</span><span> </span><span id="BothPresentHandler"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#BothPresentHandler"><span class="hs-identifier hs-var">BothPresentHandler</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679283070"><span class="annot"><a href="#local-6989586621679283070"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679283071"><span class="annot"><a href="#local-6989586621679283071"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679283072"><span class="annot"><a href="#local-6989586621679283072"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1084"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#BothPresentHandler_"><span class="hs-identifier hs-type">BothPresentHandler_</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-&gt;</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679283072"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679283070"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679283072"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679283071"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1085"></span><span>
</span><span id="line-1086"></span><span class="hs-keyword">data</span><span> </span><span id="BothPresentHandler_"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#BothPresentHandler_"><span class="hs-identifier hs-var">BothPresentHandler_</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281181"><span class="annot"><a href="#local-6989586621679281181"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281182"><span class="annot"><a href="#local-6989586621679281182"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281183"><span class="annot"><a href="#local-6989586621679281183"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1087"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="DropBoth"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#DropBoth"><span class="hs-identifier hs-var">DropBoth</span></a></span></span><span>
</span><span id="line-1088"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">-- True ~ left, False ~ right</span><span>
</span><span id="line-1089"></span><span>    </span><span id="PassArg"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PassArg"><span class="hs-identifier hs-var">PassArg</span></a></span></span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Bool"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-1090"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="HandleBoth"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#HandleBoth"><span class="hs-identifier hs-var">HandleBoth</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679281182"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281181"><span class="hs-operator hs-type">`f`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679281183"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281181"><span class="hs-operator hs-type">`f`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679281183"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281181"><span class="hs-operator hs-type">`f`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281183"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1091"></span><span>
</span><span id="line-1092"></span><span id="local-6989586621679283076"><span id="local-6989586621679283083"><span id="local-6989586621679283087"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679281421"><span id="local-6989586621679281424"><span id="local-6989586621679281425"><span class="annot"><a href="#local-6989586621679281421"><span class="hs-keyword hs-type hs-type hs-type">stock</span></a></span></span></span></span><span> </span><span class="hs-keyword">instance</span><span>
</span><span id="line-1093"></span><span>  </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679281422"><span class="annot"><a href="#local-6989586621679281422"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679281423"><span class="annot"><a href="#local-6989586621679281423"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679281421"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281422"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281423"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1094"></span><span>  </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#BothPresentHandler_"><span class="hs-identifier hs-type">BothPresentHandler_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281421"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281424"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281425"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-1095"></span><span>
</span><span id="line-1096"></span><span class="hs-keyword">type</span><span> </span><span id="BothPresentHandlerCommutative"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#BothPresentHandlerCommutative"><span class="hs-identifier hs-var">BothPresentHandlerCommutative</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679283090"><span class="annot"><a href="#local-6989586621679283090"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679283091"><span class="annot"><a href="#local-6989586621679283091"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679283092"><span class="annot"><a href="#local-6989586621679283092"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1097"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#BothPresentHandlerCommutative_"><span class="hs-identifier hs-type">BothPresentHandlerCommutative_</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-&gt;</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679283092"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679283090"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679283092"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679283091"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1098"></span><span>
</span><span id="line-1099"></span><span class="hs-keyword">data</span><span> </span><span id="BothPresentHandlerCommutative_"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#BothPresentHandlerCommutative_"><span class="hs-identifier hs-var">BothPresentHandlerCommutative_</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281456"><span class="annot"><a href="#local-6989586621679281456"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281457"><span class="annot"><a href="#local-6989586621679281457"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281458"><span class="annot"><a href="#local-6989586621679281458"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1100"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="DropBothCommutative"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#DropBothCommutative"><span class="hs-identifier hs-var">DropBothCommutative</span></a></span></span><span>
</span><span id="line-1101"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="HandleBothCommutative"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#HandleBothCommutative"><span class="hs-identifier hs-var">HandleBothCommutative</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679281457"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281456"><span class="hs-operator hs-type">`f`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679281458"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281456"><span class="hs-operator hs-type">`f`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679281458"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281456"><span class="hs-operator hs-type">`f`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281458"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1102"></span><span>
</span><span id="line-1103"></span><span id="local-6989586621679283097"><span id="local-6989586621679283101"><span id="local-6989586621679283105"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679281439"><span id="local-6989586621679281442"><span id="local-6989586621679281443"><span class="annot"><a href="#local-6989586621679281439"><span class="hs-keyword hs-type hs-type hs-type">stock</span></a></span></span></span></span><span> </span><span class="hs-keyword">instance</span><span>
</span><span id="line-1104"></span><span>  </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679281440"><span class="annot"><a href="#local-6989586621679281440"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679281441"><span class="annot"><a href="#local-6989586621679281441"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679281439"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281440"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281441"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1105"></span><span>  </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#BothPresentHandlerCommutative_"><span class="hs-identifier hs-type">BothPresentHandlerCommutative_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281439"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281442"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281443"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-1106"></span><span>
</span><span id="line-1107"></span><span class="hs-keyword">type</span><span> </span><span id="OnePresentHandler"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#OnePresentHandler"><span class="hs-identifier hs-var">OnePresentHandler</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679283108"><span class="annot"><a href="#local-6989586621679283108"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679283109"><span class="annot"><a href="#local-6989586621679283109"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679283110"><span class="annot"><a href="#local-6989586621679283110"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1108"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#OnePresentHandler_"><span class="hs-identifier hs-type">OnePresentHandler_</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-&gt;</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679283110"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679283108"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679283110"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679283109"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1109"></span><span>
</span><span id="line-1110"></span><span class="hs-keyword">data</span><span> </span><span id="OnePresentHandler_"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#OnePresentHandler_"><span class="hs-identifier hs-var">OnePresentHandler_</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281184"><span class="annot"><a href="#local-6989586621679281184"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281185"><span class="annot"><a href="#local-6989586621679281185"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281186"><span class="annot"><a href="#local-6989586621679281186"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1111"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="DropOne"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span></span><span>
</span><span id="line-1112"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PassOne"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span></span><span>
</span><span id="line-1113"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="HandleOne"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#HandleOne"><span class="hs-identifier hs-var">HandleOne</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679281185"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281184"><span class="hs-operator hs-type">`f`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679281186"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281184"><span class="hs-operator hs-type">`f`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281186"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1114"></span><span>
</span><span id="line-1115"></span><span id="local-6989586621679283114"><span id="local-6989586621679283118"><span id="local-6989586621679283122"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679281416"><span id="local-6989586621679281419"><span id="local-6989586621679281420"><span class="annot"><a href="#local-6989586621679281416"><span class="hs-keyword hs-type hs-type hs-type">stock</span></a></span></span></span></span><span> </span><span class="hs-keyword">instance</span><span>
</span><span id="line-1116"></span><span>  </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679281417"><span class="annot"><a href="#local-6989586621679281417"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679281418"><span class="annot"><a href="#local-6989586621679281418"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679281416"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281417"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281418"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1117"></span><span>  </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#OnePresentHandler_"><span class="hs-identifier hs-type">OnePresentHandler_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281416"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281419"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281420"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-1118"></span><span>
</span><span id="line-1119"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#unionMergeHandler"><span class="hs-identifier hs-type">unionMergeHandler</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1120"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679280994"><span class="annot"><a href="#local-6989586621679280994"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679280996"><span class="annot"><a href="#local-6989586621679280996"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679280995"><span class="annot"><a href="#local-6989586621679280995"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-1121"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Commutativity"><span class="hs-identifier hs-type">Commutativity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1122"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679280994"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679280995"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679280995"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679280995"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1123"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-type">SomeMergeHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280996"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280995"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280994"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-1124"></span><span id="unionMergeHandler"><span class="annot"><span class="annottext">unionMergeHandler :: forall (s :: S) (k :: PType) (v :: PType).
Commutativity
-&gt; Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s
</span><a href="Plutarch.LedgerApi.AssocMap.html#unionMergeHandler"><span class="hs-identifier hs-var hs-var">unionMergeHandler</span></a></span></span><span> </span><span class="annot"><span class="annottext">Commutativity
</span><a href="Plutarch.LedgerApi.AssocMap.html#NonCommutative"><span class="hs-identifier hs-var">NonCommutative</span></a></span><span> </span><span id="local-6989586621679283125"><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v))
</span><a href="#local-6989586621679283125"><span class="hs-identifier hs-var">merge</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1125"></span><span>  </span><span class="annot"><span class="annottext">MergeHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; SomeMergeHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandler_ f k v -&gt; SomeMergeHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-var">SomeMergeHandler</span></a></span><span> </span><span class="annot"><span class="annottext">(MergeHandler_ (-&gt;) (Term s k) (Term s v)
 -&gt; SomeMergeHandler_ (-&gt;) (Term s k) (Term s v))
-&gt; MergeHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; SomeMergeHandler_ (-&gt;) (Term s k) (Term s v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">BothPresentHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; MergeHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
BothPresentHandler_ f k v
-&gt; OnePresentHandler_ f k v
-&gt; OnePresentHandler_ f k v
-&gt; MergeHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandler"><span class="hs-identifier hs-var">MergeHandler</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Term s k -&gt; (Term s v -&gt; (Term s v -&gt; Term s v)))
-&gt; BothPresentHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
f k (f v (f v v)) -&gt; BothPresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#HandleBoth"><span class="hs-identifier hs-var">HandleBoth</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Term s k
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679283126"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679283126"><span class="hs-identifier hs-var">vl</span></a></span></span><span> </span><span id="local-6989586621679283127"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679283127"><span class="hs-identifier hs-var">vr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v))
</span><a href="#local-6989586621679283125"><span class="hs-identifier hs-var">merge</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v)) -&gt; Term s v -&gt; Term s (v :--&gt; v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679283126"><span class="hs-identifier hs-var">vl</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; v) -&gt; Term s v -&gt; Term s v
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679283127"><span class="hs-identifier hs-var">vr</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v. OnePresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v. OnePresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span>
</span><span id="line-1126"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#unionMergeHandler"><span class="hs-identifier hs-var">unionMergeHandler</span></a></span><span> </span><span class="annot"><span class="annottext">Commutativity
</span><a href="Plutarch.LedgerApi.AssocMap.html#Commutative"><span class="hs-identifier hs-var">Commutative</span></a></span><span> </span><span id="local-6989586621679283128"><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v))
</span><a href="#local-6989586621679283128"><span class="hs-identifier hs-var">merge</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1127"></span><span>  </span><span class="annot"><span class="annottext">MergeHandlerCommutative_ (-&gt;) (Term s k) (Term s v)
-&gt; SomeMergeHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandlerCommutative_ f k v -&gt; SomeMergeHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#SomeMergeHandlerCommutative"><span class="hs-identifier hs-var">SomeMergeHandlerCommutative</span></a></span><span> </span><span class="annot"><span class="annottext">(MergeHandlerCommutative_ (-&gt;) (Term s k) (Term s v)
 -&gt; SomeMergeHandler_ (-&gt;) (Term s k) (Term s v))
-&gt; MergeHandlerCommutative_ (-&gt;) (Term s k) (Term s v)
-&gt; SomeMergeHandler_ (-&gt;) (Term s k) (Term s v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1128"></span><span>    </span><span class="annot"><span class="annottext">BothPresentHandlerCommutative_ (-&gt;) (Term s k) (Term s v)
-&gt; OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; MergeHandlerCommutative_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
BothPresentHandlerCommutative_ f k v
-&gt; OnePresentHandler_ f k v -&gt; MergeHandlerCommutative_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandlerCommutative"><span class="hs-identifier hs-var">MergeHandlerCommutative</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Term s k -&gt; (Term s v -&gt; (Term s v -&gt; Term s v)))
-&gt; BothPresentHandlerCommutative_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
f k (f v (f v v)) -&gt; BothPresentHandlerCommutative_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#HandleBothCommutative"><span class="hs-identifier hs-var">HandleBothCommutative</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Term s k
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679283129"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679283129"><span class="hs-identifier hs-var">vl</span></a></span></span><span> </span><span id="local-6989586621679283130"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679283130"><span class="hs-identifier hs-var">vr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v))
</span><a href="#local-6989586621679283128"><span class="hs-identifier hs-var">merge</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v)) -&gt; Term s v -&gt; Term s (v :--&gt; v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679283129"><span class="hs-identifier hs-var">vl</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; v) -&gt; Term s v -&gt; Term s v
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679283130"><span class="hs-identifier hs-var">vr</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v. OnePresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span>
</span><span id="line-1129"></span><span>
</span><span id="line-1130"></span><span class="hs-comment">{- Zip two 'PMap's, using a 'SomeMergeHandler' to decide how to merge based on key
 presence on the left and right.

 Note that using a 'MergeHandlerCommutative' is less costly than a 'MergeHandler'.
-}</span><span>
</span><span id="line-1135"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pzipWith"><span class="hs-identifier hs-type">pzipWith</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1136"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679280993"><span class="annot"><a href="#local-6989586621679280993"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679280991"><span class="annot"><a href="#local-6989586621679280991"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679280992"><span class="annot"><a href="#local-6989586621679280992"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-1137"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">POrd</span></span><span> </span><span class="annot"><a href="#local-6989586621679280991"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679280991"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679280992"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1138"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-type">SomeMergeHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280991"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280992"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280993"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1139"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span>
</span><span id="line-1140"></span><span>    </span><span class="annot"><a href="#local-6989586621679280993"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-1141"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280991"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280992"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-1142"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280991"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280992"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-1143"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280991"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679280992"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-1144"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-1145"></span><span id="pzipWith"><span class="annot"><span class="annottext">pzipWith :: forall (s :: S) (k :: PType) (v :: PType).
(POrd k, PIsData k, PIsData v) =&gt;
SomeMergeHandler k v s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pzipWith"><span class="hs-identifier hs-var hs-var">pzipWith</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-type">SomeMergeHandler</span></a></span><span> </span><span id="local-6989586621679283142"><span class="annot"><span class="annottext">MergeHandler_ (-&gt;) (Term s k) (Term s v)
</span><a href="#local-6989586621679283142"><span class="hs-identifier hs-var">mh</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1146"></span><span>  </span><span class="annot"><span class="annottext">SomeMergeHandler (PAsData k) (PAsData v) s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (s :: S) (k :: PType) (v :: PType).
(POrd k, PIsData k) =&gt;
SomeMergeHandler (PAsData k) (PAsData v) s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pzipWithData"><span class="hs-identifier hs-var">pzipWithData</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MergeHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; SomeMergeHandler (PAsData k) (PAsData v) s
forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandler_ f k v -&gt; SomeMergeHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-var">SomeMergeHandler</span></a></span><span> </span><span class="annot"><span class="annottext">(MergeHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
 -&gt; SomeMergeHandler (PAsData k) (PAsData v) s)
-&gt; MergeHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; SomeMergeHandler (PAsData k) (PAsData v) s
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">MergeHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; MergeHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
forall (s :: S) (k :: PType) (v :: PType).
(PIsData k, PIsData v) =&gt;
MergeHandler k v s -&gt; MergeHandler (PAsData k) (PAsData v) s
</span><a href="Plutarch.LedgerApi.AssocMap.html#mergeHandlerOnData"><span class="hs-identifier hs-var">mergeHandlerOnData</span></a></span><span> </span><span class="annot"><span class="annottext">MergeHandler_ (-&gt;) (Term s k) (Term s v)
</span><a href="#local-6989586621679283142"><span class="hs-identifier hs-var">mh</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1147"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pzipWith"><span class="hs-identifier hs-var">pzipWith</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#SomeMergeHandlerCommutative"><span class="hs-identifier hs-type">SomeMergeHandlerCommutative</span></a></span><span> </span><span id="local-6989586621679283144"><span class="annot"><span class="annottext">MergeHandlerCommutative_ (-&gt;) (Term s k) (Term s v)
</span><a href="#local-6989586621679283144"><span class="hs-identifier hs-var">mhc</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1148"></span><span>  </span><span class="annot"><span class="annottext">SomeMergeHandler (PAsData k) (PAsData v) s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (s :: S) (k :: PType) (v :: PType).
(POrd k, PIsData k) =&gt;
SomeMergeHandler (PAsData k) (PAsData v) s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pzipWithData"><span class="hs-identifier hs-var">pzipWithData</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MergeHandlerCommutative_
  (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; SomeMergeHandler (PAsData k) (PAsData v) s
forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandlerCommutative_ f k v -&gt; SomeMergeHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#SomeMergeHandlerCommutative"><span class="hs-identifier hs-var">SomeMergeHandlerCommutative</span></a></span><span> </span><span class="annot"><span class="annottext">(MergeHandlerCommutative_
   (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
 -&gt; SomeMergeHandler (PAsData k) (PAsData v) s)
-&gt; MergeHandlerCommutative_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; SomeMergeHandler (PAsData k) (PAsData v) s
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">MergeHandlerCommutative_ (-&gt;) (Term s k) (Term s v)
-&gt; MergeHandlerCommutative_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
forall (s :: S) (k :: PType) (v :: PType).
(PIsData k, PIsData v) =&gt;
MergeHandlerCommutative k v s
-&gt; MergeHandlerCommutative (PAsData k) (PAsData v) s
</span><a href="Plutarch.LedgerApi.AssocMap.html#mergeHandlerCommutativeOnData"><span class="hs-identifier hs-var">mergeHandlerCommutativeOnData</span></a></span><span> </span><span class="annot"><span class="annottext">MergeHandlerCommutative_ (-&gt;) (Term s k) (Term s v)
</span><a href="#local-6989586621679283144"><span class="hs-identifier hs-var">mhc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1149"></span><span>
</span><span id="line-1150"></span><span class="hs-comment">{- Zip two 'PMap's, using a 'SomeMergeHandler' to decide how to merge based on key
 presence on the left and right.

 Note that using a 'MergeHandlerCommutative' is less costly than a 'MergeHandler'.
-}</span><span>
</span><span id="line-1155"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pzipWithData"><span class="hs-identifier hs-type">pzipWithData</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1156"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281006"><span class="annot"><a href="#local-6989586621679281006"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281004"><span class="annot"><a href="#local-6989586621679281004"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281005"><span class="annot"><a href="#local-6989586621679281005"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-1157"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">POrd</span></span><span> </span><span class="annot"><a href="#local-6989586621679281004"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281004"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1158"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-type">SomeMergeHandler</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281004"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281005"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679281006"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1159"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span>
</span><span id="line-1160"></span><span>    </span><span class="annot"><a href="#local-6989586621679281006"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-1161"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281004"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281005"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-1162"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281004"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281005"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-1163"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281004"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281005"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-1164"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-1165"></span><span id="pzipWithData"><span class="annot"><span class="annottext">pzipWithData :: forall (s :: S) (k :: PType) (v :: PType).
(POrd k, PIsData k) =&gt;
SomeMergeHandler (PAsData k) (PAsData v) s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pzipWithData"><span class="hs-identifier hs-var hs-var">pzipWithData</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-type">SomeMergeHandler</span></a></span><span> </span><span id="local-6989586621679283166"><span class="annot"><span class="annottext">mh :: MergeHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679283166"><span class="hs-identifier hs-var">mh</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandler"><span class="hs-identifier hs-type">MergeHandler</span></a></span><span> </span><span class="annot"><span class="annottext">BothPresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679283167"><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679283167"><span class="hs-identifier hs-var">rightPresent</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1166"></span><span>  </span><span class="annot"><span class="annottext">(Term s (PMap 'Sorted k v)
 -&gt; Term s (PMap 'Sorted k v) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term s (PMap 'Sorted k v) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (c :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PMap 'Sorted k v)
  -&gt; Term s (PMap 'Sorted k v) -&gt; Term s (PMap 'Sorted k v))
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; (Term s (PMap 'Sorted k v)
    -&gt; Term s (PMap 'Sorted k v) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679283168"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679283168"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679283169"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679283169"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1167"></span><span>    </span><span class="annot"><span class="annottext">PMap 'Sorted k v s -&gt; Term s (PMap 'Sorted k v)
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">(PMap 'Sorted k v s -&gt; Term s (PMap 'Sorted k v))
-&gt; PMap 'Sorted k v s -&gt; Term s (PMap 'Sorted k v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap 'Sorted k v s
forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S).
Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap keysort k v s
</span><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-var">PMap</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; PMap 'Sorted k v s)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap 'Sorted k v s
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (s :: S) (k :: PType) (v :: PType).
OnePresentHandler (PAsData k) (PAsData v) s
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="Plutarch.LedgerApi.AssocMap.html#zipMerge"><span class="hs-identifier hs-var">zipMerge</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679283167"><span class="hs-identifier hs-var">rightPresent</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MergeHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall (s :: S) (k :: PType) (v :: PType).
(POrd k, PIsData k) =&gt;
MergeHandler (PAsData k) (PAsData v) s
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
</span><a href="Plutarch.LedgerApi.AssocMap.html#zipMergeInsert"><span class="hs-identifier hs-var">zipMergeInsert</span></a></span><span> </span><span class="annot"><span class="annottext">MergeHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679283166"><span class="hs-identifier hs-var">mh</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v) -&gt; Term s (PInner (PMap 'Sorted k v))
forall (s :: S) (a :: PType). Term s a -&gt; Term s (PInner a)
</span><span class="hs-identifier hs-var">pto</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679283168"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v) -&gt; Term s (PInner (PMap 'Sorted k v))
forall (s :: S) (a :: PType). Term s a -&gt; Term s (PInner a)
</span><span class="hs-identifier hs-var">pto</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679283169"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-1168"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pzipWithData"><span class="hs-identifier hs-var">pzipWithData</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#SomeMergeHandlerCommutative"><span class="hs-identifier hs-type">SomeMergeHandlerCommutative</span></a></span><span> </span><span id="local-6989586621679283172"><span class="annot"><span class="annottext">mh :: MergeHandlerCommutative_
  (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679283172"><span class="hs-identifier hs-var">mh</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandlerCommutative"><span class="hs-identifier hs-type">MergeHandlerCommutative</span></a></span><span> </span><span class="annot"><span class="annottext">BothPresentHandlerCommutative_
  (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679283173"><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679283173"><span class="hs-identifier hs-var">onePresent</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1169"></span><span>  </span><span class="annot"><span class="annottext">(Term s (PMap 'Sorted k v)
 -&gt; Term s (PMap 'Sorted k v) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term s (PMap 'Sorted k v) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (c :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PMap 'Sorted k v)
  -&gt; Term s (PMap 'Sorted k v) -&gt; Term s (PMap 'Sorted k v))
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; (Term s (PMap 'Sorted k v)
    -&gt; Term s (PMap 'Sorted k v) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679283174"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679283174"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679283175"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679283175"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1170"></span><span>    </span><span class="annot"><span class="annottext">PMap 'Sorted k v s -&gt; Term s (PMap 'Sorted k v)
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">(PMap 'Sorted k v s -&gt; Term s (PMap 'Sorted k v))
-&gt; PMap 'Sorted k v s -&gt; Term s (PMap 'Sorted k v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap 'Sorted k v s
forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S).
Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap keysort k v s
</span><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-var">PMap</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; PMap 'Sorted k v s)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap 'Sorted k v s
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (s :: S) (k :: PType) (v :: PType).
OnePresentHandler (PAsData k) (PAsData v) s
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="Plutarch.LedgerApi.AssocMap.html#zipMergeCommutative"><span class="hs-identifier hs-var">zipMergeCommutative</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679283173"><span class="hs-identifier hs-var">onePresent</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MergeHandlerCommutative_
  (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall (s :: S) (k :: PType) (v :: PType).
(POrd k, PIsData k) =&gt;
MergeHandlerCommutative (PAsData k) (PAsData v) s
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><a href="Plutarch.LedgerApi.AssocMap.html#zipMergeInsertCommutative"><span class="hs-identifier hs-var">zipMergeInsertCommutative</span></a></span><span> </span><span class="annot"><span class="annottext">MergeHandlerCommutative_
  (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679283172"><span class="hs-identifier hs-var">mh</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v) -&gt; Term s (PInner (PMap 'Sorted k v))
forall (s :: S) (a :: PType). Term s a -&gt; Term s (PInner a)
</span><span class="hs-identifier hs-var">pto</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679283174"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v) -&gt; Term s (PInner (PMap 'Sorted k v))
forall (s :: S) (a :: PType). Term s a -&gt; Term s (PInner a)
</span><span class="hs-identifier hs-var">pto</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679283175"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-1171"></span><span>
</span><span id="line-1172"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#mergeHandlerOnData"><span class="hs-identifier hs-type">mergeHandlerOnData</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1173"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281464"><span class="annot"><a href="#local-6989586621679281464"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281462"><span class="annot"><a href="#local-6989586621679281462"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281463"><span class="annot"><a href="#local-6989586621679281463"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-1174"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281462"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281463"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1175"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandler"><span class="hs-identifier hs-type">MergeHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281462"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281463"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281464"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1176"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandler"><span class="hs-identifier hs-type">MergeHandler</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281462"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281463"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679281464"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-1177"></span><span id="mergeHandlerOnData"><span class="annot"><span class="annottext">mergeHandlerOnData :: forall (s :: S) (k :: PType) (v :: PType).
(PIsData k, PIsData v) =&gt;
MergeHandler k v s -&gt; MergeHandler (PAsData k) (PAsData v) s
</span><a href="Plutarch.LedgerApi.AssocMap.html#mergeHandlerOnData"><span class="hs-identifier hs-var hs-var">mergeHandlerOnData</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandler"><span class="hs-identifier hs-type">MergeHandler</span></a></span><span> </span><span id="local-6989586621679283186"><span class="annot"><span class="annottext">BothPresentHandler_ (-&gt;) (Term s k) (Term s v)
</span><a href="#local-6989586621679283186"><span class="hs-identifier hs-var">bothPresent</span></a></span></span><span> </span><span id="local-6989586621679283187"><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
</span><a href="#local-6989586621679283187"><span class="hs-identifier hs-var">leftPresent</span></a></span></span><span> </span><span id="local-6989586621679283188"><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
</span><a href="#local-6989586621679283188"><span class="hs-identifier hs-var">rightPresent</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1178"></span><span>  </span><span class="annot"><span class="annottext">BothPresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; OnePresentHandler_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; OnePresentHandler_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; MergeHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
forall (f :: Type -&gt; Type -&gt; Type) k v.
BothPresentHandler_ f k v
-&gt; OnePresentHandler_ f k v
-&gt; OnePresentHandler_ f k v
-&gt; MergeHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandler"><span class="hs-identifier hs-var">MergeHandler</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BothPresentHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; BothPresentHandler_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
forall (s :: S) (k :: PType) (v :: PType).
(PIsData k, PIsData v) =&gt;
BothPresentHandler k v s
-&gt; BothPresentHandler (PAsData k) (PAsData v) s
</span><a href="Plutarch.LedgerApi.AssocMap.html#bothPresentOnData"><span class="hs-identifier hs-var">bothPresentOnData</span></a></span><span> </span><span class="annot"><span class="annottext">BothPresentHandler_ (-&gt;) (Term s k) (Term s v)
</span><a href="#local-6989586621679283186"><span class="hs-identifier hs-var">bothPresent</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; OnePresentHandler_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
forall (s :: S) (k :: PType) (v :: PType).
(PIsData k, PIsData v) =&gt;
OnePresentHandler k v s
-&gt; OnePresentHandler (PAsData k) (PAsData v) s
</span><a href="Plutarch.LedgerApi.AssocMap.html#onePresentOnData"><span class="hs-identifier hs-var">onePresentOnData</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
</span><a href="#local-6989586621679283187"><span class="hs-identifier hs-var">leftPresent</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; OnePresentHandler_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
forall (s :: S) (k :: PType) (v :: PType).
(PIsData k, PIsData v) =&gt;
OnePresentHandler k v s
-&gt; OnePresentHandler (PAsData k) (PAsData v) s
</span><a href="Plutarch.LedgerApi.AssocMap.html#onePresentOnData"><span class="hs-identifier hs-var">onePresentOnData</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
</span><a href="#local-6989586621679283188"><span class="hs-identifier hs-var">rightPresent</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1179"></span><span>
</span><span id="line-1180"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#mergeHandlerCommutativeOnData"><span class="hs-identifier hs-type">mergeHandlerCommutativeOnData</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1181"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281468"><span class="annot"><a href="#local-6989586621679281468"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281466"><span class="annot"><a href="#local-6989586621679281466"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281467"><span class="annot"><a href="#local-6989586621679281467"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-1182"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281466"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281467"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1183"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandlerCommutative"><span class="hs-identifier hs-type">MergeHandlerCommutative</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281466"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281467"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281468"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1184"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandlerCommutative"><span class="hs-identifier hs-type">MergeHandlerCommutative</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281466"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281467"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679281468"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-1185"></span><span id="mergeHandlerCommutativeOnData"><span class="annot"><span class="annottext">mergeHandlerCommutativeOnData :: forall (s :: S) (k :: PType) (v :: PType).
(PIsData k, PIsData v) =&gt;
MergeHandlerCommutative k v s
-&gt; MergeHandlerCommutative (PAsData k) (PAsData v) s
</span><a href="Plutarch.LedgerApi.AssocMap.html#mergeHandlerCommutativeOnData"><span class="hs-identifier hs-var hs-var">mergeHandlerCommutativeOnData</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandlerCommutative"><span class="hs-identifier hs-type">MergeHandlerCommutative</span></a></span><span> </span><span id="local-6989586621679283197"><span class="annot"><span class="annottext">BothPresentHandlerCommutative_ (-&gt;) (Term s k) (Term s v)
</span><a href="#local-6989586621679283197"><span class="hs-identifier hs-var">bothPresent</span></a></span></span><span> </span><span id="local-6989586621679283198"><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
</span><a href="#local-6989586621679283198"><span class="hs-identifier hs-var">onePresent</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1186"></span><span>  </span><span class="annot"><span class="annottext">BothPresentHandlerCommutative_
  (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; OnePresentHandler_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; MergeHandlerCommutative_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
forall (f :: Type -&gt; Type -&gt; Type) k v.
BothPresentHandlerCommutative_ f k v
-&gt; OnePresentHandler_ f k v -&gt; MergeHandlerCommutative_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandlerCommutative"><span class="hs-identifier hs-var">MergeHandlerCommutative</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BothPresentHandlerCommutative_ (-&gt;) (Term s k) (Term s v)
-&gt; BothPresentHandlerCommutative_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
forall (s :: S) (k :: PType) (v :: PType).
(PIsData k, PIsData v) =&gt;
BothPresentHandlerCommutative k v s
-&gt; BothPresentHandlerCommutative (PAsData k) (PAsData v) s
</span><a href="Plutarch.LedgerApi.AssocMap.html#bothPresentCommutativeOnData"><span class="hs-identifier hs-var">bothPresentCommutativeOnData</span></a></span><span> </span><span class="annot"><span class="annottext">BothPresentHandlerCommutative_ (-&gt;) (Term s k) (Term s v)
</span><a href="#local-6989586621679283197"><span class="hs-identifier hs-var">bothPresent</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; OnePresentHandler_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
forall (s :: S) (k :: PType) (v :: PType).
(PIsData k, PIsData v) =&gt;
OnePresentHandler k v s
-&gt; OnePresentHandler (PAsData k) (PAsData v) s
</span><a href="Plutarch.LedgerApi.AssocMap.html#onePresentOnData"><span class="hs-identifier hs-var">onePresentOnData</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
</span><a href="#local-6989586621679283198"><span class="hs-identifier hs-var">onePresent</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1187"></span><span>
</span><span id="line-1188"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#zipMerge"><span class="hs-identifier hs-type">zipMerge</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1189"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281476"><span class="annot"><a href="#local-6989586621679281476"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281474"><span class="annot"><a href="#local-6989586621679281474"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281475"><span class="annot"><a href="#local-6989586621679281475"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-1190"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#OnePresentHandler"><span class="hs-identifier hs-type">OnePresentHandler</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281474"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281475"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679281476"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1191"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span>
</span><span id="line-1192"></span><span>    </span><span class="annot"><a href="#local-6989586621679281476"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-1193"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PSBool</span></span><span>
</span><span id="line-1194"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281474"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281475"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1195"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281474"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281475"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1196"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281474"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281475"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1197"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281474"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281475"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1198"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1199"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span>
</span><span id="line-1200"></span><span>    </span><span class="annot"><a href="#local-6989586621679281476"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-1201"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281474"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281475"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1202"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281474"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281475"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1203"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281474"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281475"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1204"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-1205"></span><span id="zipMerge"><span class="annot"><span class="annottext">zipMerge :: forall (s :: S) (k :: PType) (v :: PType).
OnePresentHandler (PAsData k) (PAsData v) s
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="Plutarch.LedgerApi.AssocMap.html#zipMerge"><span class="hs-identifier hs-var hs-var">zipMerge</span></a></span></span><span> </span><span id="local-6989586621679283218"><span class="annot"><span class="annottext">OnePresentHandler (PAsData k) (PAsData v) s
</span><a href="#local-6989586621679283218"><span class="hs-identifier hs-var">rightPresent</span></a></span></span><span> </span><span id="local-6989586621679283219"><span class="annot"><span class="annottext">Term
  s
  (PSBool
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
</span><a href="#local-6989586621679283219"><span class="hs-identifier hs-var">mergeInsertRec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     (c
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679283220"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283220"><span class="hs-identifier hs-var">ls</span></a></span></span><span> </span><span id="local-6989586621679283221"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283221"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283220"><span class="hs-identifier hs-var">ls</span></a></span><span> </span><span class="annot"><span class="annottext">((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-1206"></span><span>  </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
</span><span class="hs-identifier hs-var">PNil</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1207"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">OnePresentHandler (PAsData k) (PAsData v) s
</span><a href="#local-6989586621679283218"><span class="hs-identifier hs-var">rightPresent</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1208"></span><span>      </span><span class="annot"><span class="annottext">OnePresentHandler (PAsData k) (PAsData v) s
</span><a href="Plutarch.LedgerApi.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
forall (a :: PType) (s :: S). PBuiltinList a s
</span><span class="hs-identifier hs-var">PNil</span></span><span>
</span><span id="line-1209"></span><span>      </span><span class="annot"><span class="annottext">OnePresentHandler (PAsData k) (PAsData v) s
</span><a href="Plutarch.LedgerApi.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283221"><span class="hs-identifier hs-var">rs</span></a></span><span>
</span><span id="line-1210"></span><span>      </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#HandleOne"><span class="hs-identifier hs-type">HandleOne</span></a></span><span> </span><span id="local-6989586621679283222"><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; (Term s (PAsData v) -&gt; Term s (PAsData v))
</span><a href="#local-6989586621679283222"><span class="hs-identifier hs-var">handler</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1211"></span><span>        </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v)
    :--&gt; PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (list :: PType -&gt; PType) (a :: PType) (b :: PType) (s :: S).
(PListLike list, PElemConstraint list a, PElemConstraint list b) =&gt;
Term s ((a :--&gt; b) :--&gt; (list a :--&gt; list b))
</span><span class="hs-identifier hs-var">List.pmap</span></span><span class="hs-cpp">
          # plam
</span><span>            </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">pair</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1214"></span><span>                </span><span class="hs-identifier">plet</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">pfstBuiltin</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">pair</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">k</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1215"></span><span>                  </span><span class="hs-identifier">ppairDataBuiltin</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">handler</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">psndBuiltin</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">pair</span><span class="hs-special">)</span><span>
</span><span id="line-1216"></span><span>            </span><span class="hs-special">)</span><span class="hs-cpp">
          # rs
</span><span>  </span><span class="annot"><span class="hs-identifier hs-type">PCons</span></span><span> </span><span id="local-6989586621679283225"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679283225"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679283226"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283226"><span class="hs-identifier hs-var">ls'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PSBool
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
</span><a href="#local-6989586621679283219"><span class="hs-identifier hs-var">mergeInsertRec</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PSBool
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term s PSBool
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s PSBool
forall (s :: S). Term s PSBool
</span><span class="hs-identifier hs-var">pstrue</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679283225"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283226"><span class="hs-identifier hs-var">ls'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283221"><span class="hs-identifier hs-var">rs</span></a></span><span>
</span><span id="line-1219"></span><span>
</span><span id="line-1220"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#zipMergeInsert"><span class="hs-identifier hs-type">zipMergeInsert</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1221"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281480"><span class="annot"><a href="#local-6989586621679281480"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281478"><span class="annot"><a href="#local-6989586621679281478"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281479"><span class="annot"><a href="#local-6989586621679281479"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-1222"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">POrd</span></span><span> </span><span class="annot"><a href="#local-6989586621679281478"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281478"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1223"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandler"><span class="hs-identifier hs-type">MergeHandler</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281478"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281479"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679281480"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1224"></span><span>  </span><span class="hs-comment">-- | 'PSTrue' means first arg is left, second arg is right.</span><span>
</span><span id="line-1225"></span><span>  </span><span class="hs-comment">-- The first list gets passed in deconstructed form as head and tail</span><span>
</span><span id="line-1226"></span><span>  </span><span class="hs-comment">-- separately.</span><span>
</span><span id="line-1227"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span>
</span><span id="line-1228"></span><span>    </span><span class="annot"><a href="#local-6989586621679281480"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-1229"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PSBool</span></span><span>
</span><span id="line-1230"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281478"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281479"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1231"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281478"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281479"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1232"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281478"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281479"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1233"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281478"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281479"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1234"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-1235"></span><span id="zipMergeInsert"><span class="annot"><span class="annottext">zipMergeInsert :: forall (s :: S) (k :: PType) (v :: PType).
(POrd k, PIsData k) =&gt;
MergeHandler (PAsData k) (PAsData v) s
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
</span><a href="Plutarch.LedgerApi.AssocMap.html#zipMergeInsert"><span class="hs-identifier hs-var hs-var">zipMergeInsert</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandler"><span class="hs-identifier hs-type">MergeHandler</span></a></span><span> </span><span id="local-6989586621679283296"><span class="annot"><span class="annottext">BothPresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679283296"><span class="hs-identifier hs-var">bothPresent</span></a></span></span><span> </span><span id="local-6989586621679283297"><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679283297"><span class="hs-identifier hs-var">leftPresent</span></a></span></span><span> </span><span id="local-6989586621679283298"><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679283298"><span class="hs-identifier hs-var">rightPresent</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TermCont
  s
  (Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall (a :: PType) (s :: S). TermCont s (Term s a) -&gt; Term s a
</span><span class="hs-identifier hs-var">unTermCont</span></span><span> </span><span class="annot"><span class="annottext">(TermCont
   s
   (Term
      s
      (PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
 -&gt; Term
      s
      (PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; TermCont
     s
     (Term
        s
        (PSBool
         :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                           :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1236"></span><span>  </span><span class="hs-comment">-- deduplicates all the zipMerge calls through plet, almost as good as hoisting</span><span>
</span><span id="line-1237"></span><span>  </span><span id="local-6989586621679283299"><span class="annot"><span class="annottext">Term
  s
  ((PSBool
    :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><a href="#local-6989586621679283299"><span class="hs-identifier hs-var">zipMerge'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term
    s
    ((PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
  -&gt; Term
       s
       (PSBool
        :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                          :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
 -&gt; Term
      s
      (PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; TermCont
     s
     (Term
        s
        ((PSBool
          :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall a (s :: S) (r :: PType).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont s a
</span><span class="hs-identifier hs-var">tcont</span></span><span> </span><span class="annot"><span class="annottext">(((Term
     s
     ((PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
   -&gt; Term
        s
        (PSBool
         :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                           :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
  -&gt; Term
       s
       (PSBool
        :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                          :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
 -&gt; TermCont
      s
      (Term
         s
         ((PSBool
           :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                             :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; ((Term
       s
       ((PSBool
         :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                           :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
     -&gt; Term
          s
          (PSBool
           :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                             :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
    -&gt; Term
         s
         (PSBool
          :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; TermCont
     s
     (Term
        s
        ((PSBool
          :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PSBool
    :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; (Term
      s
      ((PSBool
        :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                          :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
    -&gt; Term
         s
         (PSBool
          :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="annot"><span class="annottext">(Term
   s
   ((PSBool
     :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
 -&gt; (Term
       s
       ((PSBool
         :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                           :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
     -&gt; Term
          s
          (PSBool
           :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                             :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
 -&gt; Term
      s
      (PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; Term
     s
     ((PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; (Term
      s
      ((PSBool
        :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                          :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
    -&gt; Term
         s
         (PSBool
          :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Term
   s
   (PSBool
    :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
 -&gt; Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     ((PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     (c
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term
    s
    (PSBool
     :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
  -&gt; Term
       s
       (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
 -&gt; Term
      s
      ((PSBool
        :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                          :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; (Term
      s
      (PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
    -&gt; Term
         s
         (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     ((PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (s :: S) (k :: PType) (v :: PType).
OnePresentHandler (PAsData k) (PAsData v) s
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="Plutarch.LedgerApi.AssocMap.html#zipMerge"><span class="hs-identifier hs-var">zipMerge</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679283298"><span class="hs-identifier hs-var">rightPresent</span></a></span><span>
</span><span id="line-1238"></span><span>  </span><span class="annot"><span class="annottext">Term
  s
  (PSBool
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; TermCont
     s
     (Term
        s
        (PSBool
         :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                           :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
forall a. a -&gt; TermCont s a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Term
   s
   (PSBool
    :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
 -&gt; TermCont
      s
      (Term
         s
         (PSBool
          :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))))
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; TermCont
     s
     (Term
        s
        (PSBool
         :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                           :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (((PSBool
     :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
    :--&gt; (PSBool
          :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
   :--&gt; (PSBool
         :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                           :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
forall (s :: S) (a :: PType) (b :: PType).
Term s (((a :--&gt; b) :--&gt; (a :--&gt; b)) :--&gt; (a :--&gt; b))
</span><span class="hs-identifier hs-var">pfix</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (((PSBool
     :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
    :--&gt; (PSBool
          :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
   :--&gt; (PSBool
         :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                           :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; Term
     s
     ((PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
      :--&gt; (PSBool
            :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                              :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#$</span></span><span> </span><span class="annot"><span class="annottext">(Term
   s
   (PSBool
    :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
 -&gt; Term s PSBool
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     ((PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
      :--&gt; (PSBool
            :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                              :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term s PSBool
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     (c
      :--&gt; (PSBool
            :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                              :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term
    s
    (PSBool
     :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
  -&gt; Term s PSBool
  -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term
      s
      ((PSBool
        :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                          :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
       :--&gt; (PSBool
             :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))))
-&gt; (Term
      s
      (PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
    -&gt; Term s PSBool
    -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     ((PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
      :--&gt; (PSBool
            :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                              :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679283300"><span class="annot"><span class="annottext">Term
  s
  (PSBool
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
</span><a href="#local-6989586621679283300"><span class="hs-identifier hs-var">self</span></a></span></span><span> </span><span id="local-6989586621679283301"><span class="annot"><span class="annottext">Term s PSBool
</span><a href="#local-6989586621679283301"><span class="hs-identifier hs-var">argOrder'</span></a></span></span><span> </span><span id="local-6989586621679283302"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679283302"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679283303"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283303"><span class="hs-identifier hs-var">xs'</span></a></span></span><span> </span><span id="local-6989586621679283304"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283304"><span class="hs-identifier hs-var">ys</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TermCont
  s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S). TermCont s (Term s a) -&gt; Term s a
</span><span class="hs-identifier hs-var">unTermCont</span></span><span> </span><span class="annot"><span class="annottext">(TermCont
   s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont
     s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1239"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679283305"><span class="annot"><span class="annottext">zipMergeRec :: Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="#local-6989586621679283305"><span class="hs-identifier hs-var hs-var">zipMergeRec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PSBool
    :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><a href="#local-6989586621679283299"><span class="hs-identifier hs-var">zipMerge'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PSBool
    :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PSBool
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
</span><a href="#local-6989586621679283300"><span class="hs-identifier hs-var">self</span></a></span><span>
</span><span id="line-1240"></span><span>        </span><span id="local-6989586621679283306"><span class="annot"><span class="annottext">xs :: Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283306"><span class="hs-identifier hs-var hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679283302"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283303"><span class="hs-identifier hs-var">xs'</span></a></span><span>
</span><span id="line-1241"></span><span>        </span><span id="local-6989586621679283307"><span class="annot"><span class="annottext">zipMergeOrdered :: Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283307"><span class="hs-identifier hs-var hs-var">zipMergeOrdered</span></a></span></span><span> </span><span id="local-6989586621679283308"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283308"><span class="hs-identifier hs-var">xSide</span></a></span></span><span> </span><span id="local-6989586621679283309"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283309"><span class="hs-identifier hs-var">ySide</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1242"></span><span>          </span><span class="annot"><span class="annottext">Term s PSBool
-&gt; (PSBool s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term s PSBool
</span><a href="#local-6989586621679283301"><span class="hs-identifier hs-var">argOrder'</span></a></span><span> </span><span class="annot"><span class="annottext">((PSBool s
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; (PSBool s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679283310"><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679283310"><span class="hs-identifier hs-var">argOrder</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PSBool s
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
PSBool s
-&gt; Term s (a :--&gt; (a :--&gt; b)) -&gt; Term s a -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.LedgerApi.AssocMap.html#applyOrder"><span class="hs-identifier hs-var">applyOrder</span></a></span><span> </span><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679283310"><span class="hs-identifier hs-var">argOrder</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="#local-6989586621679283305"><span class="hs-identifier hs-var">zipMergeRec</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283308"><span class="hs-identifier hs-var">xSide</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283309"><span class="hs-identifier hs-var">ySide</span></a></span><span>
</span><span id="line-1243"></span><span>    </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; TermCont
     s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a. a -&gt; TermCont s a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; TermCont
      s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; TermCont
     s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283304"><span class="hs-identifier hs-var">ys</span></a></span><span> </span><span class="annot"><span class="annottext">((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-1244"></span><span>      </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
</span><span class="hs-identifier hs-var">PNil</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s PSBool
-&gt; (PSBool s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term s PSBool
</span><a href="#local-6989586621679283301"><span class="hs-identifier hs-var">argOrder'</span></a></span><span> </span><span class="annot"><span class="annottext">((PSBool s
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; (PSBool s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679283312"><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679283312"><span class="hs-identifier hs-var">argOrder</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1245"></span><span>        </span><span class="hs-comment">-- picking handler for presence of x-side only</span><span>
</span><span id="line-1246"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PSBool s
-&gt; OnePresentHandler_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; OnePresentHandler_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; OnePresentHandler_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
forall (s :: S) a. PSBool s -&gt; a -&gt; a -&gt; a
</span><a href="Plutarch.LedgerApi.AssocMap.html#branchOrder"><span class="hs-identifier hs-var">branchOrder</span></a></span><span> </span><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679283312"><span class="hs-identifier hs-var">argOrder</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679283297"><span class="hs-identifier hs-var">leftPresent</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679283298"><span class="hs-identifier hs-var">rightPresent</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1247"></span><span>          </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
forall (a :: PType) (s :: S). PBuiltinList a s
</span><span class="hs-identifier hs-var">PNil</span></span><span>
</span><span id="line-1248"></span><span>          </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679283302"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283303"><span class="hs-identifier hs-var">xs'</span></a></span><span>
</span><span id="line-1249"></span><span>          </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#HandleOne"><span class="hs-identifier hs-type">HandleOne</span></a></span><span> </span><span id="local-6989586621679283314"><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; (Term s (PAsData v) -&gt; Term s (PAsData v))
</span><a href="#local-6989586621679283314"><span class="hs-identifier hs-var">handler</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1250"></span><span>            </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v)
    :--&gt; PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (list :: PType -&gt; PType) (a :: PType) (b :: PType) (s :: S).
(PListLike list, PElemConstraint list a, PElemConstraint list b) =&gt;
Term s ((a :--&gt; b) :--&gt; (list a :--&gt; list b))
</span><span class="hs-identifier hs-var">List.pmap</span></span><span class="hs-cpp">
              # plam
</span><span>                </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">pair</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1253"></span><span>                    </span><span class="hs-identifier">plet</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">pfstBuiltin</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">pair</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">k</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1254"></span><span>                      </span><span class="hs-identifier">ppairDataBuiltin</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">handler</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">psndBuiltin</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">pair</span><span class="hs-special">)</span><span>
</span><span id="line-1255"></span><span>                </span><span class="hs-special">)</span><span class="hs-cpp">
              # xs
</span><span>      </span><span class="annot"><span class="hs-identifier hs-type">PCons</span></span><span> </span><span id="local-6989586621679283317"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679283317"><span class="hs-identifier hs-var">y1</span></a></span></span><span> </span><span id="local-6989586621679283318"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283318"><span class="hs-identifier hs-var">ys'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TermCont
  s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S). TermCont s (Term s a) -&gt; Term s a
</span><span class="hs-identifier hs-var">unTermCont</span></span><span> </span><span class="annot"><span class="annottext">(TermCont
   s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont
     s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1258"></span><span>        </span><span id="local-6989586621679283319"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679283319"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term s (PBuiltinPair (PAsData k) (PAsData v))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont s (Term s (PBuiltinPair (PAsData k) (PAsData v)))
forall a (s :: S) (r :: PType).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont s a
</span><span class="hs-identifier hs-var">tcont</span></span><span> </span><span class="annot"><span class="annottext">(((Term s (PBuiltinPair (PAsData k) (PAsData v))
   -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; TermCont s (Term s (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; ((Term s (PBuiltinPair (PAsData k) (PAsData v))
     -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont s (Term s (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; (Term s (PBuiltinPair (PAsData k) (PAsData v))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679283317"><span class="hs-identifier hs-var">y1</span></a></span><span>
</span><span id="line-1259"></span><span>        </span><span id="local-6989586621679283320"><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679283320"><span class="hs-identifier hs-var">xk</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term s (PAsData k)
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont s (Term s (PAsData k))
forall a (s :: S) (r :: PType).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont s a
</span><span class="hs-identifier hs-var">tcont</span></span><span> </span><span class="annot"><span class="annottext">(((Term s (PAsData k)
   -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; TermCont s (Term s (PAsData k)))
-&gt; ((Term s (PAsData k)
     -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont s (Term s (PAsData k))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
-&gt; (Term s (PAsData k)
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; a)
</span><span class="hs-identifier hs-var">pfstBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679283302"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1260"></span><span>        </span><span id="local-6989586621679283321"><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679283321"><span class="hs-identifier hs-var">yk</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term s (PAsData k)
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont s (Term s (PAsData k))
forall a (s :: S) (r :: PType).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont s a
</span><span class="hs-identifier hs-var">tcont</span></span><span> </span><span class="annot"><span class="annottext">(((Term s (PAsData k)
   -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; TermCont s (Term s (PAsData k)))
-&gt; ((Term s (PAsData k)
     -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont s (Term s (PAsData k))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
-&gt; (Term s (PAsData k)
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; a)
</span><span class="hs-identifier hs-var">pfstBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679283319"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1261"></span><span>        </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; TermCont
     s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a. a -&gt; TermCont s a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; TermCont
      s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; TermCont
     s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1262"></span><span>          </span><span class="annot"><span class="annottext">Term s PBool
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><span class="hs-identifier hs-var">pif</span></span><span>
</span><span id="line-1263"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679283320"><span class="hs-identifier hs-var">xk</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s (PAsData k) -&gt; Term s PBool
forall (s :: S).
Term s (PAsData k) -&gt; Term s (PAsData k) -&gt; Term s PBool
forall (t :: PType) (s :: S).
PEq t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><span class="hs-operator hs-var">#==</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679283321"><span class="hs-identifier hs-var">yk</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1264"></span><span>            </span><span class="hs-special">(</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">BothPresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679283296"><span class="hs-identifier hs-var">bothPresent</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1265"></span><span>                </span><span class="annot"><span class="annottext">BothPresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#DropBoth"><span class="hs-identifier hs-var">DropBoth</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283307"><span class="hs-identifier hs-var">zipMergeOrdered</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283303"><span class="hs-identifier hs-var">xs'</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283318"><span class="hs-identifier hs-var">ys'</span></a></span><span>
</span><span id="line-1266"></span><span>                </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PassArg"><span class="hs-identifier hs-type">PassArg</span></a></span><span> </span><span id="local-6989586621679283322"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679283322"><span class="hs-identifier hs-var">passLeft</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s PSBool
-&gt; (PSBool s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term s PSBool
</span><a href="#local-6989586621679283301"><span class="hs-identifier hs-var">argOrder'</span></a></span><span> </span><span class="annot"><span class="annottext">((PSBool s
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; (PSBool s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679283323"><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679283323"><span class="hs-identifier hs-var">argOrder</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1267"></span><span>                  </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span class="hs-cpp">
                    # (if passLeft == (argOrder == PSTrue) then x else y)
</span><span class="hs-cpp">                    # applyOrder argOrder zipMergeRec xs' ys'
</span><span>                </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#HandleBoth"><span class="hs-identifier hs-type">HandleBoth</span></a></span><span> </span><span id="local-6989586621679283324"><span class="annot"><span class="annottext">Term s (PAsData k)
-&gt; (Term s (PAsData v)
    -&gt; (Term s (PAsData v) -&gt; Term s (PAsData v)))
</span><a href="#local-6989586621679283324"><span class="hs-identifier hs-var">merge</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s PSBool
-&gt; (PSBool s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term s PSBool
</span><a href="#local-6989586621679283301"><span class="hs-identifier hs-var">argOrder'</span></a></span><span> </span><span class="annot"><span class="annottext">((PSBool s
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; (PSBool s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679283325"><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679283325"><span class="hs-identifier hs-var">argOrder</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1271"></span><span>                  </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span class="hs-cpp">
                    # ( ppairDataBuiltin
</span><span class="hs-cpp">                          # xk
</span><span class="hs-cpp">                          #$ applyOrder' argOrder (merge xk) (psndBuiltin # x) (psndBuiltin # y)
</span><span>                      </span><span class="hs-special">)</span><span class="hs-cpp">
                    #$ applyOrder argOrder zipMergeRec xs' ys'
</span><span>            </span><span class="hs-special">)</span><span>
</span><span id="line-1278"></span><span>            </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Term s PBool
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><span class="hs-identifier hs-var">pif</span></span><span>
</span><span id="line-1279"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s k
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679283320"><span class="hs-identifier hs-var">xk</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; Term s k -&gt; Term s PBool
forall (s :: S). Term s k -&gt; Term s k -&gt; Term s PBool
forall (t :: PType) (s :: S).
PPartialOrd t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><span class="hs-operator hs-var">#&lt;</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s k
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679283321"><span class="hs-identifier hs-var">yk</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1280"></span><span>                </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Term s PSBool
-&gt; (PSBool s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term s PSBool
</span><a href="#local-6989586621679283301"><span class="hs-identifier hs-var">argOrder'</span></a></span><span> </span><span class="annot"><span class="annottext">((PSBool s
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; (PSBool s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679283327"><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679283327"><span class="hs-identifier hs-var">argOrder</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1281"></span><span>                    </span><span class="hs-comment">-- picking handler for presence of only x-side</span><span>
</span><span id="line-1282"></span><span>                    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PSBool s
-&gt; OnePresentHandler_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; OnePresentHandler_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; OnePresentHandler_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
forall (s :: S) a. PSBool s -&gt; a -&gt; a -&gt; a
</span><a href="Plutarch.LedgerApi.AssocMap.html#branchOrder"><span class="hs-identifier hs-var">branchOrder</span></a></span><span> </span><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679283327"><span class="hs-identifier hs-var">argOrder</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679283297"><span class="hs-identifier hs-var">leftPresent</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679283298"><span class="hs-identifier hs-var">rightPresent</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1283"></span><span>                      </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PSBool
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
</span><a href="#local-6989586621679283300"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PSBool
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term s PSBool
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">PSBool s -&gt; Term s PSBool -&gt; Term s PSBool -&gt; Term s PSBool
forall (s :: S) a. PSBool s -&gt; a -&gt; a -&gt; a
</span><a href="Plutarch.LedgerApi.AssocMap.html#branchOrder"><span class="hs-identifier hs-var">branchOrder</span></a></span><span> </span><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679283327"><span class="hs-identifier hs-var">argOrder</span></a></span><span> </span><span class="annot"><span class="annottext">Term s PSBool
forall (s :: S). Term s PSBool
</span><span class="hs-identifier hs-var">psfalse</span></span><span> </span><span class="annot"><span class="annottext">Term s PSBool
forall (s :: S). Term s PSBool
</span><span class="hs-identifier hs-var">pstrue</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679283319"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283318"><span class="hs-identifier hs-var">ys'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283303"><span class="hs-identifier hs-var">xs'</span></a></span><span>
</span><span id="line-1284"></span><span>                      </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679283302"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">PSBool s
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
PSBool s
-&gt; Term s (a :--&gt; (a :--&gt; b)) -&gt; Term s a -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.LedgerApi.AssocMap.html#applyOrder"><span class="hs-identifier hs-var">applyOrder</span></a></span><span> </span><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679283327"><span class="hs-identifier hs-var">argOrder</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="#local-6989586621679283305"><span class="hs-identifier hs-var">zipMergeRec</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283303"><span class="hs-identifier hs-var">xs'</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283304"><span class="hs-identifier hs-var">ys</span></a></span><span>
</span><span id="line-1285"></span><span>                      </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#HandleOne"><span class="hs-identifier hs-type">HandleOne</span></a></span><span> </span><span id="local-6989586621679283328"><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; (Term s (PAsData v) -&gt; Term s (PAsData v))
</span><a href="#local-6989586621679283328"><span class="hs-identifier hs-var">handler</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1286"></span><span>                        </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span class="hs-cpp">
                          # (ppairDataBuiltin # xk # handler xk (psndBuiltin # x))
</span><span class="hs-cpp">                          # (self # branchOrder argOrder psfalse pstrue # y # ys' # xs')
</span><span>                </span><span class="hs-special">)</span><span>
</span><span id="line-1290"></span><span>                </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Term s PSBool
-&gt; (PSBool s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term s PSBool
</span><a href="#local-6989586621679283301"><span class="hs-identifier hs-var">argOrder'</span></a></span><span> </span><span class="annot"><span class="annottext">((PSBool s
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; (PSBool s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679283329"><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679283329"><span class="hs-identifier hs-var">argOrder</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1291"></span><span>                    </span><span class="hs-comment">-- picking handler for presence of only y-side</span><span>
</span><span id="line-1292"></span><span>                    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PSBool s
-&gt; OnePresentHandler_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; OnePresentHandler_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; OnePresentHandler_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
forall (s :: S) a. PSBool s -&gt; a -&gt; a -&gt; a
</span><a href="Plutarch.LedgerApi.AssocMap.html#branchOrder"><span class="hs-identifier hs-var">branchOrder</span></a></span><span> </span><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679283329"><span class="hs-identifier hs-var">argOrder</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679283298"><span class="hs-identifier hs-var">rightPresent</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679283297"><span class="hs-identifier hs-var">leftPresent</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1293"></span><span>                      </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PSBool
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
</span><a href="#local-6989586621679283300"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PSBool
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term s PSBool
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s PSBool
</span><a href="#local-6989586621679283301"><span class="hs-identifier hs-var">argOrder'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679283302"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283303"><span class="hs-identifier hs-var">xs'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283318"><span class="hs-identifier hs-var">ys'</span></a></span><span>
</span><span id="line-1294"></span><span>                      </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679283319"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">PSBool s
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
PSBool s
-&gt; Term s (a :--&gt; (a :--&gt; b)) -&gt; Term s a -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.LedgerApi.AssocMap.html#applyOrder"><span class="hs-identifier hs-var">applyOrder</span></a></span><span> </span><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679283329"><span class="hs-identifier hs-var">argOrder</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="#local-6989586621679283305"><span class="hs-identifier hs-var">zipMergeRec</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283306"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283318"><span class="hs-identifier hs-var">ys'</span></a></span><span>
</span><span id="line-1295"></span><span>                      </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#HandleOne"><span class="hs-identifier hs-type">HandleOne</span></a></span><span> </span><span id="local-6989586621679283330"><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; (Term s (PAsData v) -&gt; Term s (PAsData v))
</span><a href="#local-6989586621679283330"><span class="hs-identifier hs-var">handler</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1296"></span><span>                        </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span class="hs-cpp">
                          # (ppairDataBuiltin # yk # handler yk (psndBuiltin # y))
</span><span class="hs-cpp">                          # (self # argOrder' # x # xs' # ys')
</span><span>                </span><span class="hs-special">)</span><span>
</span><span id="line-1300"></span><span>            </span><span class="hs-special">)</span><span>
</span><span id="line-1301"></span><span>
</span><span id="line-1302"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#zipMergeCommutative"><span class="hs-identifier hs-type">zipMergeCommutative</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1303"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281483"><span class="annot"><a href="#local-6989586621679281483"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281481"><span class="annot"><a href="#local-6989586621679281481"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281482"><span class="annot"><a href="#local-6989586621679281482"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-1304"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#OnePresentHandler"><span class="hs-identifier hs-type">OnePresentHandler</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281481"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281482"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679281483"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1305"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span>
</span><span id="line-1306"></span><span>    </span><span class="annot"><a href="#local-6989586621679281483"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-1307"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281481"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281482"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1308"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281481"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281482"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1309"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281481"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281482"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1310"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281481"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281482"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1311"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1312"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span>
</span><span id="line-1313"></span><span>    </span><span class="annot"><a href="#local-6989586621679281483"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-1314"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281481"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281482"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1315"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281481"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281482"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1316"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281481"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281482"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1317"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-1318"></span><span id="zipMergeCommutative"><span class="annot"><span class="annottext">zipMergeCommutative :: forall (s :: S) (k :: PType) (v :: PType).
OnePresentHandler (PAsData k) (PAsData v) s
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="Plutarch.LedgerApi.AssocMap.html#zipMergeCommutative"><span class="hs-identifier hs-var hs-var">zipMergeCommutative</span></a></span></span><span> </span><span id="local-6989586621679283349"><span class="annot"><span class="annottext">OnePresentHandler (PAsData k) (PAsData v) s
</span><a href="#local-6989586621679283349"><span class="hs-identifier hs-var">onePresent</span></a></span></span><span> </span><span id="local-6989586621679283350"><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><a href="#local-6989586621679283350"><span class="hs-identifier hs-var">mergeInsertRec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     (c
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679283351"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283351"><span class="hs-identifier hs-var">ls</span></a></span></span><span> </span><span id="local-6989586621679283352"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283352"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283351"><span class="hs-identifier hs-var">ls</span></a></span><span> </span><span class="annot"><span class="annottext">((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-1319"></span><span>  </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
</span><span class="hs-identifier hs-var">PNil</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1320"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">OnePresentHandler (PAsData k) (PAsData v) s
</span><a href="#local-6989586621679283349"><span class="hs-identifier hs-var">onePresent</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1321"></span><span>      </span><span class="annot"><span class="annottext">OnePresentHandler (PAsData k) (PAsData v) s
</span><a href="Plutarch.LedgerApi.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
forall (a :: PType) (s :: S). PBuiltinList a s
</span><span class="hs-identifier hs-var">PNil</span></span><span>
</span><span id="line-1322"></span><span>      </span><span class="annot"><span class="annottext">OnePresentHandler (PAsData k) (PAsData v) s
</span><a href="Plutarch.LedgerApi.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283352"><span class="hs-identifier hs-var">rs</span></a></span><span>
</span><span id="line-1323"></span><span>      </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#HandleOne"><span class="hs-identifier hs-type">HandleOne</span></a></span><span> </span><span id="local-6989586621679283353"><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; (Term s (PAsData v) -&gt; Term s (PAsData v))
</span><a href="#local-6989586621679283353"><span class="hs-identifier hs-var">handler</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1324"></span><span>        </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v)
    :--&gt; PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (list :: PType -&gt; PType) (a :: PType) (b :: PType) (s :: S).
(PListLike list, PElemConstraint list a, PElemConstraint list b) =&gt;
Term s ((a :--&gt; b) :--&gt; (list a :--&gt; list b))
</span><span class="hs-identifier hs-var">List.pmap</span></span><span class="hs-cpp">
          # plam
</span><span>            </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">pair</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1327"></span><span>                </span><span class="hs-identifier">plet</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">pfstBuiltin</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">pair</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">k</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1328"></span><span>                  </span><span class="hs-identifier">ppairDataBuiltin</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">handler</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">psndBuiltin</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">pair</span><span class="hs-special">)</span><span>
</span><span id="line-1329"></span><span>            </span><span class="hs-special">)</span><span class="hs-cpp">
          # rs
</span><span>  </span><span class="annot"><span class="hs-identifier hs-type">PCons</span></span><span> </span><span id="local-6989586621679283356"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679283356"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679283357"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283357"><span class="hs-identifier hs-var">ls'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><a href="#local-6989586621679283350"><span class="hs-identifier hs-var">mergeInsertRec</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679283356"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283357"><span class="hs-identifier hs-var">ls'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283352"><span class="hs-identifier hs-var">rs</span></a></span><span>
</span><span id="line-1332"></span><span>
</span><span id="line-1333"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#zipMergeInsertCommutative"><span class="hs-identifier hs-type">zipMergeInsertCommutative</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1334"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281486"><span class="annot"><a href="#local-6989586621679281486"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281484"><span class="annot"><a href="#local-6989586621679281484"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281485"><span class="annot"><a href="#local-6989586621679281485"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-1335"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">POrd</span></span><span> </span><span class="annot"><a href="#local-6989586621679281484"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281484"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1336"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandlerCommutative"><span class="hs-identifier hs-type">MergeHandlerCommutative</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281484"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281485"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679281486"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1337"></span><span>  </span><span class="hs-comment">-- | 'PSTrue' means first arg is left, second arg is right.</span><span>
</span><span id="line-1338"></span><span>  </span><span class="hs-comment">-- The first list gets passed in deconstructed form as head and tail</span><span>
</span><span id="line-1339"></span><span>  </span><span class="hs-comment">-- separately.</span><span>
</span><span id="line-1340"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span>
</span><span id="line-1341"></span><span>    </span><span class="annot"><a href="#local-6989586621679281486"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-1342"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281484"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281485"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1343"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281484"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281485"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1344"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281484"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281485"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1345"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281484"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281485"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1346"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-1347"></span><span id="zipMergeInsertCommutative"><span class="annot"><span class="annottext">zipMergeInsertCommutative :: forall (s :: S) (k :: PType) (v :: PType).
(POrd k, PIsData k) =&gt;
MergeHandlerCommutative (PAsData k) (PAsData v) s
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><a href="Plutarch.LedgerApi.AssocMap.html#zipMergeInsertCommutative"><span class="hs-identifier hs-var hs-var">zipMergeInsertCommutative</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandlerCommutative"><span class="hs-identifier hs-type">MergeHandlerCommutative</span></a></span><span> </span><span id="local-6989586621679283412"><span class="annot"><span class="annottext">BothPresentHandlerCommutative_
  (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679283412"><span class="hs-identifier hs-var">bothPresent</span></a></span></span><span> </span><span id="local-6989586621679283413"><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679283413"><span class="hs-identifier hs-var">onePresent</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TermCont
  s
  (Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall (a :: PType) (s :: S). TermCont s (Term s a) -&gt; Term s a
</span><span class="hs-identifier hs-var">unTermCont</span></span><span> </span><span class="annot"><span class="annottext">(TermCont
   s
   (Term
      s
      (PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
 -&gt; Term
      s
      (PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; TermCont
     s
     (Term
        s
        (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1348"></span><span>  </span><span class="hs-comment">-- deduplicates all the zipMerge calls through plet, almost as good as hoisting</span><span>
</span><span id="line-1349"></span><span>  </span><span id="local-6989586621679283414"><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v)
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><a href="#local-6989586621679283414"><span class="hs-identifier hs-var">zipMerge'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term
    s
    ((PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
  -&gt; Term
       s
       (PBuiltinPair (PAsData k) (PAsData v)
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
 -&gt; Term
      s
      (PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; TermCont
     s
     (Term
        s
        ((PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall a (s :: S) (r :: PType).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont s a
</span><span class="hs-identifier hs-var">tcont</span></span><span> </span><span class="annot"><span class="annottext">(((Term
     s
     ((PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
   -&gt; Term
        s
        (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
  -&gt; Term
       s
       (PBuiltinPair (PAsData k) (PAsData v)
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
 -&gt; TermCont
      s
      (Term
         s
         ((PBuiltinPair (PAsData k) (PAsData v)
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; ((Term
       s
       ((PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
     -&gt; Term
          s
          (PBuiltinPair (PAsData k) (PAsData v)
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
    -&gt; Term
         s
         (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; TermCont
     s
     (Term
        s
        ((PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v)
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; (Term
      s
      ((PBuiltinPair (PAsData k) (PAsData v)
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
    -&gt; Term
         s
         (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="annot"><span class="annottext">(Term
   s
   ((PBuiltinPair (PAsData k) (PAsData v)
     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
 -&gt; (Term
       s
       ((PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
     -&gt; Term
          s
          (PBuiltinPair (PAsData k) (PAsData v)
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
 -&gt; Term
      s
      (PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     ((PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; (Term
      s
      ((PBuiltinPair (PAsData k) (PAsData v)
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
    -&gt; Term
         s
         (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Term
   s
   (PBuiltinPair (PAsData k) (PAsData v)
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
 -&gt; Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     ((PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     (c
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term
    s
    (PBuiltinPair (PAsData k) (PAsData v)
     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
  -&gt; Term
       s
       (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
 -&gt; Term
      s
      ((PBuiltinPair (PAsData k) (PAsData v)
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; (Term
      s
      (PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
    -&gt; Term
         s
         (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     ((PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (s :: S) (k :: PType) (v :: PType).
OnePresentHandler (PAsData k) (PAsData v) s
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="Plutarch.LedgerApi.AssocMap.html#zipMergeCommutative"><span class="hs-identifier hs-var">zipMergeCommutative</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679283413"><span class="hs-identifier hs-var">onePresent</span></a></span><span>
</span><span id="line-1350"></span><span>  </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; TermCont
     s
     (Term
        s
        (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall a. a -&gt; TermCont s a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Term
   s
   (PBuiltinPair (PAsData k) (PAsData v)
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
 -&gt; TermCont
      s
      (Term
         s
         (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; TermCont
     s
     (Term
        s
        (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (((PBuiltinPair (PAsData k) (PAsData v)
     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
    :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall (s :: S) (a :: PType) (b :: PType).
Term s (((a :--&gt; b) :--&gt; (a :--&gt; b)) :--&gt; (a :--&gt; b))
</span><span class="hs-identifier hs-var">pfix</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (((PBuiltinPair (PAsData k) (PAsData v)
     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
    :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     ((PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#$</span></span><span> </span><span class="annot"><span class="annottext">(Term
   s
   (PBuiltinPair (PAsData k) (PAsData v)
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     ((PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     (c
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term
    s
    (PBuiltinPair (PAsData k) (PAsData v)
     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
  -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term
      s
      ((PBuiltinPair (PAsData k) (PAsData v)
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; (Term
      s
      (PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
    -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     ((PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679283415"><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><a href="#local-6989586621679283415"><span class="hs-identifier hs-var">self</span></a></span></span><span> </span><span id="local-6989586621679283416"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679283416"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679283417"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283417"><span class="hs-identifier hs-var">xs'</span></a></span></span><span> </span><span id="local-6989586621679283418"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283418"><span class="hs-identifier hs-var">ys</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TermCont
  s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S). TermCont s (Term s a) -&gt; Term s a
</span><span class="hs-identifier hs-var">unTermCont</span></span><span> </span><span class="annot"><span class="annottext">(TermCont
   s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont
     s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1351"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679283419"><span class="annot"><span class="annottext">zipMergeRec :: Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="#local-6989586621679283419"><span class="hs-identifier hs-var hs-var">zipMergeRec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v)
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><a href="#local-6989586621679283414"><span class="hs-identifier hs-var">zipMerge'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v)
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><a href="#local-6989586621679283415"><span class="hs-identifier hs-var">self</span></a></span><span>
</span><span id="line-1352"></span><span>        </span><span id="local-6989586621679283420"><span class="annot"><span class="annottext">xs :: Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283420"><span class="hs-identifier hs-var hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679283416"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283417"><span class="hs-identifier hs-var">xs'</span></a></span><span>
</span><span id="line-1353"></span><span>    </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; TermCont
     s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a. a -&gt; TermCont s a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; TermCont
      s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; TermCont
     s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283418"><span class="hs-identifier hs-var">ys</span></a></span><span> </span><span class="annot"><span class="annottext">((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-1354"></span><span>      </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
</span><span class="hs-identifier hs-var">PNil</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1355"></span><span>        </span><span class="hs-comment">-- picking handler for presence of x-side only</span><span>
</span><span id="line-1356"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679283413"><span class="hs-identifier hs-var">onePresent</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1357"></span><span>          </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
forall (a :: PType) (s :: S). PBuiltinList a s
</span><span class="hs-identifier hs-var">PNil</span></span><span>
</span><span id="line-1358"></span><span>          </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679283416"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283417"><span class="hs-identifier hs-var">xs'</span></a></span><span>
</span><span id="line-1359"></span><span>          </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#HandleOne"><span class="hs-identifier hs-type">HandleOne</span></a></span><span> </span><span id="local-6989586621679283421"><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; (Term s (PAsData v) -&gt; Term s (PAsData v))
</span><a href="#local-6989586621679283421"><span class="hs-identifier hs-var">handler</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1360"></span><span>            </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v)
    :--&gt; PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (list :: PType -&gt; PType) (a :: PType) (b :: PType) (s :: S).
(PListLike list, PElemConstraint list a, PElemConstraint list b) =&gt;
Term s ((a :--&gt; b) :--&gt; (list a :--&gt; list b))
</span><span class="hs-identifier hs-var">List.pmap</span></span><span class="hs-cpp">
              # plam
</span><span>                </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">pair</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1363"></span><span>                    </span><span class="hs-identifier">plet</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">pfstBuiltin</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">pair</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">k</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1364"></span><span>                      </span><span class="hs-identifier">ppairDataBuiltin</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">handler</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">psndBuiltin</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">pair</span><span class="hs-special">)</span><span>
</span><span id="line-1365"></span><span>                </span><span class="hs-special">)</span><span class="hs-cpp">
              # xs
</span><span>      </span><span class="annot"><span class="hs-identifier hs-type">PCons</span></span><span> </span><span id="local-6989586621679283424"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679283424"><span class="hs-identifier hs-var">y1</span></a></span></span><span> </span><span id="local-6989586621679283425"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283425"><span class="hs-identifier hs-var">ys'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TermCont
  s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S). TermCont s (Term s a) -&gt; Term s a
</span><span class="hs-identifier hs-var">unTermCont</span></span><span> </span><span class="annot"><span class="annottext">(TermCont
   s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont
     s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1368"></span><span>        </span><span id="local-6989586621679283426"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679283426"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term s (PBuiltinPair (PAsData k) (PAsData v))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont s (Term s (PBuiltinPair (PAsData k) (PAsData v)))
forall a (s :: S) (r :: PType).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont s a
</span><span class="hs-identifier hs-var">tcont</span></span><span> </span><span class="annot"><span class="annottext">(((Term s (PBuiltinPair (PAsData k) (PAsData v))
   -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; TermCont s (Term s (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; ((Term s (PBuiltinPair (PAsData k) (PAsData v))
     -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont s (Term s (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; (Term s (PBuiltinPair (PAsData k) (PAsData v))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679283424"><span class="hs-identifier hs-var">y1</span></a></span><span>
</span><span id="line-1369"></span><span>        </span><span id="local-6989586621679283427"><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679283427"><span class="hs-identifier hs-var">xk</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term s (PAsData k)
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont s (Term s (PAsData k))
forall a (s :: S) (r :: PType).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont s a
</span><span class="hs-identifier hs-var">tcont</span></span><span> </span><span class="annot"><span class="annottext">(((Term s (PAsData k)
   -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; TermCont s (Term s (PAsData k)))
-&gt; ((Term s (PAsData k)
     -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont s (Term s (PAsData k))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
-&gt; (Term s (PAsData k)
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; a)
</span><span class="hs-identifier hs-var">pfstBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679283416"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1370"></span><span>        </span><span id="local-6989586621679283428"><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679283428"><span class="hs-identifier hs-var">yk</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term s (PAsData k)
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont s (Term s (PAsData k))
forall a (s :: S) (r :: PType).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont s a
</span><span class="hs-identifier hs-var">tcont</span></span><span> </span><span class="annot"><span class="annottext">(((Term s (PAsData k)
   -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; TermCont s (Term s (PAsData k)))
-&gt; ((Term s (PAsData k)
     -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont s (Term s (PAsData k))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
-&gt; (Term s (PAsData k)
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; a)
</span><span class="hs-identifier hs-var">pfstBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679283426"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1371"></span><span>        </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; TermCont
     s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a. a -&gt; TermCont s a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; TermCont
      s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; TermCont
     s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1372"></span><span>          </span><span class="annot"><span class="annottext">Term s PBool
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><span class="hs-identifier hs-var">pif</span></span><span>
</span><span id="line-1373"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679283427"><span class="hs-identifier hs-var">xk</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s (PAsData k) -&gt; Term s PBool
forall (s :: S).
Term s (PAsData k) -&gt; Term s (PAsData k) -&gt; Term s PBool
forall (t :: PType) (s :: S).
PEq t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><span class="hs-operator hs-var">#==</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679283428"><span class="hs-identifier hs-var">yk</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1374"></span><span>            </span><span class="hs-special">(</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">BothPresentHandlerCommutative_
  (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679283412"><span class="hs-identifier hs-var">bothPresent</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1375"></span><span>                </span><span class="annot"><span class="annottext">BothPresentHandlerCommutative_
  (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#DropBothCommutative"><span class="hs-identifier hs-var">DropBothCommutative</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="#local-6989586621679283419"><span class="hs-identifier hs-var">zipMergeRec</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283417"><span class="hs-identifier hs-var">xs'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283425"><span class="hs-identifier hs-var">ys'</span></a></span><span>
</span><span id="line-1376"></span><span>                </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#HandleBothCommutative"><span class="hs-identifier hs-type">HandleBothCommutative</span></a></span><span> </span><span id="local-6989586621679283429"><span class="annot"><span class="annottext">Term s (PAsData k)
-&gt; (Term s (PAsData v)
    -&gt; (Term s (PAsData v) -&gt; Term s (PAsData v)))
</span><a href="#local-6989586621679283429"><span class="hs-identifier hs-var">merge</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1377"></span><span>                  </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span class="hs-cpp">
                    # ( ppairDataBuiltin
</span><span class="hs-cpp">                          # xk
</span><span class="hs-cpp">                          #$ merge xk (psndBuiltin # x) (psndBuiltin # y)
</span><span>                      </span><span class="hs-special">)</span><span class="hs-cpp">
                    #$ zipMergeRec
</span><span class="hs-cpp">                    # xs'
</span><span class="hs-cpp">                    # ys'
</span><span>            </span><span class="hs-special">)</span><span>
</span><span id="line-1386"></span><span>            </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Term s PBool
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><span class="hs-identifier hs-var">pif</span></span><span>
</span><span id="line-1387"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s k
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679283427"><span class="hs-identifier hs-var">xk</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; Term s k -&gt; Term s PBool
forall (s :: S). Term s k -&gt; Term s k -&gt; Term s PBool
forall (t :: PType) (s :: S).
PPartialOrd t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><span class="hs-operator hs-var">#&lt;</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s k
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679283428"><span class="hs-identifier hs-var">yk</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1388"></span><span>                </span><span class="hs-special">(</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679283413"><span class="hs-identifier hs-var">onePresent</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1389"></span><span>                    </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><a href="#local-6989586621679283415"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679283426"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283425"><span class="hs-identifier hs-var">ys'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283417"><span class="hs-identifier hs-var">xs'</span></a></span><span>
</span><span id="line-1390"></span><span>                    </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679283416"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="#local-6989586621679283419"><span class="hs-identifier hs-var">zipMergeRec</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283417"><span class="hs-identifier hs-var">xs'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283418"><span class="hs-identifier hs-var">ys</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1391"></span><span>                    </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#HandleOne"><span class="hs-identifier hs-type">HandleOne</span></a></span><span> </span><span id="local-6989586621679283430"><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; (Term s (PAsData v) -&gt; Term s (PAsData v))
</span><a href="#local-6989586621679283430"><span class="hs-identifier hs-var">handler</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1392"></span><span>                      </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span class="hs-cpp">
                        # (ppairDataBuiltin # xk # handler xk (psndBuiltin # x))
</span><span class="hs-cpp">                        # (self # y # ys' # xs')
</span><span>                </span><span class="hs-special">)</span><span>
</span><span id="line-1396"></span><span>                </span><span class="hs-special">(</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679283413"><span class="hs-identifier hs-var">onePresent</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1397"></span><span>                    </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><a href="#local-6989586621679283415"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679283416"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283417"><span class="hs-identifier hs-var">xs'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283425"><span class="hs-identifier hs-var">ys'</span></a></span><span>
</span><span id="line-1398"></span><span>                    </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679283426"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="#local-6989586621679283419"><span class="hs-identifier hs-var">zipMergeRec</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283425"><span class="hs-identifier hs-var">ys'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679283420"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1399"></span><span>                    </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#HandleOne"><span class="hs-identifier hs-type">HandleOne</span></a></span><span> </span><span id="local-6989586621679283431"><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; (Term s (PAsData v) -&gt; Term s (PAsData v))
</span><a href="#local-6989586621679283431"><span class="hs-identifier hs-var">handler</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1400"></span><span>                      </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span class="hs-cpp">
                        # (ppairDataBuiltin # yk # handler yk (psndBuiltin # y))
</span><span class="hs-cpp">                        # (self # x # xs' # ys')
</span><span>                </span><span class="hs-special">)</span><span>
</span><span id="line-1404"></span><span>            </span><span class="hs-special">)</span><span>
</span><span id="line-1405"></span><span>
</span><span id="line-1406"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#bothPresentOnData"><span class="hs-identifier hs-type">bothPresentOnData</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1407"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281492"><span class="annot"><a href="#local-6989586621679281492"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281490"><span class="annot"><a href="#local-6989586621679281490"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281491"><span class="annot"><a href="#local-6989586621679281491"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-1408"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281490"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281491"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1409"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#BothPresentHandler"><span class="hs-identifier hs-type">BothPresentHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281490"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281491"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281492"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1410"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#BothPresentHandler"><span class="hs-identifier hs-type">BothPresentHandler</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281490"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281491"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679281492"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-1411"></span><span id="bothPresentOnData"><span class="annot"><span class="annottext">bothPresentOnData :: forall (s :: S) (k :: PType) (v :: PType).
(PIsData k, PIsData v) =&gt;
BothPresentHandler k v s
-&gt; BothPresentHandler (PAsData k) (PAsData v) s
</span><a href="Plutarch.LedgerApi.AssocMap.html#bothPresentOnData"><span class="hs-identifier hs-var hs-var">bothPresentOnData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-1412"></span><span>  </span><span class="annot"><span class="annottext">BothPresentHandler k v s
</span><a href="Plutarch.LedgerApi.AssocMap.html#DropBoth"><span class="hs-identifier hs-var">DropBoth</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">BothPresentHandler (PAsData k) (PAsData v) s
forall (f :: Type -&gt; Type -&gt; Type) k v. BothPresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#DropBoth"><span class="hs-identifier hs-var">DropBoth</span></a></span><span>
</span><span id="line-1413"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PassArg"><span class="hs-identifier hs-type">PassArg</span></a></span><span> </span><span id="local-6989586621679283438"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679283438"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; BothPresentHandler (PAsData k) (PAsData v) s
forall (f :: Type -&gt; Type -&gt; Type) k v.
Bool -&gt; BothPresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#PassArg"><span class="hs-identifier hs-var">PassArg</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679283438"><span class="hs-identifier hs-var">arg</span></a></span><span>
</span><span id="line-1414"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#HandleBoth"><span class="hs-identifier hs-type">HandleBoth</span></a></span><span> </span><span id="local-6989586621679283439"><span class="annot"><span class="annottext">Term s k -&gt; (Term s v -&gt; (Term s v -&gt; Term s v))
</span><a href="#local-6989586621679283439"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData k)
 -&gt; (Term s (PAsData v)
     -&gt; (Term s (PAsData v) -&gt; Term s (PAsData v))))
-&gt; BothPresentHandler (PAsData k) (PAsData v) s
forall (f :: Type -&gt; Type -&gt; Type) k v.
f k (f v (f v v)) -&gt; BothPresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#HandleBoth"><span class="hs-identifier hs-var">HandleBoth</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679283440"><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679283440"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621679283441"><span class="annot"><span class="annottext">Term s (PAsData v)
</span><a href="#local-6989586621679283441"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679283442"><span class="annot"><span class="annottext">Term s (PAsData v)
</span><a href="#local-6989586621679283442"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s v -&gt; Term s (PAsData v)
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><span class="hs-identifier hs-var">pdata</span></span><span> </span><span class="annot"><span class="annottext">(Term s v -&gt; Term s (PAsData v)) -&gt; Term s v -&gt; Term s (PAsData v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; (Term s v -&gt; (Term s v -&gt; Term s v))
</span><a href="#local-6989586621679283439"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s k
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679283440"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData v) -&gt; Term s v
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v)
</span><a href="#local-6989586621679283441"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData v) -&gt; Term s v
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v)
</span><a href="#local-6989586621679283442"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1415"></span><span>
</span><span id="line-1416"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#onePresentOnData"><span class="hs-identifier hs-type">onePresentOnData</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1417"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281496"><span class="annot"><a href="#local-6989586621679281496"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281494"><span class="annot"><a href="#local-6989586621679281494"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281495"><span class="annot"><a href="#local-6989586621679281495"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-1418"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281494"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281495"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1419"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#OnePresentHandler"><span class="hs-identifier hs-type">OnePresentHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281494"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281495"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281496"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1420"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#OnePresentHandler"><span class="hs-identifier hs-type">OnePresentHandler</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281494"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281495"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679281496"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-1421"></span><span id="onePresentOnData"><span class="annot"><span class="annottext">onePresentOnData :: forall (s :: S) (k :: PType) (v :: PType).
(PIsData k, PIsData v) =&gt;
OnePresentHandler k v s
-&gt; OnePresentHandler (PAsData k) (PAsData v) s
</span><a href="Plutarch.LedgerApi.AssocMap.html#onePresentOnData"><span class="hs-identifier hs-var hs-var">onePresentOnData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-1422"></span><span>  </span><span class="annot"><span class="annottext">OnePresentHandler k v s
</span><a href="Plutarch.LedgerApi.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">OnePresentHandler (PAsData k) (PAsData v) s
forall (f :: Type -&gt; Type -&gt; Type) k v. OnePresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span>
</span><span id="line-1423"></span><span>  </span><span class="annot"><span class="annottext">OnePresentHandler k v s
</span><a href="Plutarch.LedgerApi.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">OnePresentHandler (PAsData k) (PAsData v) s
forall (f :: Type -&gt; Type -&gt; Type) k v. OnePresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span>
</span><span id="line-1424"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#HandleOne"><span class="hs-identifier hs-type">HandleOne</span></a></span><span> </span><span id="local-6989586621679283448"><span class="annot"><span class="annottext">Term s k -&gt; (Term s v -&gt; Term s v)
</span><a href="#local-6989586621679283448"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData k) -&gt; (Term s (PAsData v) -&gt; Term s (PAsData v)))
-&gt; OnePresentHandler (PAsData k) (PAsData v) s
forall (f :: Type -&gt; Type -&gt; Type) k v.
f k (f v v) -&gt; OnePresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#HandleOne"><span class="hs-identifier hs-var">HandleOne</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679283449"><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679283449"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679283450"><span class="annot"><span class="annottext">Term s (PAsData v)
</span><a href="#local-6989586621679283450"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s v -&gt; Term s (PAsData v)
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><span class="hs-identifier hs-var">pdata</span></span><span> </span><span class="annot"><span class="annottext">(Term s v -&gt; Term s (PAsData v)) -&gt; Term s v -&gt; Term s (PAsData v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; (Term s v -&gt; Term s v)
</span><a href="#local-6989586621679283448"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s k
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679283449"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData v) -&gt; Term s v
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v)
</span><a href="#local-6989586621679283450"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1425"></span><span>
</span><span id="line-1426"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#bothPresentCommutativeOnData"><span class="hs-identifier hs-type">bothPresentCommutativeOnData</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1427"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281502"><span class="annot"><a href="#local-6989586621679281502"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281500"><span class="annot"><a href="#local-6989586621679281500"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281501"><span class="annot"><a href="#local-6989586621679281501"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-1428"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281500"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281501"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1429"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#BothPresentHandlerCommutative"><span class="hs-identifier hs-type">BothPresentHandlerCommutative</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281500"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281501"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281502"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1430"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#BothPresentHandlerCommutative"><span class="hs-identifier hs-type">BothPresentHandlerCommutative</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281500"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679281501"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679281502"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-1431"></span><span id="bothPresentCommutativeOnData"><span class="annot"><span class="annottext">bothPresentCommutativeOnData :: forall (s :: S) (k :: PType) (v :: PType).
(PIsData k, PIsData v) =&gt;
BothPresentHandlerCommutative k v s
-&gt; BothPresentHandlerCommutative (PAsData k) (PAsData v) s
</span><a href="Plutarch.LedgerApi.AssocMap.html#bothPresentCommutativeOnData"><span class="hs-identifier hs-var hs-var">bothPresentCommutativeOnData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-1432"></span><span>  </span><span class="annot"><span class="annottext">BothPresentHandlerCommutative k v s
</span><a href="Plutarch.LedgerApi.AssocMap.html#DropBothCommutative"><span class="hs-identifier hs-var">DropBothCommutative</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">BothPresentHandlerCommutative (PAsData k) (PAsData v) s
forall (f :: Type -&gt; Type -&gt; Type) k v.
BothPresentHandlerCommutative_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#DropBothCommutative"><span class="hs-identifier hs-var">DropBothCommutative</span></a></span><span>
</span><span id="line-1433"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#HandleBothCommutative"><span class="hs-identifier hs-type">HandleBothCommutative</span></a></span><span> </span><span id="local-6989586621679283457"><span class="annot"><span class="annottext">Term s k -&gt; (Term s v -&gt; (Term s v -&gt; Term s v))
</span><a href="#local-6989586621679283457"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1434"></span><span>    </span><span class="annot"><span class="annottext">(Term s (PAsData k)
 -&gt; (Term s (PAsData v)
     -&gt; (Term s (PAsData v) -&gt; Term s (PAsData v))))
-&gt; BothPresentHandlerCommutative (PAsData k) (PAsData v) s
forall (f :: Type -&gt; Type -&gt; Type) k v.
f k (f v (f v v)) -&gt; BothPresentHandlerCommutative_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#HandleBothCommutative"><span class="hs-identifier hs-var">HandleBothCommutative</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679283458"><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679283458"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621679283459"><span class="annot"><span class="annottext">Term s (PAsData v)
</span><a href="#local-6989586621679283459"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679283460"><span class="annot"><span class="annottext">Term s (PAsData v)
</span><a href="#local-6989586621679283460"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s v -&gt; Term s (PAsData v)
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><span class="hs-identifier hs-var">pdata</span></span><span> </span><span class="annot"><span class="annottext">(Term s v -&gt; Term s (PAsData v)) -&gt; Term s v -&gt; Term s (PAsData v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; (Term s v -&gt; (Term s v -&gt; Term s v))
</span><a href="#local-6989586621679283457"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s k
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679283458"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData v) -&gt; Term s v
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v)
</span><a href="#local-6989586621679283459"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData v) -&gt; Term s v
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v)
</span><a href="#local-6989586621679283460"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1435"></span><span>
</span><span id="line-1436"></span><span class="annot"><span class="hs-comment">-- | Apply given Plutarch fun with given reified (on Haskell-level) arg order.</span></span><span>
</span><span id="line-1437"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#applyOrder"><span class="hs-identifier hs-type">applyOrder</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1438"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281512"><span class="annot"><a href="#local-6989586621679281512"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281513"><span class="annot"><a href="#local-6989586621679281513"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281514"><span class="annot"><a href="#local-6989586621679281514"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-1439"></span><span>  </span><span class="annot"><span class="hs-comment">-- | 'PSTrue' means first arg is left, second arg is right.</span></span><span>
</span><span id="line-1440"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">PSBool</span></span><span> </span><span class="annot"><a href="#local-6989586621679281512"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1441"></span><span>  </span><span class="annot"><span class="hs-comment">-- | A function that expects argument order 'left right'.</span></span><span>
</span><span id="line-1442"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281512"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679281513"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679281513"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679281514"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1443"></span><span>  </span><span class="annot"><span class="hs-comment">-- | First arg.</span></span><span>
</span><span id="line-1444"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281512"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281513"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1445"></span><span>  </span><span class="annot"><span class="hs-comment">-- | Second arg.</span></span><span>
</span><span id="line-1446"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281512"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281513"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1447"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281512"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281514"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-1448"></span><span id="applyOrder"><span class="annot"><span class="annottext">applyOrder :: forall (s :: S) (a :: PType) (b :: PType).
PSBool s
-&gt; Term s (a :--&gt; (a :--&gt; b)) -&gt; Term s a -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.LedgerApi.AssocMap.html#applyOrder"><span class="hs-identifier hs-var hs-var">applyOrder</span></a></span></span><span> </span><span id="local-6989586621679283461"><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679283461"><span class="hs-identifier hs-var">argOrder</span></a></span></span><span> </span><span id="local-6989586621679283462"><span class="annot"><span class="annottext">Term s (a :--&gt; (a :--&gt; b))
</span><a href="#local-6989586621679283462"><span class="hs-identifier hs-var">pfun</span></a></span></span><span> </span><span id="local-6989586621679283463"><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679283463"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679283464"><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679283464"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PSBool s -&gt; Term s b -&gt; Term s b -&gt; Term s b
forall (s :: S) a. PSBool s -&gt; a -&gt; a -&gt; a
</span><a href="Plutarch.LedgerApi.AssocMap.html#branchOrder"><span class="hs-identifier hs-var">branchOrder</span></a></span><span> </span><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679283461"><span class="hs-identifier hs-var">argOrder</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (a :--&gt; (a :--&gt; b))
</span><a href="#local-6989586621679283462"><span class="hs-identifier hs-var">pfun</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (a :--&gt; (a :--&gt; b)) -&gt; Term s a -&gt; Term s (a :--&gt; b)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679283463"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679283464"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (a :--&gt; (a :--&gt; b))
</span><a href="#local-6989586621679283462"><span class="hs-identifier hs-var">pfun</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (a :--&gt; (a :--&gt; b)) -&gt; Term s a -&gt; Term s (a :--&gt; b)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679283464"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679283463"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1449"></span><span>
</span><span id="line-1450"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#branchOrder"><span class="hs-identifier hs-type">branchOrder</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281515"><span class="annot"><a href="#local-6989586621679281515"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281516"><span class="annot"><a href="#local-6989586621679281516"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PSBool</span></span><span> </span><span class="annot"><a href="#local-6989586621679281515"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679281516"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679281516"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679281516"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-1451"></span><span id="branchOrder"><span class="annot"><span class="annottext">branchOrder :: forall (s :: S) a. PSBool s -&gt; a -&gt; a -&gt; a
</span><a href="Plutarch.LedgerApi.AssocMap.html#branchOrder"><span class="hs-identifier hs-var hs-var">branchOrder</span></a></span></span><span> </span><span class="annot"><span class="annottext">PSBool s
</span><span class="hs-identifier hs-var">PSTrue</span></span><span> </span><span id="local-6989586621679283465"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679283465"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679283465"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-1452"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#branchOrder"><span class="hs-identifier hs-var">branchOrder</span></a></span><span> </span><span class="annot"><span class="annottext">PSBool s
</span><span class="hs-identifier hs-var">PSFalse</span></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679283466"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679283466"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679283466"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-1453"></span><span>
</span><span id="line-1454"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#applyOrder%27"><span class="hs-identifier hs-type">applyOrder'</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1455"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281518"><span class="annot"><a href="#local-6989586621679281518"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281519"><span class="annot"><a href="#local-6989586621679281519"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281520"><span class="annot"><a href="#local-6989586621679281520"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-1456"></span><span>  </span><span class="annot"><span class="hs-comment">-- | 'PSTrue' means first arg is left, second arg is right.</span></span><span>
</span><span id="line-1457"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">PSBool</span></span><span> </span><span class="annot"><a href="#local-6989586621679281518"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1458"></span><span>  </span><span class="annot"><span class="hs-comment">-- | A function that expects argument order 'left right'.</span></span><span>
</span><span id="line-1459"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679281519"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679281519"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679281520"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1460"></span><span>  </span><span class="annot"><span class="hs-comment">-- | First arg.</span></span><span>
</span><span id="line-1461"></span><span>  </span><span class="annot"><a href="#local-6989586621679281519"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1462"></span><span>  </span><span class="annot"><span class="hs-comment">-- | Second arg.</span></span><span>
</span><span id="line-1463"></span><span>  </span><span class="annot"><a href="#local-6989586621679281519"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1464"></span><span>  </span><span class="annot"><a href="#local-6989586621679281520"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-1465"></span><span id="applyOrder%27"><span class="annot"><span class="annottext">applyOrder' :: forall (s :: S) a b. PSBool s -&gt; (a -&gt; a -&gt; b) -&gt; a -&gt; a -&gt; b
</span><a href="Plutarch.LedgerApi.AssocMap.html#applyOrder%27"><span class="hs-identifier hs-var hs-var">applyOrder'</span></a></span></span><span> </span><span id="local-6989586621679283467"><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679283467"><span class="hs-identifier hs-var">argOrder</span></a></span></span><span> </span><span id="local-6989586621679283468"><span class="annot"><span class="annottext">a -&gt; a -&gt; b
</span><a href="#local-6989586621679283468"><span class="hs-identifier hs-var">fun</span></a></span></span><span> </span><span id="local-6989586621679283469"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679283469"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679283470"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679283470"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PSBool s -&gt; b -&gt; b -&gt; b
forall (s :: S) a. PSBool s -&gt; a -&gt; a -&gt; a
</span><a href="Plutarch.LedgerApi.AssocMap.html#branchOrder"><span class="hs-identifier hs-var">branchOrder</span></a></span><span> </span><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679283467"><span class="hs-identifier hs-var">argOrder</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; a -&gt; b
</span><a href="#local-6989586621679283468"><span class="hs-identifier hs-var">fun</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679283469"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679283470"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; a -&gt; b
</span><a href="#local-6989586621679283468"><span class="hs-identifier hs-var">fun</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679283470"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679283469"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1466"></span><span>
</span><span id="line-1467"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#defaultMergeHandlerNonCommutative"><span class="hs-identifier hs-type">defaultMergeHandlerNonCommutative</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1468"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281238"><span class="annot"><a href="#local-6989586621679281238"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281239"><span class="annot"><a href="#local-6989586621679281239"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281240"><span class="annot"><a href="#local-6989586621679281240"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-1469"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281238"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281239"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1470"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281238"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281239"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1471"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281238"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679281239"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679281239"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679281239"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1472"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-type">SomeMergeHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281240"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281239"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679281238"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-1473"></span><span id="defaultMergeHandlerNonCommutative"><span class="annot"><span class="annottext">defaultMergeHandlerNonCommutative :: forall (s :: S) (v :: PType) (k :: PType).
Term s v
-&gt; Term s v -&gt; Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s
</span><a href="Plutarch.LedgerApi.AssocMap.html#defaultMergeHandlerNonCommutative"><span class="hs-identifier hs-var hs-var">defaultMergeHandlerNonCommutative</span></a></span></span><span> </span><span id="local-6989586621679283471"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679283471"><span class="hs-identifier hs-var">defLeft</span></a></span></span><span> </span><span id="local-6989586621679283472"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679283472"><span class="hs-identifier hs-var">defRight</span></a></span></span><span> </span><span id="local-6989586621679283473"><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v))
</span><a href="#local-6989586621679283473"><span class="hs-identifier hs-var">combine</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1474"></span><span>  </span><span class="annot"><span class="annottext">MergeHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; SomeMergeHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandler_ f k v -&gt; SomeMergeHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-var">SomeMergeHandler</span></a></span><span> </span><span class="annot"><span class="annottext">(MergeHandler_ (-&gt;) (Term s k) (Term s v)
 -&gt; SomeMergeHandler_ (-&gt;) (Term s k) (Term s v))
-&gt; MergeHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; SomeMergeHandler_ (-&gt;) (Term s k) (Term s v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1475"></span><span>    </span><span class="annot"><span class="annottext">BothPresentHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; MergeHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
BothPresentHandler_ f k v
-&gt; OnePresentHandler_ f k v
-&gt; OnePresentHandler_ f k v
-&gt; MergeHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandler"><span class="hs-identifier hs-var">MergeHandler</span></a></span><span>
</span><span id="line-1476"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Term s k -&gt; (Term s v -&gt; (Term s v -&gt; Term s v)))
-&gt; BothPresentHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
f k (f v (f v v)) -&gt; BothPresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#HandleBoth"><span class="hs-identifier hs-var">HandleBoth</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Term s k
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679283474"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679283474"><span class="hs-identifier hs-var">vl</span></a></span></span><span> </span><span id="local-6989586621679283475"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679283475"><span class="hs-identifier hs-var">vr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v))
</span><a href="#local-6989586621679283473"><span class="hs-identifier hs-var">combine</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v)) -&gt; Term s v -&gt; Term s (v :--&gt; v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679283474"><span class="hs-identifier hs-var">vl</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; v) -&gt; Term s v -&gt; Term s v
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679283475"><span class="hs-identifier hs-var">vr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1477"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Term s k -&gt; (Term s v -&gt; Term s v))
-&gt; OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
f k (f v v) -&gt; OnePresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#HandleOne"><span class="hs-identifier hs-var">HandleOne</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Term s k
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679283476"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679283476"><span class="hs-identifier hs-var">vl</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v))
</span><a href="#local-6989586621679283473"><span class="hs-identifier hs-var">combine</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v)) -&gt; Term s v -&gt; Term s (v :--&gt; v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679283476"><span class="hs-identifier hs-var">vl</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; v) -&gt; Term s v -&gt; Term s v
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679283472"><span class="hs-identifier hs-var">defRight</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1478"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Term s k -&gt; (Term s v -&gt; Term s v))
-&gt; OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
f k (f v v) -&gt; OnePresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#HandleOne"><span class="hs-identifier hs-var">HandleOne</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Term s k
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679283477"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679283477"><span class="hs-identifier hs-var">vr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v))
</span><a href="#local-6989586621679283473"><span class="hs-identifier hs-var">combine</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v)) -&gt; Term s v -&gt; Term s (v :--&gt; v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679283471"><span class="hs-identifier hs-var">defLeft</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; v) -&gt; Term s v -&gt; Term s v
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679283477"><span class="hs-identifier hs-var">vr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1479"></span><span>
</span><span id="line-1480"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#intersectionMergeHandler"><span class="hs-identifier hs-type">intersectionMergeHandler</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1481"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679283478"><span class="annot"><a href="#local-6989586621679283478"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679283479"><span class="annot"><a href="#local-6989586621679283479"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679283480"><span class="annot"><a href="#local-6989586621679283480"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-1482"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Commutativity"><span class="hs-identifier hs-type">Commutativity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1483"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679283478"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679283480"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679283480"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679283480"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1484"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-type">SomeMergeHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679283479"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679283480"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679283478"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-1485"></span><span id="intersectionMergeHandler"><span class="annot"><span class="annottext">intersectionMergeHandler :: forall (s :: S) (k :: PType) (v :: PType).
Commutativity
-&gt; Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s
</span><a href="Plutarch.LedgerApi.AssocMap.html#intersectionMergeHandler"><span class="hs-identifier hs-var hs-var">intersectionMergeHandler</span></a></span></span><span> </span><span class="annot"><span class="annottext">Commutativity
</span><a href="Plutarch.LedgerApi.AssocMap.html#NonCommutative"><span class="hs-identifier hs-var">NonCommutative</span></a></span><span> </span><span id="local-6989586621679283481"><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v))
</span><a href="#local-6989586621679283481"><span class="hs-identifier hs-var">merge</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1486"></span><span>  </span><span class="annot"><span class="annottext">MergeHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; SomeMergeHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandler_ f k v -&gt; SomeMergeHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-var">SomeMergeHandler</span></a></span><span> </span><span class="annot"><span class="annottext">(MergeHandler_ (-&gt;) (Term s k) (Term s v)
 -&gt; SomeMergeHandler_ (-&gt;) (Term s k) (Term s v))
-&gt; MergeHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; SomeMergeHandler_ (-&gt;) (Term s k) (Term s v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">BothPresentHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; MergeHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
BothPresentHandler_ f k v
-&gt; OnePresentHandler_ f k v
-&gt; OnePresentHandler_ f k v
-&gt; MergeHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandler"><span class="hs-identifier hs-var">MergeHandler</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Term s k -&gt; (Term s v -&gt; (Term s v -&gt; Term s v)))
-&gt; BothPresentHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
f k (f v (f v v)) -&gt; BothPresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#HandleBoth"><span class="hs-identifier hs-var">HandleBoth</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Term s k
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679283482"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679283482"><span class="hs-identifier hs-var">vl</span></a></span></span><span> </span><span id="local-6989586621679283483"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679283483"><span class="hs-identifier hs-var">vr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v))
</span><a href="#local-6989586621679283481"><span class="hs-identifier hs-var">merge</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v)) -&gt; Term s v -&gt; Term s (v :--&gt; v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679283482"><span class="hs-identifier hs-var">vl</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; v) -&gt; Term s v -&gt; Term s v
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679283483"><span class="hs-identifier hs-var">vr</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v. OnePresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v. OnePresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span>
</span><span id="line-1487"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#intersectionMergeHandler"><span class="hs-identifier hs-var">intersectionMergeHandler</span></a></span><span> </span><span class="annot"><span class="annottext">Commutativity
</span><a href="Plutarch.LedgerApi.AssocMap.html#Commutative"><span class="hs-identifier hs-var">Commutative</span></a></span><span> </span><span id="local-6989586621679283484"><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v))
</span><a href="#local-6989586621679283484"><span class="hs-identifier hs-var">merge</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1488"></span><span>  </span><span class="annot"><span class="annottext">MergeHandlerCommutative_ (-&gt;) (Term s k) (Term s v)
-&gt; SomeMergeHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandlerCommutative_ f k v -&gt; SomeMergeHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#SomeMergeHandlerCommutative"><span class="hs-identifier hs-var">SomeMergeHandlerCommutative</span></a></span><span> </span><span class="annot"><span class="annottext">(MergeHandlerCommutative_ (-&gt;) (Term s k) (Term s v)
 -&gt; SomeMergeHandler_ (-&gt;) (Term s k) (Term s v))
-&gt; MergeHandlerCommutative_ (-&gt;) (Term s k) (Term s v)
-&gt; SomeMergeHandler_ (-&gt;) (Term s k) (Term s v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1489"></span><span>    </span><span class="annot"><span class="annottext">BothPresentHandlerCommutative_ (-&gt;) (Term s k) (Term s v)
-&gt; OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; MergeHandlerCommutative_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
BothPresentHandlerCommutative_ f k v
-&gt; OnePresentHandler_ f k v -&gt; MergeHandlerCommutative_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandlerCommutative"><span class="hs-identifier hs-var">MergeHandlerCommutative</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Term s k -&gt; (Term s v -&gt; (Term s v -&gt; Term s v)))
-&gt; BothPresentHandlerCommutative_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
f k (f v (f v v)) -&gt; BothPresentHandlerCommutative_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#HandleBothCommutative"><span class="hs-identifier hs-var">HandleBothCommutative</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Term s k
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679283485"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679283485"><span class="hs-identifier hs-var">vl</span></a></span></span><span> </span><span id="local-6989586621679283486"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679283486"><span class="hs-identifier hs-var">vr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v))
</span><a href="#local-6989586621679283484"><span class="hs-identifier hs-var">merge</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v)) -&gt; Term s v -&gt; Term s (v :--&gt; v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679283485"><span class="hs-identifier hs-var">vl</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; v) -&gt; Term s v -&gt; Term s v
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679283486"><span class="hs-identifier hs-var">vr</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v. OnePresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span>
</span><span id="line-1490"></span><span>
</span><span id="line-1491"></span><span class="hs-comment">-- We have to clone this in here or we get a dependency cycle</span><span>
</span><span id="line-1492"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#passertPJust"><span class="hs-identifier hs-type">passertPJust</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281112"><span class="annot"><a href="#local-6989586621679281112"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679281111"><span class="annot"><a href="#local-6989586621679281111"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679281111"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PString</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PMaybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679281112"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679281112"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1493"></span><span id="passertPJust"><span class="annot"><span class="annottext">passertPJust :: forall (a :: PType) (s :: S).
Term s (PString :--&gt; (PMaybe a :--&gt; a))
</span><a href="Plutarch.LedgerApi.AssocMap.html#passertPJust"><span class="hs-identifier hs-var hs-var">passertPJust</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm (PString :--&gt; (PMaybe a :--&gt; a))
-&gt; Term s (PString :--&gt; (PMaybe a :--&gt; a))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm (PString :--&gt; (PMaybe a :--&gt; a))
 -&gt; Term s (PString :--&gt; (PMaybe a :--&gt; a)))
-&gt; ClosedTerm (PString :--&gt; (PMaybe a :--&gt; a))
-&gt; Term s (PString :--&gt; (PMaybe a :--&gt; a))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1494"></span><span>  </span><span class="annot"><span class="annottext">(Term s PString -&gt; Term s (PMaybe a) -&gt; Term s a)
-&gt; Term s (PString :--&gt; (PMaybe a :--&gt; a))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMaybe a) -&gt; Term s a)
-&gt; Term s (c :--&gt; (PMaybe a :--&gt; a))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s PString -&gt; Term s (PMaybe a) -&gt; Term s a)
 -&gt; Term s (PString :--&gt; (PMaybe a :--&gt; a)))
-&gt; (Term s PString -&gt; Term s (PMaybe a) -&gt; Term s a)
-&gt; Term s (PString :--&gt; (PMaybe a :--&gt; a))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679283496"><span class="annot"><span class="annottext">Term s PString
</span><a href="#local-6989586621679283496"><span class="hs-identifier hs-var">emsg</span></a></span></span><span> </span><span id="local-6989586621679283497"><span class="annot"><span class="annottext">Term s (PMaybe a)
</span><a href="#local-6989586621679283497"><span class="hs-identifier hs-var">mv'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PMaybe a) -&gt; (PMaybe a s -&gt; Term s a) -&gt; Term s a
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMaybe a)
</span><a href="#local-6989586621679283497"><span class="hs-identifier hs-var">mv'</span></a></span><span> </span><span class="annot"><span class="annottext">((PMaybe a s -&gt; Term s a) -&gt; Term s a)
-&gt; (PMaybe a s -&gt; Term s a) -&gt; Term s a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-1495"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">PJust</span></span><span> </span><span id="local-6989586621679283498"><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679283498"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679283498"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-1496"></span><span>    </span><span class="annot"><span class="annottext">PMaybe a s
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s PString -&gt; Term s a
forall (a :: PType) (s :: S). Term s PString -&gt; Term s a
</span><span class="hs-identifier hs-var">ptraceInfoError</span></span><span> </span><span class="annot"><span class="annottext">Term s PString
</span><a href="#local-6989586621679283496"><span class="hs-identifier hs-var">emsg</span></a></span><span>
</span><span id="line-1497"></span></pre></body></html>